<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #20794d; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007ba5; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #007ba5; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #007ba5; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #20794d; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>

  <!--radix_placeholder_meta_tags-->
<title>Uncertain times: EV/EBITDA valuation multiple: some data</title>

<meta property="description" itemprop="description" content="A closer empirical look at the EV/EBITDA multiple."/>

<link rel="canonical" href="https://www.christoph-jaeckel.com/posts/2021-01-17-evebitda-valuation-multiple-the-data/"/>

<!--  https://schema.org/Article -->
<meta property="article:published" itemprop="datePublished" content="2021-01-25"/>
<meta property="article:created" itemprop="dateCreated" content="2021-01-25"/>
<meta name="article:author" content="Christoph Jäckel"/>

<!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
<meta property="og:title" content="Uncertain times: EV/EBITDA valuation multiple: some data"/>
<meta property="og:type" content="article"/>
<meta property="og:description" content="A closer empirical look at the EV/EBITDA multiple."/>
<meta property="og:url" content="https://www.christoph-jaeckel.com/posts/2021-01-17-evebitda-valuation-multiple-the-data/"/>
<meta property="og:image" content="https://www.christoph-jaeckel.com/posts/2021-01-17-evebitda-valuation-multiple-the-data/evebitda-valuation-multiple-the-data_files/figure-html5/ggpairs_Plot-1.png"/>
<meta property="og:image:width" content="1248"/>
<meta property="og:image:height" content="768"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:site_name" content="Uncertain times"/>

<!--  https://dev.twitter.com/cards/types/summary -->
<meta property="twitter:card" content="summary_large_image"/>
<meta property="twitter:title" content="Uncertain times: EV/EBITDA valuation multiple: some data"/>
<meta property="twitter:description" content="A closer empirical look at the EV/EBITDA multiple."/>
<meta property="twitter:url" content="https://www.christoph-jaeckel.com/posts/2021-01-17-evebitda-valuation-multiple-the-data/"/>
<meta property="twitter:image" content="https://www.christoph-jaeckel.com/posts/2021-01-17-evebitda-valuation-multiple-the-data/evebitda-valuation-multiple-the-data_files/figure-html5/ggpairs_Plot-1.png"/>
<meta property="twitter:image:width" content="1248"/>
<meta property="twitter:image:height" content="768"/>

<!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

<script type="text/json" id="radix-rmarkdown-metadata">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","base_url","date","output","categories","draft","canonical_url"]}},"value":[{"type":"character","attributes":{},"value":["EV/EBITDA valuation multiple: some data"]},{"type":"character","attributes":{},"value":["A closer empirical look at the EV/EBITDA multiple."]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name"]}},"value":[{"type":"character","attributes":{},"value":["Christoph Jäckel"]}]}]},{"type":"character","attributes":{},"value":["https://github.com/christophj/cjaeckel.github.io/"]},{"type":"character","attributes":{},"value":["01-25-2021"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["self_contained","code_folding","toc"]}},"value":[{"type":"logical","attributes":{},"value":[false]},{"type":"logical","attributes":{},"value":[true]},{"type":"logical","attributes":{},"value":[true]}]}]},{"type":"character","attributes":{},"value":["Valuation","Data"]},{"type":"logical","attributes":{},"value":[false]},{"type":"character","attributes":{},"value":["https://www.christoph-jaeckel.com/posts/2021-01-17-evebitda-valuation-multiple-the-data/"]}]}
</script>
<!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["evebitda-valuation-multiple-the-data_files/anchor-4.2.2/anchor.min.js","evebitda-valuation-multiple-the-data_files/bowser-1.9.3/bowser.min.js","evebitda-valuation-multiple-the-data_files/distill-2.2.21/template.v2.js","evebitda-valuation-multiple-the-data_files/figure-html5/Boxplot-1.png","evebitda-valuation-multiple-the-data_files/figure-html5/Correlation-1.png","evebitda-valuation-multiple-the-data_files/figure-html5/ggpairs_Plot-1.png","evebitda-valuation-multiple-the-data_files/figure-html5/Number_of_observations-1.png","evebitda-valuation-multiple-the-data_files/figure-html5/Scatterplot_CAPEX_Depreciation-1.png","evebitda-valuation-multiple-the-data_files/figure-html5/Sector_mutiples_over_time-1.png","evebitda-valuation-multiple-the-data_files/jquery-1.11.3/jquery.min.js","evebitda-valuation-multiple-the-data_files/kePrint-0.0.1/kePrint.js","evebitda-valuation-multiple-the-data_files/lightable-0.0.1/lightable.css","evebitda-valuation-multiple-the-data_files/pagedtable-1.1/css/pagedtable.css","evebitda-valuation-multiple-the-data_files/pagedtable-1.1/js/pagedtable.js","evebitda-valuation-multiple-the-data_files/popper-2.6.0/popper.min.js","evebitda-valuation-multiple-the-data_files/tippy-6.2.7/tippy-bundle.umd.min.js","evebitda-valuation-multiple-the-data_files/tippy-6.2.7/tippy-light-border.css","evebitda-valuation-multiple-the-data_files/tippy-6.2.7/tippy.css","evebitda-valuation-multiple-the-data_files/tippy-6.2.7/tippy.umd.min.js","evebitda-valuation-multiple-the-data_files/webcomponents-2.0.0/webcomponents.js"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
<meta name="distill:offset" content="../.."/>

<script type="application/javascript">

  window.headroom_prevent_pin = false;

  window.document.addEventListener("DOMContentLoaded", function (event) {

    // initialize headroom for banner
    var header = $('header').get(0);
    var headerHeight = header.offsetHeight;
    var headroom = new Headroom(header, {
      tolerance: 5,
      onPin : function() {
        if (window.headroom_prevent_pin) {
          window.headroom_prevent_pin = false;
          headroom.unpin();
        }
      }
    });
    headroom.init();
    if(window.location.hash)
      headroom.unpin();
    $(header).addClass('headroom--transition');

    // offset scroll location for banner on hash change
    // (see: https://github.com/WickyNilliams/headroom.js/issues/38)
    window.addEventListener("hashchange", function(event) {
      window.scrollTo(0, window.pageYOffset - (headerHeight + 25));
    });

    // responsive menu
    $('.distill-site-header').each(function(i, val) {
      var topnav = $(this);
      var toggle = topnav.find('.nav-toggle');
      toggle.on('click', function() {
        topnav.toggleClass('responsive');
      });
    });

    // nav dropdowns
    $('.nav-dropbtn').click(function(e) {
      $(this).next('.nav-dropdown-content').toggleClass('nav-dropdown-active');
      $(this).parent().siblings('.nav-dropdown')
         .children('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $("body").click(function(e){
      $('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $(".nav-dropdown").click(function(e){
      e.stopPropagation();
    });
  });
</script>

<style type="text/css">

/* Theme (user-documented overrideables for nav appearance) */

.distill-site-nav {
  color: rgba(255, 255, 255, 0.8);
  background-color: #0F2E3D;
  font-size: 15px;
  font-weight: 300;
}

.distill-site-nav a {
  color: inherit;
  text-decoration: none;
}

.distill-site-nav a:hover {
  color: white;
}

@media print {
  .distill-site-nav {
    display: none;
  }
}

.distill-site-header {

}

.distill-site-footer {

}


/* Site Header */

.distill-site-header {
  width: 100%;
  box-sizing: border-box;
  z-index: 3;
}

.distill-site-header .nav-left {
  display: inline-block;
  margin-left: 8px;
}

@media screen and (max-width: 768px) {
  .distill-site-header .nav-left {
    margin-left: 0;
  }
}


.distill-site-header .nav-right {
  float: right;
  margin-right: 8px;
}

.distill-site-header a,
.distill-site-header .title {
  display: inline-block;
  text-align: center;
  padding: 14px 10px 14px 10px;
}

.distill-site-header .title {
  font-size: 18px;
  min-width: 150px;
}

.distill-site-header .logo {
  padding: 0;
}

.distill-site-header .logo img {
  display: none;
  max-height: 20px;
  width: auto;
  margin-bottom: -4px;
}

.distill-site-header .nav-image img {
  max-height: 18px;
  width: auto;
  display: inline-block;
  margin-bottom: -3px;
}



@media screen and (min-width: 1000px) {
  .distill-site-header .logo img {
    display: inline-block;
  }
  .distill-site-header .nav-left {
    margin-left: 20px;
  }
  .distill-site-header .nav-right {
    margin-right: 20px;
  }
  .distill-site-header .title {
    padding-left: 12px;
  }
}


.distill-site-header .nav-toggle {
  display: none;
}

.nav-dropdown {
  display: inline-block;
  position: relative;
}

.nav-dropdown .nav-dropbtn {
  border: none;
  outline: none;
  color: rgba(255, 255, 255, 0.8);
  padding: 16px 10px;
  background-color: transparent;
  font-family: inherit;
  font-size: inherit;
  font-weight: inherit;
  margin: 0;
  margin-top: 1px;
  z-index: 2;
}

.nav-dropdown-content {
  display: none;
  position: absolute;
  background-color: white;
  min-width: 200px;
  border: 1px solid rgba(0,0,0,0.15);
  border-radius: 4px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
  z-index: 1;
  margin-top: 2px;
  white-space: nowrap;
  padding-top: 4px;
  padding-bottom: 4px;
}

.nav-dropdown-content hr {
  margin-top: 4px;
  margin-bottom: 4px;
  border: none;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.nav-dropdown-active {
  display: block;
}

.nav-dropdown-content a, .nav-dropdown-content .nav-dropdown-header {
  color: black;
  padding: 6px 24px;
  text-decoration: none;
  display: block;
  text-align: left;
}

.nav-dropdown-content .nav-dropdown-header {
  display: block;
  padding: 5px 24px;
  padding-bottom: 0;
  text-transform: uppercase;
  font-size: 14px;
  color: #999999;
  white-space: nowrap;
}

.nav-dropdown:hover .nav-dropbtn {
  color: white;
}

.nav-dropdown-content a:hover {
  background-color: #ddd;
  color: black;
}

.nav-right .nav-dropdown-content {
  margin-left: -45%;
  right: 0;
}

@media screen and (max-width: 768px) {
  .distill-site-header a, .distill-site-header .nav-dropdown  {display: none;}
  .distill-site-header a.nav-toggle {
    float: right;
    display: block;
  }
  .distill-site-header .title {
    margin-left: 0;
  }
  .distill-site-header .nav-right {
    margin-right: 0;
  }
  .distill-site-header {
    overflow: hidden;
  }
  .nav-right .nav-dropdown-content {
    margin-left: 0;
  }
}


@media screen and (max-width: 768px) {
  .distill-site-header.responsive {position: relative; min-height: 500px; }
  .distill-site-header.responsive a.nav-toggle {
    position: absolute;
    right: 0;
    top: 0;
  }
  .distill-site-header.responsive a,
  .distill-site-header.responsive .nav-dropdown {
    display: block;
    text-align: left;
  }
  .distill-site-header.responsive .nav-left,
  .distill-site-header.responsive .nav-right {
    width: 100%;
  }
  .distill-site-header.responsive .nav-dropdown {float: none;}
  .distill-site-header.responsive .nav-dropdown-content {position: relative;}
  .distill-site-header.responsive .nav-dropdown .nav-dropbtn {
    display: block;
    width: 100%;
    text-align: left;
  }
}

/* Site Footer */

.distill-site-footer {
  width: 100%;
  overflow: hidden;
  box-sizing: border-box;
  z-index: 3;
  margin-top: 30px;
  padding-top: 30px;
  padding-bottom: 30px;
  text-align: center;
}

/* Headroom */

d-title {
  padding-top: 6rem;
}

@media print {
  d-title {
    padding-top: 4rem;
  }
}

.headroom {
  z-index: 1000;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
}

.headroom--transition {
  transition: all .4s ease-in-out;
}

.headroom--unpinned {
  top: -100px;
}

.headroom--pinned {
  top: 0;
}

/* adjust viewport for navbar height */
/* helps vertically center bootstrap (non-distill) content */
.min-vh-100 {
  min-height: calc(100vh - 100px) !important;
}

</style>

<script src="../../site_libs/jquery-1.11.3/jquery.min.js"></script>
<link href="../../site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet"/>
<link href="../../site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet"/>
<script src="../../site_libs/headroom-0.9.4/headroom.min.js"></script>
<script src="../../site_libs/autocomplete-0.37.1/autocomplete.min.js"></script>
<script src="../../site_libs/fuse-6.4.1/fuse.min.js"></script>

<script type="application/javascript">

function getMeta(metaName) {
  var metas = document.getElementsByTagName('meta');
  for (let i = 0; i < metas.length; i++) {
    if (metas[i].getAttribute('name') === metaName) {
      return metas[i].getAttribute('content');
    }
  }
  return '';
}

function offsetURL(url) {
  var offset = getMeta('distill:offset');
  return offset ? offset + '/' + url : url;
}

function createFuseIndex() {

  // create fuse index
  var options = {
    keys: [
      { name: 'title', weight: 20 },
      { name: 'categories', weight: 15 },
      { name: 'description', weight: 10 },
      { name: 'contents', weight: 5 },
    ],
    ignoreLocation: true,
    threshold: 0
  };
  var fuse = new window.Fuse([], options);

  // fetch the main search.json
  return fetch(offsetURL('search.json'))
    .then(function(response) {
      if (response.status == 200) {
        return response.json().then(function(json) {
          // index main articles
          json.articles.forEach(function(article) {
            fuse.add(article);
          });
          // download collections and index their articles
          return Promise.all(json.collections.map(function(collection) {
            return fetch(offsetURL(collection)).then(function(response) {
              if (response.status === 200) {
                return response.json().then(function(articles) {
                  articles.forEach(function(article) {
                    fuse.add(article);
                  });
                })
              } else {
                return Promise.reject(
                  new Error('Unexpected status from search index request: ' +
                            response.status)
                );
              }
            });
          })).then(function() {
            return fuse;
          });
        });

      } else {
        return Promise.reject(
          new Error('Unexpected status from search index request: ' +
                      response.status)
        );
      }
    });
}

window.document.addEventListener("DOMContentLoaded", function (event) {

  // get search element (bail if we don't have one)
  var searchEl = window.document.getElementById('distill-search');
  if (!searchEl)
    return;

  createFuseIndex()
    .then(function(fuse) {

      // make search box visible
      searchEl.classList.remove('hidden');

      // initialize autocomplete
      var options = {
        autoselect: true,
        hint: false,
        minLength: 2,
      };
      window.autocomplete(searchEl, options, [{
        source: function(query, callback) {
          const searchOptions = {
            isCaseSensitive: false,
            shouldSort: true,
            minMatchCharLength: 2,
            limit: 10,
          };
          var results = fuse.search(query, searchOptions);
          callback(results
            .map(function(result) { return result.item; })
          );
        },
        templates: {
          suggestion: function(suggestion) {
            var img = suggestion.preview && Object.keys(suggestion.preview).length > 0
              ? `<img src="${offsetURL(suggestion.preview)}"</img>`
              : '';
            var html = `
              <div class="search-item">
                <h3>${suggestion.title}</h3>
                <div class="search-item-description">
                  ${suggestion.description || ''}
                </div>
                <div class="search-item-preview">
                  ${img}
                </div>
              </div>
            `;
            return html;
          }
        }
      }]).on('autocomplete:selected', function(event, suggestion) {
        window.location.href = offsetURL(suggestion.path);
      });
      // remove inline display style on autocompleter (we want to
      // manage responsive display via css)
      $('.algolia-autocomplete').css("display", "");
    })
    .catch(function(error) {
      console.log(error);
    });

});

</script>

<style type="text/css">

.nav-search {
  font-size: x-small;
}

/* Algolioa Autocomplete */

.algolia-autocomplete {
  display: inline-block;
  margin-left: 10px;
  vertical-align: sub;
  background-color: white;
  color: black;
  padding: 6px;
  padding-top: 8px;
  padding-bottom: 0;
  border-radius: 6px;
  border: 1px #0F2E3D solid;
  width: 180px;
}


@media screen and (max-width: 768px) {
  .distill-site-nav .algolia-autocomplete {
    display: none;
    visibility: hidden;
  }
  .distill-site-nav.responsive .algolia-autocomplete {
    display: inline-block;
    visibility: visible;
  }
  .distill-site-nav.responsive .algolia-autocomplete .aa-dropdown-menu {
    margin-left: 0;
    width: 400px;
    max-height: 400px;
  }
}

.algolia-autocomplete .aa-input, .algolia-autocomplete .aa-hint {
  width: 90%;
  outline: none;
  border: none;
}

.algolia-autocomplete .aa-hint {
  color: #999;
}
.algolia-autocomplete .aa-dropdown-menu {
  width: 550px;
  max-height: 70vh;
  overflow-x: visible;
  overflow-y: scroll;
  padding: 5px;
  margin-top: 3px;
  margin-left: -150px;
  background-color: #fff;
  border-radius: 5px;
  border: 1px solid #999;
  border-top: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion {
  cursor: pointer;
  padding: 5px 4px;
  border-bottom: 1px solid #eee;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion:last-of-type {
  border-bottom: none;
  margin-bottom: 2px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item {
  overflow: hidden;
  font-size: 0.8em;
  line-height: 1.4em;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item h3 {
  font-size: 1rem;
  margin-block-start: 0;
  margin-block-end: 5px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-description {
  display: inline-block;
  overflow: hidden;
  height: 2.8em;
  width: 80%;
  margin-right: 4%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview {
  display: inline-block;
  width: 15%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img {
  height: 3em;
  width: auto;
  display: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img[src] {
  display: initial;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion.aa-cursor {
  background-color: #eee;
}
.algolia-autocomplete .aa-dropdown-menu .aa-suggestion em {
  font-weight: bold;
  font-style: normal;
}

</style>


<!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

<style type="text/css">

body {
  background-color: white;
}

.pandoc-table {
  width: 100%;
}

.pandoc-table>caption {
  margin-bottom: 10px;
}

.pandoc-table th:not([align]) {
  text-align: left;
}

.pagedtable-footer {
  font-size: 15px;
}

d-byline .byline {
  grid-template-columns: 2fr 2fr;
}

d-byline .byline h3 {
  margin-block-start: 1.5em;
}

d-byline .byline .authors-affiliations h3 {
  margin-block-start: 0.5em;
}

.authors-affiliations .orcid-id {
  width: 16px;
  height:16px;
  margin-left: 4px;
  margin-right: 4px;
  vertical-align: middle;
  padding-bottom: 2px;
}

d-title .dt-tags {
  margin-top: 1em;
  grid-column: text;
}

.dt-tags .dt-tag {
  text-decoration: none;
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0em 0.4em;
  margin-right: 0.5em;
  margin-bottom: 0.4em;
  font-size: 70%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

d-article table.gt_table td,
d-article table.gt_table th {
  border-bottom: none;
}

.html-widget {
  margin-bottom: 2.0em;
}

.l-screen-inset {
  padding-right: 16px;
}

.l-screen .caption {
  margin-left: 10px;
}

.shaded {
  background: rgb(247, 247, 247);
  padding-top: 20px;
  padding-bottom: 20px;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .html-widget {
  margin-bottom: 0;
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .shaded-content {
  background: white;
}

.text-output {
  margin-top: 0;
  line-height: 1.5em;
}

.hidden {
  display: none !important;
}

d-article {
  padding-top: 2.5rem;
  padding-bottom: 30px;
}

d-appendix {
  padding-top: 30px;
}

d-article>p>img {
  width: 100%;
}

d-article h2 {
  margin: 1rem 0 1.5rem 0;
}

d-article h3 {
  margin-top: 1.5rem;
}

d-article iframe {
  border: 1px solid rgba(0, 0, 0, 0.1);
  margin-bottom: 2.0em;
  width: 100%;
}

/* Tweak code blocks */

d-article div.sourceCode code,
d-article pre code {
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
}

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: auto;
}

d-article div.sourceCode {
  background-color: white;
}

d-article div.sourceCode pre {
  padding-left: 10px;
  font-size: 12px;
  border-left: 2px solid rgba(0,0,0,0.1);
}

d-article pre {
  font-size: 12px;
  color: black;
  background: none;
  margin-top: 0;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

d-article pre a {
  border-bottom: none;
}

d-article pre a:hover {
  border-bottom: none;
  text-decoration: underline;
}

d-article details {
  grid-column: text;
  margin-bottom: 0.8em;
}

@media(min-width: 768px) {

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: visible !important;
}

d-article div.sourceCode pre {
  padding-left: 18px;
  font-size: 14px;
}

d-article pre {
  font-size: 14px;
}

}

figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

/* CSS for d-contents */

.d-contents {
  grid-column: text;
  color: rgba(0,0,0,0.8);
  font-size: 0.9em;
  padding-bottom: 1em;
  margin-bottom: 1em;
  padding-bottom: 0.5em;
  margin-bottom: 1em;
  padding-left: 0.25em;
  justify-self: start;
}

@media(min-width: 1000px) {
  .d-contents.d-contents-float {
    height: 0;
    grid-column-start: 1;
    grid-column-end: 4;
    justify-self: center;
    padding-right: 3em;
    padding-left: 2em;
  }
}

.d-contents nav h3 {
  font-size: 18px;
  margin-top: 0;
  margin-bottom: 1em;
}

.d-contents li {
  list-style-type: none
}

.d-contents nav > ul {
  padding-left: 0;
}

.d-contents ul {
  padding-left: 1em
}

.d-contents nav ul li {
  margin-top: 0.6em;
  margin-bottom: 0.2em;
}

.d-contents nav a {
  font-size: 13px;
  border-bottom: none;
  text-decoration: none
  color: rgba(0, 0, 0, 0.8);
}

.d-contents nav a:hover {
  text-decoration: underline solid rgba(0, 0, 0, 0.6)
}

.d-contents nav > ul > li > a {
  font-weight: 600;
}

.d-contents nav > ul > li > ul {
  font-weight: inherit;
}

.d-contents nav > ul > li > ul > li {
  margin-top: 0.2em;
}


.d-contents nav ul {
  margin-top: 0;
  margin-bottom: 0.25em;
}

.d-article-with-toc h2:nth-child(2) {
  margin-top: 0;
}


/* Figure */

.figure {
  position: relative;
  margin-bottom: 2.5em;
  margin-top: 1.5em;
}

.figure img {
  width: 100%;
}

.figure .caption {
  color: rgba(0, 0, 0, 0.6);
  font-size: 12px;
  line-height: 1.5em;
}

.figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

.figure .caption a {
  color: rgba(0, 0, 0, 0.6);
}

.figure .caption b,
.figure .caption strong, {
  font-weight: 600;
  color: rgba(0, 0, 0, 1.0);
}

/* Citations */

d-article .citation {
  color: inherit;
  cursor: inherit;
}

div.hanging-indent{
  margin-left: 1em; text-indent: -1em;
}

/* Citation hover box */

.tippy-box[data-theme~=light-border] {
  background-color: rgba(250, 250, 250, 0.95);
}

.tippy-content > p {
  margin-bottom: 0;
  padding: 2px;
}


/* Tweak 1000px media break to show more text */

@media(min-width: 1000px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 16px;
  }

  .grid {
    grid-column-gap: 16px;
  }

  d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
  }
  figure .caption, .figure .caption, figure figcaption {
    font-size: 13px;
  }
}

@media(min-width: 1180px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 32px;
  }

  .grid {
    grid-column-gap: 32px;
  }
}


/* Get the citation styles for the appendix (not auto-injected on render since
   we do our own rendering of the citation appendix) */

d-appendix .citation-appendix,
.d-appendix .citation-appendix {
  font-size: 11px;
  line-height: 15px;
  border-left: 1px solid rgba(0, 0, 0, 0.1);
  padding-left: 18px;
  border: 1px solid rgba(0,0,0,0.1);
  background: rgba(0, 0, 0, 0.02);
  padding: 10px 18px;
  border-radius: 3px;
  color: rgba(150, 150, 150, 1);
  overflow: hidden;
  margin-top: -12px;
  white-space: pre-wrap;
  word-wrap: break-word;
}

/* Include appendix styles here so they can be overridden */

d-appendix {
  contain: layout style;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-top: 60px;
  margin-bottom: 0;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  color: rgba(0,0,0,0.5);
  padding-top: 60px;
  padding-bottom: 48px;
}

d-appendix h3 {
  grid-column: page-start / text-start;
  font-size: 15px;
  font-weight: 500;
  margin-top: 1em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.65);
}

d-appendix h3 + * {
  margin-top: 1em;
}

d-appendix ol {
  padding: 0 0 0 15px;
}

@media (min-width: 768px) {
  d-appendix ol {
    padding: 0 0 0 30px;
    margin-left: -30px;
  }
}

d-appendix li {
  margin-bottom: 1em;
}

d-appendix a {
  color: rgba(0, 0, 0, 0.6);
}

d-appendix > * {
  grid-column: text;
}

d-appendix > d-footnote-list,
d-appendix > d-citation-list,
d-appendix > distill-appendix {
  grid-column: screen;
}

/* Include footnote styles here so they can be overridden */

d-footnote-list {
  contain: layout style;
}

d-footnote-list > * {
  grid-column: text;
}

d-footnote-list a.footnote-backlink {
  color: rgba(0,0,0,0.3);
  padding-left: 0.5em;
}



/* Anchor.js */

.anchorjs-link {
  /*transition: all .25s linear; */
  text-decoration: none;
  border-bottom: none;
}
*:hover > .anchorjs-link {
  margin-left: -1.125em !important;
  text-decoration: none;
  border-bottom: none;
}

/* Social footer */

.social_footer {
  margin-top: 30px;
  margin-bottom: 0;
  color: rgba(0,0,0,0.67);
}

.disqus-comments {
  margin-right: 30px;
}

.disqus-comment-count {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  cursor: pointer;
}

#disqus_thread {
  margin-top: 30px;
}

.article-sharing a {
  border-bottom: none;
  margin-right: 8px;
}

.article-sharing a:hover {
  border-bottom: none;
}

.sidebar-section.subscribe {
  font-size: 12px;
  line-height: 1.6em;
}

.subscribe p {
  margin-bottom: 0.5em;
}


.article-footer .subscribe {
  font-size: 15px;
  margin-top: 45px;
}


.sidebar-section.custom {
  font-size: 12px;
  line-height: 1.6em;
}

.custom p {
  margin-bottom: 0.5em;
}

/* Styles for listing layout (hide title) */
.layout-listing d-title, .layout-listing .d-title {
  display: none;
}

/* Styles for posts lists (not auto-injected) */


.posts-with-sidebar {
  padding-left: 45px;
  padding-right: 45px;
}

.posts-list .description h2,
.posts-list .description p {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
}

.posts-list .description h2 {
  font-weight: 700;
  border-bottom: none;
  padding-bottom: 0;
}

.posts-list h2.post-tag {
  border-bottom: 1px solid rgba(0, 0, 0, 0.2);
  padding-bottom: 12px;
}
.posts-list {
  margin-top: 60px;
  margin-bottom: 24px;
}

.posts-list .post-preview {
  text-decoration: none;
  overflow: hidden;
  display: block;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  padding: 24px 0;
}

.post-preview-last {
  border-bottom: none !important;
}

.posts-list .posts-list-caption {
  grid-column: screen;
  font-weight: 400;
}

.posts-list .post-preview h2 {
  margin: 0 0 6px 0;
  line-height: 1.2em;
  font-style: normal;
  font-size: 24px;
}

.posts-list .post-preview p {
  margin: 0 0 12px 0;
  line-height: 1.4em;
  font-size: 16px;
}

.posts-list .post-preview .thumbnail {
  box-sizing: border-box;
  margin-bottom: 24px;
  position: relative;
  max-width: 500px;
}
.posts-list .post-preview img {
  width: 100%;
  display: block;
}

.posts-list .metadata {
  font-size: 12px;
  line-height: 1.4em;
  margin-bottom: 18px;
}

.posts-list .metadata > * {
  display: inline-block;
}

.posts-list .metadata .publishedDate {
  margin-right: 2em;
}

.posts-list .metadata .dt-authors {
  display: block;
  margin-top: 0.3em;
  margin-right: 2em;
}

.posts-list .dt-tags {
  display: block;
  line-height: 1em;
}

.posts-list .dt-tags .dt-tag {
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0.3em 0.4em;
  margin-right: 0.2em;
  margin-bottom: 0.4em;
  font-size: 60%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

.posts-list img {
  opacity: 1;
}

.posts-list img[data-src] {
  opacity: 0;
}

.posts-more {
  clear: both;
}


.posts-sidebar {
  font-size: 16px;
}

.posts-sidebar h3 {
  font-size: 16px;
  margin-top: 0;
  margin-bottom: 0.5em;
  font-weight: 400;
  text-transform: uppercase;
}

.sidebar-section {
  margin-bottom: 30px;
}

.categories ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
}

.categories li {
  color: rgba(0, 0, 0, 0.8);
  margin-bottom: 0;
}

.categories li>a {
  border-bottom: none;
}

.categories li>a:hover {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
}

.categories .active {
  font-weight: 600;
}

.categories .category-count {
  color: rgba(0, 0, 0, 0.4);
}


@media(min-width: 768px) {
  .posts-list .post-preview h2 {
    font-size: 26px;
  }
  .posts-list .post-preview .thumbnail {
    float: right;
    width: 30%;
    margin-bottom: 0;
  }
  .posts-list .post-preview .description {
    float: left;
    width: 45%;
  }
  .posts-list .post-preview .metadata {
    float: left;
    width: 20%;
    margin-top: 8px;
  }
  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.5em;
    font-size: 16px;
  }
  .posts-with-sidebar .posts-list {
    float: left;
    width: 75%;
  }
  .posts-with-sidebar .posts-sidebar {
    float: right;
    width: 20%;
    margin-top: 60px;
    padding-top: 24px;
    padding-bottom: 24px;
  }
}


/* Improve display for browsers without grid (IE/Edge <= 15) */

.downlevel {
  line-height: 1.6em;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  margin: 0;
}

.downlevel .d-title {
  padding-top: 6rem;
  padding-bottom: 1.5rem;
}

.downlevel .d-title h1 {
  font-size: 50px;
  font-weight: 700;
  line-height: 1.1em;
  margin: 0 0 0.5rem;
}

.downlevel .d-title p {
  font-weight: 300;
  font-size: 1.2rem;
  line-height: 1.55em;
  margin-top: 0;
}

.downlevel .d-byline {
  padding-top: 0.8em;
  padding-bottom: 0.8em;
  font-size: 0.8rem;
  line-height: 1.8em;
}

.downlevel .section-separator {
  border: none;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
}

.downlevel .d-article {
  font-size: 1.06rem;
  line-height: 1.7em;
  padding-top: 1rem;
  padding-bottom: 2rem;
}


.downlevel .d-appendix {
  padding-left: 0;
  padding-right: 0;
  max-width: none;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.5);
  padding-top: 40px;
  padding-bottom: 48px;
}

.downlevel .footnotes ol {
  padding-left: 13px;
}

.downlevel .base-grid,
.downlevel .distill-header,
.downlevel .d-title,
.downlevel .d-abstract,
.downlevel .d-article,
.downlevel .d-appendix,
.downlevel .distill-appendix,
.downlevel .d-byline,
.downlevel .d-footnote-list,
.downlevel .d-citation-list,
.downlevel .distill-footer,
.downlevel .appendix-bottom,
.downlevel .posts-container {
  padding-left: 40px;
  padding-right: 40px;
}

@media(min-width: 768px) {
  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
  padding-left: 150px;
  padding-right: 150px;
  max-width: 900px;
}
}

.downlevel pre code {
  display: block;
  border-left: 2px solid rgba(0, 0, 0, .1);
  padding: 0 0 0 20px;
  font-size: 14px;
}

.downlevel code, .downlevel pre {
  color: black;
  background: none;
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

.downlevel .posts-list .post-preview {
  color: inherit;
}



</style>

<script type="application/javascript">

function is_downlevel_browser() {
  if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                 window.navigator.userAgent)) {
    return true;
  } else {
    return window.load_distill_framework === undefined;
  }
}

// show body when load is complete
function on_load_complete() {

  // add anchors
  if (window.anchors) {
    window.anchors.options.placement = 'left';
    window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
  }


  // set body to visible
  document.body.style.visibility = 'visible';

  // force redraw for leaflet widgets
  if (window.HTMLWidgets) {
    var maps = window.HTMLWidgets.findAll(".leaflet");
    $.each(maps, function(i, el) {
      var map = this.getMap();
      map.invalidateSize();
      map.eachLayer(function(layer) {
        if (layer instanceof L.TileLayer)
          layer.redraw();
      });
    });
  }

  // trigger 'shown' so htmlwidgets resize
  $('d-article').trigger('shown');
}

function init_distill() {

  init_common();

  // create front matter
  var front_matter = $('<d-front-matter></d-front-matter>');
  $('#distill-front-matter').wrap(front_matter);

  // create d-title
  $('.d-title').changeElementType('d-title');

  // create d-byline
  var byline = $('<d-byline></d-byline>');
  $('.d-byline').replaceWith(byline);

  // create d-article
  var article = $('<d-article></d-article>');
  $('.d-article').wrap(article).children().unwrap();

  // move posts container into article
  $('.posts-container').appendTo($('d-article'));

  // create d-appendix
  $('.d-appendix').changeElementType('d-appendix');

  // flag indicating that we have appendix items
  var appendix = $('.appendix-bottom').children('h3').length > 0;

  // replace footnotes with <d-footnote>
  $('.footnote-ref').each(function(i, val) {
    appendix = true;
    var href = $(this).attr('href');
    var id = href.replace('#', '');
    var fn = $('#' + id);
    var fn_p = $('#' + id + '>p');
    fn_p.find('.footnote-back').remove();
    var text = fn_p.html();
    var dtfn = $('<d-footnote></d-footnote>');
    dtfn.html(text);
    $(this).replaceWith(dtfn);
  });
  // remove footnotes
  $('.footnotes').remove();

  // move refs into #references-listing
  $('#references-listing').replaceWith($('#refs'));

  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    var id = $(this).attr('id');
    $('.d-contents a[href="#' + id + '"]').parent().remove();
    appendix = true;
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
  });

  // show d-appendix if we have appendix content
  $("d-appendix").css('display', appendix ? 'grid' : 'none');

  // localize layout chunks to just output
  $('.layout-chunk').each(function(i, val) {

    // capture layout
    var layout = $(this).attr('data-layout');

    // apply layout to markdown level block elements
    var elements = $(this).children().not('details, div.sourceCode, pre, script');
    elements.each(function(i, el) {
      var layout_div = $('<div class="' + layout + '"></div>');
      if (layout_div.hasClass('shaded')) {
        var shaded_content = $('<div class="shaded-content"></div>');
        $(this).wrap(shaded_content);
        $(this).parent().wrap(layout_div);
      } else {
        $(this).wrap(layout_div);
      }
    });


    // unwrap the layout-chunk div
    $(this).children().unwrap();
  });

  // remove code block used to force  highlighting css
  $('.distill-force-highlighting-css').parent().remove();

  // remove empty line numbers inserted by pandoc when using a
  // custom syntax highlighting theme
  $('code.sourceCode a:empty').remove();

  // load distill framework
  load_distill_framework();

  // wait for window.distillRunlevel == 4 to do post processing
  function distill_post_process() {

    if (!window.distillRunlevel || window.distillRunlevel < 4)
      return;

    // hide author/affiliations entirely if we have no authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;
    if (!have_authors)
      $('d-byline').addClass('hidden');

    // article with toc class
    $('.d-contents').parent().addClass('d-article-with-toc');

    // strip links that point to #
    $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

    // add orcid ids
    $('.authors-affiliations').find('.author').each(function(i, el) {
      var orcid_id = front_matter.authors[i].orcidID;
      if (orcid_id) {
        var a = $('<a></a>');
        a.attr('href', 'https://orcid.org/' + orcid_id);
        var img = $('<img></img>');
        img.addClass('orcid-id');
        img.attr('alt', 'ORCID ID');
        img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
        a.append(img);
        $(this).append(a);
      }
    });

    // hide elements of author/affiliations grid that have no value
    function hide_byline_column(caption) {
      $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
    }

    // affiliations
    var have_affiliations = false;
    for (var i = 0; i<front_matter.authors.length; ++i) {
      var author = front_matter.authors[i];
      if (author.affiliation !== "&nbsp;") {
        have_affiliations = true;
        break;
      }
    }
    if (!have_affiliations)
      $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

    // published date
    if (!front_matter.publishedDate)
      hide_byline_column("Published");

    // document object identifier
    var doi = $('d-byline').find('h3:contains("DOI")');
    var doi_p = doi.next().empty();
    if (!front_matter.doi) {
      // if we have a citation and valid citationText then link to that
      if ($('#citation').length > 0 && front_matter.citationText) {
        doi.html('Citation');
        $('<a href="#citation"></a>')
          .text(front_matter.citationText)
          .appendTo(doi_p);
      } else {
        hide_byline_column("DOI");
      }
    } else {
      $('<a></a>')
         .attr('href', "https://doi.org/" + front_matter.doi)
         .html(front_matter.doi)
         .appendTo(doi_p);
    }

     // change plural form of authors/affiliations
    if (front_matter.authors.length === 1) {
      var grid = $('.authors-affiliations');
      grid.children('h3:contains("Authors")').text('Author');
      grid.children('h3:contains("Affiliations")').text('Affiliation');
    }

    // remove d-appendix and d-footnote-list local styles
    $('d-appendix > style:first-child').remove();
    $('d-footnote-list > style:first-child').remove();

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // hoverable references
    $('span.citation[data-cites]').each(function() {
      var refHtml = $('#ref-' + $(this).attr('data-cites')).html();
      window.tippy(this, {
        allowHTML: true,
        content: refHtml,
        maxWidth: 500,
        interactive: true,
        interactiveBorder: 10,
        theme: 'light-border',
        placement: 'bottom-start'
      });
    });

    // clear polling timer
    clearInterval(tid);

    // show body now that everything is ready
    on_load_complete();
  }

  var tid = setInterval(distill_post_process, 50);
  distill_post_process();

}

function init_downlevel() {

  init_common();

   // insert hr after d-title
  $('.d-title').after($('<hr class="section-separator"/>'));

  // check if we have authors
  var front_matter = JSON.parse($("#distill-front-matter").html());
  var have_authors = front_matter.authors && front_matter.authors.length > 0;

  // manage byline/border
  if (!have_authors)
    $('.d-byline').remove();
  $('.d-byline').after($('<hr class="section-separator"/>'));
  $('.d-byline a').remove();

  // remove toc
  $('.d-contents').remove();

  // move appendix elements
  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
  });


  // inject headers into references and footnotes
  var refs_header = $('<h3></h3>');
  refs_header.text('References');
  $('#refs').prepend(refs_header);

  var footnotes_header = $('<h3></h3');
  footnotes_header.text('Footnotes');
  $('.footnotes').children('hr').first().replaceWith(footnotes_header);

  // move appendix-bottom entries to the bottom
  $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
  $('.appendix-bottom').remove();

  // remove appendix if it's empty
  if ($('.d-appendix').children().length === 0)
    $('.d-appendix').remove();

  // prepend separator above appendix
  $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

  // trim code
  $('pre>code').each(function(i, val) {
    $(this).html($.trim($(this).html()));
  });

  // move posts-container right before article
  $('.posts-container').insertBefore($('.d-article'));

  $('body').addClass('downlevel');

  on_load_complete();
}


function init_common() {

  // jquery plugin to change element types
  (function($) {
    $.fn.changeElementType = function(newType) {
      var attrs = {};

      $.each(this[0].attributes, function(idx, attr) {
        attrs[attr.nodeName] = attr.nodeValue;
      });

      this.replaceWith(function() {
        return $("<" + newType + "/>", attrs).append($(this).contents());
      });
    };
  })(jQuery);

  // prevent underline for linked images
  $('a > img').parent().css({'border-bottom' : 'none'});

  // mark non-body figures created by knitr chunks as 100% width
  $('.layout-chunk').each(function(i, val) {
    var figures = $(this).find('img, .html-widget');
    if ($(this).attr('data-layout') !== "l-body") {
      figures.css('width', '100%');
    } else {
      figures.css('max-width', '100%');
      figures.filter("[width]").each(function(i, val) {
        var fig = $(this);
        fig.css('width', fig.attr('width') + 'px');
      });

    }
  });

  // auto-append index.html to post-preview links in file: protocol
  // and in rstudio ide preview
  $('.post-preview').each(function(i, val) {
    if (window.location.protocol === "file:")
      $(this).attr('href', $(this).attr('href') + "index.html");
  });

  // get rid of index.html references in header
  if (window.location.protocol !== "file:") {
    $('.distill-site-header a[href]').each(function(i,val) {
      $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
    });
  }

  // add class to pandoc style tables
  $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
  $('.kable-table').children('table').addClass('pandoc-table');

  // add figcaption style to table captions
  $('caption').parent('table').addClass("figcaption");

  // initialize posts list
  if (window.init_posts_list)
    window.init_posts_list();

  // implmement disqus comment link
  $('.disqus-comment-count').click(function() {
    window.headroom_prevent_pin = true;
    $('#disqus_thread').toggleClass('hidden');
    if (!$('#disqus_thread').hasClass('hidden')) {
      var offset = $(this).offset();
      $(window).resize();
      $('html, body').animate({
        scrollTop: offset.top - 35
      });
    }
  });
}

document.addEventListener('DOMContentLoaded', function() {
  if (is_downlevel_browser())
    init_downlevel();
  else
    window.addEventListener('WebComponentsReady', init_distill);
});

</script>

<!--/radix_placeholder_distill-->
  <script src="../../site_libs/kePrint-0.0.1/kePrint.js"></script>
  <link href="../../site_libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
  <script src="../../site_libs/jquery-1.11.3/jquery.min.js"></script>
  <script src="../../site_libs/popper-2.6.0/popper.min.js"></script>
  <link href="../../site_libs/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="../../site_libs/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="../../site_libs/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="../../site_libs/anchor-4.2.2/anchor.min.js"></script>
  <script src="../../site_libs/bowser-1.9.3/bowser.min.js"></script>
  <script src="../../site_libs/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="../../site_libs/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
<script type="text/javascript" src="https://www.cookieconsent.com/releases/3.1.0/cookie-consent.js"></script>
<script type="text/javascript">
document.addEventListener('DOMContentLoaded', function () {
cookieconsent.run({
'notice_banner_type':'simple',
'consent_type': 'express',
'palette': 'light',
'language': 'en',
'website_name': 'uncertain-times',
'cookies_policy_url': 'url',
'change_preferences_selector':'#CookiePreferences'
});});</script>
<script type="text/plain" cookie-consent="tracking" async src="https://www.googletagmanager.com/gtag/js?id=G-J5RM2E8REJ"></script>
<script type="text/plain" cookie-consent="tracking">
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-J5RM2E8REJ');
</script>
<!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"EV/EBITDA valuation multiple: some data","description":"A closer empirical look at the EV/EBITDA multiple.","authors":[{"author":"Christoph Jäckel","authorURL":"#","affiliation":"&nbsp;","affiliationURL":"#","orcidID":""}],"publishedDate":"2021-01-25T00:00:00.000+01:00","citationText":"Jäckel, 2021"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<header class="header header--fixed" role="banner">
<nav class="distill-site-nav distill-site-header">
<div class="nav-left">
<a href="../../index.html" class="title">Uncertain times</a>
<input id="distill-search" class="nav-search hidden" type="text" placeholder="Search..."/>
</div>
<div class="nav-right">
<a href="../../index.html">Home</a>
<a href="../../about.html">About</a>
<a href="../../index.xml">
<i class="fa fa-rss" aria-hidden="true"></i>
</a>
<a href="javascript:void(0);" class="nav-toggle">&#9776;</a>
</div>
</nav>
</header>
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>EV/EBITDA valuation multiple: some data</h1>
<!--radix_placeholder_categories-->
<div class="dt-tags">
  <a href="../../index.html#category:Valuation" class="dt-tag">Valuation</a>
  <a href="../../index.html#category:Data" class="dt-tag">Data</a>
</div>
<!--/radix_placeholder_categories-->
<p><p>A closer empirical look at the EV/EBITDA multiple.</p></p>
</div>

<div class="d-byline">
  Christoph Jäckel  
  
<br/>01-25-2021
</div>

<div class="d-article">
<div class="d-contents d-contents-float">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#download-and-formatting-the-data">Download and formatting the data</a><ul>
<li><a href="#preparation-of-the-data">Preparation of the data</a></li>
<li><a href="#check-that-different-currencies-are-adjusted-correctly">Check that different currencies are adjusted correctly</a></li>
<li><a href="#formatting-of-data">Formatting of data</a></li>
</ul></li>
<li><a href="#descriptive-statistics">Descriptive statistics</a></li>
<li><a href="#evebitda-multiples-by-sector">EV/EBITDA multiples by sector</a></li>
<li><a href="#drivers-of-valuation-multiples">Drivers of valuation multiples</a><ul>
<li><a href="#operative-cash-conversion">Operative cash conversion</a></li>
</ul></li>
<li><a href="#summary">Summary</a></li>
</ul>
</nav>
</div>
<p>In the blog post <a href="https://www.christoph-jaeckel.com/posts/2021-01-17-evebitda-valuation-multiple-the-theory/">EV/EBITDA valuation multiple: the theory</a>, I derived the EV/EBITDA multiple from a FCFF-DCF model under some simplifying assumptions. In this post, I want to dive deeper into some empirical characteristics of the EV/EBITDA multiple. To do so, I use the <a href="https://www.quandl.com/data/RB1-Robur-Global-Select-Stock-Fundamentals/documentation?anchor=coverage-data-organization">RB1 Robur data set</a> available on Quandl, which is not freely available.</p>
<p>In the section “Download and formatting the data”, I describe how I got the data into R. Readers that are only interested in the results can skip this section. As the documentation of the data set is rather extensive, I will not go into too much detail about it in this post (which companies are covered, for how long, etc.).</p>
<h2 id="download-and-formatting-the-data">Download and formatting the data</h2>
<p>I downloaded the data from Quandl on 10/24/2020. I struggled to pull all the data directly into one data set with the R package, so I ran a for loop to download the data sets for each individual ticker, which ran half a day. The code is saved below for reference, but there is probably an easier and better way to do this. If you know it, let me know!</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>Show code</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/quandl/quandl-r'>Quandl</a></span><span class='op'>)</span>
<span class='co'>#You also have to set your personal Quandl key with Quandl.api_key('ENTER YOUR KEY')</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://Rdatatable.gitlab.io/data.table'>data.table</a></span><span class='op'>)</span>
<span class='co'>#### Download RB1 full data set</span>

<span class='va'>tickers</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/character.html'>as.character</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>9197</span><span class='op'>)</span>
<span class='va'>tickers</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/nchar.html'>nchar</a></span><span class='op'>(</span><span class='va'>tickers</span><span class='op'>)</span><span class='op'>==</span><span class='fl'>1</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='st'>"000"</span>, <span class='va'>tickers</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/nchar.html'>nchar</a></span><span class='op'>(</span><span class='va'>tickers</span><span class='op'>)</span><span class='op'>==</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>)</span>
<span class='va'>tickers</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/nchar.html'>nchar</a></span><span class='op'>(</span><span class='va'>tickers</span><span class='op'>)</span><span class='op'>==</span><span class='fl'>2</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='st'>"00"</span>,  <span class='va'>tickers</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/nchar.html'>nchar</a></span><span class='op'>(</span><span class='va'>tickers</span><span class='op'>)</span><span class='op'>==</span><span class='fl'>2</span><span class='op'>]</span><span class='op'>)</span>
<span class='va'>tickers</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/nchar.html'>nchar</a></span><span class='op'>(</span><span class='va'>tickers</span><span class='op'>)</span><span class='op'>==</span><span class='fl'>3</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='st'>"0"</span>,   <span class='va'>tickers</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/nchar.html'>nchar</a></span><span class='op'>(</span><span class='va'>tickers</span><span class='op'>)</span><span class='op'>==</span><span class='fl'>3</span><span class='op'>]</span><span class='op'>)</span>

<span class='va'>i</span> <span class='op'>&lt;-</span> <span class='fl'>0</span>
<span class='kw'>for</span> <span class='op'>(</span><span class='va'>ticker</span> <span class='kw'>in</span> <span class='va'>tickers</span><span class='op'>)</span> <span class='op'>{</span> 
  <span class='kw'>for</span> <span class='op'>(</span><span class='va'>str_type</span> <span class='kw'>in</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"INCOME"</span>, <span class='st'>"CAGR"</span>, <span class='st'>"SIGNALS"</span>, <span class='st'>"VALUES"</span>,
                     <span class='st'>"FORECAST"</span>, <span class='st'>"BALANCE"</span>, <span class='st'>"CASHFLOW"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>{</span>
    
    <span class='kw'>if</span> <span class='op'>(</span><span class='va'>i</span><span class='op'>==</span><span class='fl'>0</span><span class='op'>)</span> <span class='op'>{</span>
      <span class='va'>str_eval</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='st'>"dt_"</span>, <span class='va'>str_type</span>, <span class='st'>"&lt;- as.data.table(Quandl('RB1/"</span>, <span class='va'>ticker</span>, <span class='st'>"_"</span>, <span class='va'>str_type</span>, <span class='st'>"'))"</span><span class='op'>)</span>
      <span class='fu'><a href='https://rdrr.io/r/base/eval.html'>eval</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/parse.html'>parse</a></span><span class='op'>(</span>text<span class='op'>=</span><span class='va'>str_eval</span><span class='op'>)</span><span class='op'>)</span>
      <span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/assign.html'>set</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/eval.html'>eval</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/parse.html'>parse</a></span><span class='op'>(</span>text<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='st'>"dt_"</span>, <span class='va'>str_type</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>, j<span class='op'>=</span><span class='st'>"Ticker"</span>, value<span class='op'>=</span><span class='va'>ticker</span><span class='op'>)</span>
    <span class='op'>}</span> <span class='kw'>else</span> <span class='op'>{</span>
      <span class='kw'><a href='https://rdrr.io/r/base/conditions.html'>tryCatch</a></span><span class='op'>(</span><span class='op'>{</span>
        <span class='va'>str_eval</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='st'>"intDT &lt;- as.data.table(Quandl('RB1/"</span>, <span class='va'>ticker</span>, <span class='st'>"_"</span>, <span class='va'>str_type</span>, <span class='st'>"'))"</span><span class='op'>)</span>
        <span class='fu'><a href='https://rdrr.io/r/base/eval.html'>eval</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/parse.html'>parse</a></span><span class='op'>(</span>text<span class='op'>=</span><span class='va'>str_eval</span><span class='op'>)</span><span class='op'>)</span>
        <span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/assign.html'>set</a></span><span class='op'>(</span><span class='va'>intDT</span>, j<span class='op'>=</span><span class='st'>"Ticker"</span>, value<span class='op'>=</span><span class='va'>ticker</span><span class='op'>)</span>
        <span class='fu'><a href='https://rdrr.io/r/base/eval.html'>eval</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/parse.html'>parse</a></span><span class='op'>(</span>text<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='st'>"dt_"</span>, <span class='va'>str_type</span>, <span class='st'>"&lt;- rbind(intDT, dt_"</span>, <span class='va'>str_type</span>, <span class='st'>")"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
      <span class='op'>}</span>, error<span class='op'>=</span><span class='kw'>function</span><span class='op'>(</span><span class='va'>e</span><span class='op'>)</span><span class='op'>{</span><span class='fu'><a href='https://rdrr.io/r/base/cat.html'>cat</a></span><span class='op'>(</span><span class='st'>"ERROR :"</span>,<span class='va'>ticker</span>, <span class='fu'><a href='https://rdrr.io/r/base/conditions.html'>conditionMessage</a></span><span class='op'>(</span><span class='va'>e</span><span class='op'>)</span>, <span class='st'>"\n"</span><span class='op'>)</span><span class='op'>}</span><span class='op'>)</span>
    <span class='op'>}</span>

  <span class='op'>}</span>
  <span class='va'>i</span> <span class='op'>&lt;-</span> <span class='va'>i</span> <span class='op'>+</span> <span class='fl'>1</span>
<span class='op'>}</span>

<span class='va'>l_RB1</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>dt_BALANCE  <span class='op'>=</span> <span class='va'>dt_BALANCE</span>,
              dt_CAGR     <span class='op'>=</span> <span class='va'>dt_CAGR</span>,
              dt_CASHFLOW <span class='op'>=</span> <span class='va'>dt_CASHFLOW</span>,
              dt_INCOME   <span class='op'>=</span> <span class='va'>dt_INCOME</span>,
              dt_FORECAST <span class='op'>=</span> <span class='va'>dt_FORECAST</span>,
              dt_SIGNALS  <span class='op'>=</span> <span class='va'>dt_SIGNALS</span>,
              dt_VALUES   <span class='op'>=</span> <span class='va'>dt_VALUES</span><span class='op'>)</span>
<span class='co'>#Change the folder based on your computer set up</span>
<span class='fu'><a href='https://rdrr.io/r/base/save.html'>save</a></span><span class='op'>(</span><span class='va'>l_RB1</span>, file<span class='op'>=</span><span class='st'>"C:/Users/Christoph Jaeckel/Desktop/Quandl/list_RB1.RData"</span><span class='op'>)</span>
</code></pre>
</div>
</details>
</div>
<p>After this code has run once, I can now load the data easily with the following code. The different tables are saved in a list named <code>l_RB1</code>. In addition, there is a table that links the tickers with the companies, industries, etc.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>Show code</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://Rdatatable.gitlab.io/data.table'>data.table</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://lubridate.tidyverse.org'>lubridate</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/quandl/quandl-r'>Quandl</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://ggplot2.tidyverse.org'>ggplot2</a></span><span class='op'>)</span>
<span class='co'>#Quandl.api_key('ENTER YOUR KEY') #We will need this later to get FX rates from Quandl</span>
<span class='fu'><a href='https://rdrr.io/r/base/load.html'>load</a></span><span class='op'>(</span><span class='st'>"C:/Users/Christoph Jaeckel/Desktop/Quandl/list_RB1.RData"</span><span class='op'>)</span>
<span class='va'>DT</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/fread.html'>fread</a></span><span class='op'>(</span><span class='st'>"C:/Users/Christoph Jaeckel/Desktop/Quandl/RB1_tickers.csv"</span><span class='op'>)</span>
</code></pre>
</div>
</details>
</div>
<h3 id="preparation-of-the-data">Preparation of the data</h3>
<p>After inspecting the different data sets, it became clear that <em>dt_VALUE</em>, which seemed the most important initially, is rather useless as it seems to only hold the valuations from 2020, so I could not do an analysis over time. However, fortunately, <em>dt_INCOME</em> includes information about the share price “at the accounting date for each period” as well as the diluted shares outstanding. Hence, I can calculate the market cap. <em>dt_BALANCE</em> has information about the debt and <em>dt_CASHFLOW</em> gives me information about the depreciation and cash. As <em>dt_INCOME</em> also includes operating income (equivalent of EBIT), I can therefore easily calculate the EBITDA. I also merge <em>dt_CAGR</em>, which includes growth rates for companies; however, there is much less coverage so using those inputs will substantially reduce the sample size.</p>
<p>Let’s merge the four data sets together.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>Show code</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>### Start with dt_INCOME</span>
<span class='va'>intDT</span> <span class='op'>&lt;-</span> <span class='va'>l_RB1</span><span class='op'>$</span><span class='va'>dt_INCOME</span>
<span class='co'>### Merge it with dt_CASHFLOW and dt_BALANCE</span>
<span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/setkey.html'>setkey</a></span><span class='op'>(</span><span class='va'>intDT</span>, <span class='va'>Ticker</span>, <span class='va'>Date</span><span class='op'>)</span>
<span class='co'>#dt_CASHFLOW</span>
<span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/setkey.html'>setkey</a></span><span class='op'>(</span><span class='va'>l_RB1</span><span class='op'>$</span><span class='va'>dt_CASHFLOW</span>, <span class='va'>Ticker</span>, <span class='va'>Date</span><span class='op'>)</span>
<span class='va'>intDT</span> <span class='op'>&lt;-</span> <span class='va'>intDT</span><span class='op'>[</span><span class='va'>l_RB1</span><span class='op'>$</span><span class='va'>dt_CASHFLOW</span><span class='op'>]</span>
<span class='co'>#dt_BALANCE</span>
<span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/setkey.html'>setkey</a></span><span class='op'>(</span><span class='va'>l_RB1</span><span class='op'>$</span><span class='va'>dt_BALANCE</span>, <span class='va'>Ticker</span>, <span class='va'>Date</span><span class='op'>)</span>
<span class='va'>intDT</span> <span class='op'>&lt;-</span> <span class='va'>intDT</span><span class='op'>[</span><span class='va'>l_RB1</span><span class='op'>$</span><span class='va'>dt_BALANCE</span><span class='op'>]</span>
<span class='co'>#dt_CAGR (not required, so that's why you have it outside)</span>
<span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/setkey.html'>setkey</a></span><span class='op'>(</span><span class='va'>l_RB1</span><span class='op'>$</span><span class='va'>dt_CAGR</span>, <span class='va'>Ticker</span>, <span class='va'>Date</span><span class='op'>)</span>
<span class='va'>intDT</span> <span class='op'>&lt;-</span> <span class='va'>l_RB1</span><span class='op'>$</span><span class='va'>dt_CAGR</span><span class='op'>[</span><span class='va'>intDT</span><span class='op'>]</span>
<span class='co'>### Finally, get also static data in there</span>
<span class='va'>intDT</span><span class='op'>[</span>, <span class='va'>Ticker</span><span class='op'>:=</span><span class='fu'><a href='https://rdrr.io/r/base/integer.html'>as.integer</a></span><span class='op'>(</span><span class='va'>Ticker</span><span class='op'>)</span><span class='op'>]</span> <span class='co'>#Change type of Ticker as it is integer in the DT data set</span>
<span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/setkey.html'>setkey</a></span><span class='op'>(</span><span class='va'>intDT</span>, <span class='va'>Ticker</span><span class='op'>)</span>
<span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/setattr.html'>setnames</a></span><span class='op'>(</span><span class='va'>DT</span>, <span class='st'>"company_code"</span>, <span class='st'>"Ticker"</span><span class='op'>)</span>
<span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/setkey.html'>setkey</a></span><span class='op'>(</span><span class='va'>DT</span>, <span class='va'>Ticker</span><span class='op'>)</span>
<span class='va'>DT</span> <span class='op'>&lt;-</span> <span class='va'>DT</span><span class='op'>[</span><span class='va'>intDT</span><span class='op'>]</span>
<span class='va'>marketCap_Arctic</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span><span class='op'>(</span><span class='va'>DT</span><span class='op'>[</span><span class='va'>Ticker</span><span class='op'>==</span><span class='fl'>8971</span> <span class='op'>&amp;</span> <span class='va'>Date</span><span class='op'>==</span><span class='fu'><a href='http://lubridate.tidyverse.org/reference/ymd.html'>dmy</a></span><span class='op'>(</span><span class='st'>"31122019"</span><span class='op'>)</span>, <span class='va'>`Share Price at EoP`</span> <span class='op'>*</span> <span class='va'>`Diluted Shares OS`</span><span class='op'>]</span><span class='op'>)</span>
</code></pre>
</div>
</details>
</div>
<h3 id="check-that-different-currencies-are-adjusted-correctly">Check that different currencies are adjusted correctly</h3>
<p>I looked closer into <a href="https://www.quandl.com/data/RB1/8971_BALANCE-Arctic-Paper-Balance">Arctic Paper</a> which has a share currency of SEK and a reference currency of PLN. I confirmed with CapitalIQ that the balance sheet items were in PLN. According the company page on Quandl, the market cap of this company is currently USD 0.07bn. I calculate a market cap of 593 as of 12/31/2019. Note that the stock price didn’t move much in 2020 and that the current SEK/USD FX rate is 0.11. Hence, I would calculate a market cap of 65.23, which is exactly what I find at the company page. The PLN/USD FX rate stands at 0.26 and would therefore not match.</p>
<p>To summarize: It looks like all values are in the reference currency with the exception of the share price, which is in the share currency. I will convert all numbers to a consistent currency in the next section.</p>
<h3 id="formatting-of-data">Formatting of data</h3>
<p>In a next step, I make some adjustments to the data set, i.e. rename some columns and calculate some items such as EBITDA. Concretely:</p>
<ol type="1">
<li>Rename the following columns:</li>
</ol>
<ul>
<li><em>Operating Income</em> to <em>EBIT</em></li>
<li><em>Share Price at EoP</em> to <em>Share_price</em></li>
<li><em>Diluted Shares OS</em> to <em>Nr_shares</em></li>
<li><em>End Cash</em> to <em>Cash_end</em></li>
<li><em>Current Assets</em> to <em>Current_assets</em></li>
<li><em>Cash from Operations</em> to <em>OpCF</em></li>
<li><em>Cash from Financing</em> to <em>FinCF</em></li>
<li><em>Cash from Investing</em> to <em>InvCF</em></li>
</ul>
<ol start="2" type="1">
<li>Convert currencies: See the section above, in which I provide evidence that all values are in reference currency except for the share price, which is in share currency. I convert everything to USD.</li>
<li>Calculate EBITDA as EBIT / Operating Income plus depreciation.</li>
<li>Calculate net debt as the sum of total short-term and long-term debt minus cash.</li>
<li>Market cap as share price multiplied with number of shares.</li>
<li>Link countries to continents</li>
</ol>
<p>The code to get the FX rate is a bit more complicated. I start by obtaining an FX data set from the Swiss national bank, which is freely available on Quandl. This data set has the dates in the rows and the FX rate of the Swiss francs to other currencies in each column starting at column 2. Some FX rates are scaled by 100, such as SEK or JPY. Fortunately, in these cases, the column header ends with “100”, so I can easily check for it and divide these columns by 100. I then convert each currency to USD and finally bring the data set into the long format.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>Show code</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>############################################################################</span>
<span class='co'>############################## 1. Rename columns</span>
<span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/setattr.html'>setnames</a></span><span class='op'>(</span><span class='va'>DT</span>,
         old <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Operating Income"</span>, <span class='st'>"Share Price at EoP"</span>, <span class='st'>"Diluted Shares OS"</span>, <span class='st'>"End Cash"</span>, <span class='st'>"Current Assets"</span>,
                 <span class='st'>"Cash from Operations"</span>, <span class='st'>"Cash from Financing"</span>, <span class='st'>"Cash from Investing"</span><span class='op'>)</span>,
         new <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"EBIT"</span>,             <span class='st'>"Share_price"</span>,        <span class='st'>"Nr_shares"</span>,         <span class='st'>"Cash_end"</span>, <span class='st'>"Current_assets"</span>,
                 <span class='st'>"OpCF"</span>,                  <span class='st'>"FinCF"</span>,              <span class='st'>"InvCF"</span><span class='op'>)</span><span class='op'>)</span>
<span class='co'>############################################################################</span>
<span class='co'>############################## 2. Convert FX rates</span>

<span class='co'>#--------------------- a) Get an FX rate matching table</span>
<span class='va'>fxDT</span>    <span class='op'>&lt;-</span> <span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/as.data.table.html'>as.data.table</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/pkg/Quandl/man/Quandl.html'>Quandl</a></span><span class='op'>(</span><span class='st'>"SNB/DEVKUM"</span><span class='op'>)</span><span class='op'>)</span>
<span class='co'># Only keep end of month data</span>
<span class='va'>cols</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Date"</span>, <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grep</a></span><span class='op'>(</span><span class='st'>"End of month"</span>, <span class='fu'><a href='https://rdrr.io/r/base/names.html'>names</a></span><span class='op'>(</span><span class='va'>fxDT</span><span class='op'>)</span>, value <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>fxDT</span> <span class='op'>&lt;-</span> <span class='va'>fxDT</span><span class='op'>[</span>, <span class='va'>..cols</span><span class='op'>]</span>
<span class='co'># Loop through columns to adjust name and scale </span>
<span class='kw'>for</span> <span class='op'>(</span><span class='va'>j</span> <span class='kw'>in</span> <span class='fl'>2</span><span class='op'>:</span><span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>ncol</a></span><span class='op'>(</span><span class='va'>fxDT</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>{</span>
  
  <span class='co'>#If there is a 100, scale FX rate accordingly</span>
  <span class='va'>col_name</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/names.html'>names</a></span><span class='op'>(</span><span class='va'>fxDT</span><span class='op'>)</span><span class='op'>[</span><span class='va'>j</span><span class='op'>]</span>
  <span class='kw'>if</span> <span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/substr.html'>substr</a></span><span class='op'>(</span><span class='va'>col_name</span>, start <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/nchar.html'>nchar</a></span><span class='op'>(</span><span class='va'>col_name</span><span class='op'>)</span><span class='op'>-</span><span class='fl'>2</span>, stop <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/nchar.html'>nchar</a></span><span class='op'>(</span><span class='va'>col_name</span><span class='op'>)</span><span class='op'>)</span><span class='op'>==</span><span class='st'>"100"</span><span class='op'>)</span> <span class='op'>{</span>
    <span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/assign.html'>set</a></span><span class='op'>(</span><span class='va'>fxDT</span>, j<span class='op'>=</span><span class='va'>j</span>, value <span class='op'>=</span> <span class='va'>fxDT</span><span class='op'>[</span>,<span class='va'>..j</span><span class='op'>]</span><span class='op'>/</span><span class='fl'>100</span><span class='op'>)</span>
    <span class='co'>#Also, get the currency code</span>
    <span class='va'>new_col_name</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/substr.html'>substr</a></span><span class='op'>(</span><span class='va'>col_name</span>, start <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/nchar.html'>nchar</a></span><span class='op'>(</span><span class='va'>col_name</span><span class='op'>)</span><span class='op'>-</span><span class='fl'>6</span>, stop <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/nchar.html'>nchar</a></span><span class='op'>(</span><span class='va'>col_name</span><span class='op'>)</span><span class='op'>-</span><span class='fl'>4</span><span class='op'>)</span>
  <span class='op'>}</span> <span class='kw'>else</span> <span class='op'>{</span>
    <span class='co'>#If it doesn't end with 100, this looks different</span>
    <span class='va'>new_col_name</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/substr.html'>substr</a></span><span class='op'>(</span><span class='va'>col_name</span>, start <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/nchar.html'>nchar</a></span><span class='op'>(</span><span class='va'>col_name</span><span class='op'>)</span><span class='op'>-</span><span class='fl'>4</span>, stop <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/nchar.html'>nchar</a></span><span class='op'>(</span><span class='va'>col_name</span><span class='op'>)</span><span class='op'>-</span><span class='fl'>2</span><span class='op'>)</span>
  <span class='op'>}</span>
  <span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/setattr.html'>setnames</a></span><span class='op'>(</span><span class='va'>fxDT</span>, old<span class='op'>=</span><span class='va'>col_name</span>, new<span class='op'>=</span><span class='va'>new_col_name</span><span class='op'>)</span>
<span class='op'>}</span>
<span class='co'>#Loop again through it to convert to USD</span>
<span class='va'>fxUSD</span> <span class='op'>&lt;-</span> <span class='va'>fxDT</span><span class='op'>$</span><span class='va'>USD</span>
<span class='kw'>for</span> <span class='op'>(</span><span class='va'>j</span> <span class='kw'>in</span> <span class='fl'>2</span><span class='op'>:</span><span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>ncol</a></span><span class='op'>(</span><span class='va'>fxDT</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/assign.html'>set</a></span><span class='op'>(</span><span class='va'>fxDT</span>, j<span class='op'>=</span><span class='va'>j</span>, value <span class='op'>=</span> <span class='va'>fxDT</span><span class='op'>[</span>,<span class='va'>..j</span><span class='op'>]</span><span class='op'>/</span><span class='va'>fxUSD</span><span class='op'>)</span>
<span class='op'>}</span>
<span class='co'>#Add CHF (needed as you get the data from the SNB and hence everything so far was linked to the CHF)</span>
<span class='va'>fxDT</span><span class='op'>[</span>, <span class='va'>CHF</span><span class='op'>:=</span><span class='fl'>1</span><span class='op'>/</span><span class='va'>fxUSD</span><span class='op'>]</span>

<span class='co'>#--------------------- b) Melt and merge</span>
<span class='va'>fxDT</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/melt.data.table.html'>melt</a></span><span class='op'>(</span><span class='va'>fxDT</span>, id.vars<span class='op'>=</span><span class='st'>"Date"</span><span class='op'>)</span>
<span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/setkey.html'>setkey</a></span><span class='op'>(</span><span class='va'>fxDT</span>, <span class='va'>Date</span>, <span class='va'>variable</span><span class='op'>)</span>
<span class='co'>#Exclude ARS because the data looks wrong</span>
<span class='co'>#ggplot(fxDT[variable=="ARS"], aes(x=Date, y=value)) + geom_line()</span>
<span class='va'>fxDT</span> <span class='op'>&lt;-</span> <span class='va'>fxDT</span><span class='op'>[</span><span class='va'>variable</span><span class='op'>!=</span><span class='st'>"ARS"</span><span class='op'>]</span>
<span class='co'>### First with share_currency</span>
<span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/setkey.html'>setkey</a></span><span class='op'>(</span><span class='va'>DT</span>, <span class='va'>Date</span>, <span class='va'>share_currency</span><span class='op'>)</span>
<span class='va'>DT</span> <span class='op'>&lt;-</span> <span class='va'>fxDT</span><span class='op'>[</span><span class='va'>DT</span><span class='op'>]</span>
<span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/setattr.html'>setnames</a></span><span class='op'>(</span><span class='va'>DT</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"variable"</span>, <span class='st'>"value"</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"share_currency"</span>, <span class='st'>"fx_share_CUR_to_USD"</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>DT</span><span class='op'>[</span>, <span class='va'>Share_price</span> <span class='op'>:=</span> <span class='va'>Share_price</span> <span class='op'>*</span> <span class='va'>fx_share_CUR_to_USD</span><span class='op'>]</span>
<span class='co'>### First with reference_currency</span>
<span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/setkey.html'>setkey</a></span><span class='op'>(</span><span class='va'>DT</span>, <span class='va'>Date</span>, <span class='va'>reference_currency</span><span class='op'>)</span>
<span class='va'>DT</span> <span class='op'>&lt;-</span> <span class='va'>fxDT</span><span class='op'>[</span><span class='va'>DT</span><span class='op'>]</span>
<span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/setattr.html'>setnames</a></span><span class='op'>(</span><span class='va'>DT</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"variable"</span>, <span class='st'>"value"</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"reference_currency"</span>, <span class='st'>"fx_reference_CUR_to_USD"</span><span class='op'>)</span><span class='op'>)</span>
<span class='kw'>for</span> <span class='op'>(</span><span class='va'>cols</span> <span class='kw'>in</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Revenue"</span>, <span class='st'>"EBIT"</span>, <span class='st'>"Net Income exc. extra"</span>, <span class='st'>"Net Income inc. extra"</span>, <span class='st'>"OpCF"</span>,
               <span class='st'>"Depreciation"</span>, <span class='st'>"Capex"</span>, <span class='st'>"InvCF"</span>, <span class='st'>"Issuance of Stock"</span>, <span class='st'>"Issuance of Debt"</span>, <span class='st'>"FinCF"</span>,
               <span class='st'>"Start Cash"</span>, <span class='st'>"Cash_end"</span>, <span class='st'>"Current_assets"</span>, <span class='st'>"Goodwill"</span>, <span class='st'>"Intangibles"</span>, <span class='st'>"Total Assets"</span>, <span class='st'>"Current Liabilities"</span>,
               <span class='st'>"Long Term Debt"</span>, <span class='st'>"Total Liabilities"</span>, <span class='st'>"Shareholder Equity"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>{</span>
  
  <span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/assign.html'>set</a></span><span class='op'>(</span><span class='va'>DT</span>, j<span class='op'>=</span><span class='va'>cols</span>, value <span class='op'>=</span> <span class='va'>DT</span><span class='op'>[</span>,<span class='va'>..cols</span><span class='op'>]</span> <span class='op'>*</span> <span class='va'>DT</span><span class='op'>$</span><span class='va'>fx_reference_CUR_to_USD</span><span class='op'>)</span>  

<span class='op'>}</span>

<span class='co'>############################################################################</span>
<span class='co'>############################## 3. Calculate EBITDA</span>
<span class='va'>DT</span><span class='op'>[</span>, <span class='va'>EBITDA</span> <span class='op'>:=</span> <span class='va'>EBIT</span> <span class='op'>+</span> <span class='va'>Depreciation</span><span class='op'>]</span>
<span class='co'>############################################################################</span>
<span class='co'>############################## 4. Calculate Net Debt</span>
<span class='va'>DT</span><span class='op'>[</span>, <span class='va'>Net_debt</span> <span class='op'>:=</span> <span class='va'>`Current Liabilities`</span> <span class='op'>+</span> <span class='va'>`Long Term Debt`</span> <span class='op'>-</span> <span class='va'>Cash_end</span><span class='op'>]</span>
<span class='co'>############################################################################</span>
<span class='co'>############################## 5. Market cap</span>
<span class='va'>DT</span><span class='op'>[</span>, <span class='va'>Market_cap</span> <span class='op'>:=</span> <span class='va'>Share_price</span> <span class='op'>*</span> <span class='va'>Nr_shares</span><span class='op'>]</span>
<span class='co'>############################################################################</span>
<span class='co'>############################## 6. EV/EBITDA multiple</span>
<span class='va'>DT</span><span class='op'>[</span>,<span class='va'>EV</span>        <span class='op'>:=</span> <span class='va'>Market_cap</span> <span class='op'>+</span> <span class='va'>Net_debt</span><span class='op'>]</span>
<span class='va'>DT</span><span class='op'>[</span>,<span class='va'>EV_EBITDA</span> <span class='op'>:=</span> <span class='va'>EV</span><span class='op'>/</span><span class='va'>EBITDA</span><span class='op'>]</span>
<span class='va'>DT</span><span class='op'>[</span><span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/is.finite.html'>is.finite</a></span><span class='op'>(</span><span class='va'>EV_EBITDA</span><span class='op'>)</span>, <span class='va'>EV_EBITDA</span><span class='op'>:=</span><span class='cn'>NA</span><span class='op'>]</span>
<span class='co'>############################################################################</span>
<span class='co'>############################## 7. Continent matching</span>
<span class='va'>countryDT</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/fread.html'>fread</a></span><span class='op'>(</span><span class='st'>"C:/Users/Christoph Jaeckel/Desktop/Quandl/Country_continent_list.csv"</span><span class='op'>)</span>
<span class='co'>#Get rid of everything after the comma: https://stackoverflow.com/questions/25307899/r-remove-anything-after-comma-from-column</span>
<span class='va'>countryDT</span><span class='op'>[</span>, <span class='va'>Country_Name</span><span class='op'>:=</span><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>gsub</a></span><span class='op'>(</span><span class='st'>"(.*),.*"</span>, <span class='st'>"\\1"</span>, <span class='va'>Country_Name</span><span class='op'>)</span><span class='op'>]</span>
<span class='va'>countryDT</span> <span class='op'>&lt;-</span> <span class='va'>countryDT</span><span class='op'>[</span>, <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='va'>Country_Name</span>, <span class='va'>Continent_Name</span><span class='op'>)</span><span class='op'>]</span>
<span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/setkey.html'>setkey</a></span><span class='op'>(</span><span class='va'>countryDT</span>, <span class='va'>Country_Name</span><span class='op'>)</span>
<span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/setkey.html'>setkey</a></span><span class='op'>(</span><span class='va'>DT</span>, <span class='va'>country</span><span class='op'>)</span>
<span class='va'>DT</span> <span class='op'>&lt;-</span> <span class='va'>countryDT</span><span class='op'>[</span><span class='va'>DT</span>, allow.cartesian<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>]</span>
<span class='co'>#Some didn't match, change manually</span>
<span class='co'>#DT[is.na(Continent_Name), unique(Country_Name)]</span>
<span class='va'>DT</span><span class='op'>[</span><span class='va'>Country_Name</span><span class='op'>==</span><span class='st'>"China inc HK"</span>,     <span class='va'>Continent_Name</span><span class='op'>:=</span><span class='st'>"Asia"</span><span class='op'>]</span>
<span class='va'>DT</span><span class='op'>[</span><span class='va'>Country_Name</span><span class='op'>==</span><span class='st'>"Falkland Islands"</span>, <span class='va'>Country_Name</span><span class='op'>:=</span><span class='st'>"UK"</span><span class='op'>]</span>
<span class='va'>DT</span><span class='op'>[</span><span class='va'>Country_Name</span><span class='op'>==</span><span class='st'>"UK"</span>,               <span class='va'>Continent_Name</span><span class='op'>:=</span><span class='st'>"Europe"</span><span class='op'>]</span>
<span class='va'>DT</span><span class='op'>[</span><span class='va'>Country_Name</span><span class='op'>==</span><span class='st'>"Russia"</span>,           <span class='va'>Continent_Name</span><span class='op'>:=</span><span class='st'>"Asia"</span><span class='op'>]</span>
<span class='va'>DT</span><span class='op'>[</span><span class='va'>Country_Name</span><span class='op'>==</span><span class='st'>"USA"</span>,              <span class='va'>Continent_Name</span><span class='op'>:=</span><span class='st'>"North America"</span><span class='op'>]</span>
</code></pre>
</div>
</details>
</div>
<h2 id="descriptive-statistics">Descriptive statistics</h2>
<p>Once we have obtained the data, we can finally look at it. Let’s start by looking at some summary statistics.</p>
<div class="layout-chunk" data-layout="l-body-outset">
<details>
<summary>Show code</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/ddsjoberg/gtsummary'>gtsummary</a></span><span class='op'>)</span>
<span class='co'># make dataset with a few variables to summarize</span>
<span class='va'>trial2</span> <span class='op'>&lt;-</span> <span class='va'>trial</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='va'>age</span>, <span class='va'>grade</span>, <span class='va'>response</span>, <span class='va'>trt</span><span class='op'>)</span>

<span class='fu'><a href='http://www.danieldsjoberg.com/gtsummary//reference/tbl_summary.html'>tbl_summary</a></span><span class='op'>(</span>
    data<span class='op'>=</span><span class='va'>DT</span><span class='op'>[</span>, <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='va'>Continent_Name</span>, <span class='va'>Market_cap</span>, <span class='va'>Net_debt</span>, <span class='va'>EBITDA</span>, <span class='va'>Revenue</span>, <span class='va'>EV_EBITDA</span><span class='op'>)</span><span class='op'>]</span>,
    by <span class='op'>=</span> <span class='va'>Continent_Name</span>, <span class='co'># split table by group,</span>
    digits <span class='op'>=</span> <span class='fu'><a href='https://tidyselect.r-lib.org/reference/starts_with.html'>starts_with</a></span><span class='op'>(</span><span class='st'>"EV"</span><span class='op'>)</span> <span class='op'>~</span> <span class='fl'>1</span>,
    label <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='va'>Market_cap</span> <span class='op'>~</span> <span class='st'>"Market cap"</span>, <span class='va'>Net_debt</span> <span class='op'>~</span> <span class='st'>"Net debt"</span>, <span class='va'>EV_EBITDA</span> <span class='op'>~</span> <span class='st'>"EV/EBITDA"</span><span class='op'>)</span>,
    statistic <span class='op'>=</span> <span class='fu'><a href='http://www.danieldsjoberg.com/gtsummary//reference/select_helpers.html'>all_continuous</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"{min}  / {median} / {mean} / {max} ({sd})"</span>,
    missing <span class='op'>=</span> <span class='st'>"no"</span> <span class='co'># don't list missing data separately</span>
  <span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='http://www.danieldsjoberg.com/gtsummary//reference/add_n.html'>add_n</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='co'># add column with total number of non-missing observations</span>
  <span class='fu'><a href='http://www.danieldsjoberg.com/gtsummary//reference/modify.html'>modify_header</a></span><span class='op'>(</span>label <span class='op'>=</span> <span class='st'>"**Variable**"</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='co'># update the column header</span>
  <span class='fu'><a href='http://www.danieldsjoberg.com/gtsummary//reference/bold_italicize_labels_levels.html'>bold_labels</a></span><span class='op'>(</span><span class='op'>)</span> <span class='co'># %&gt;%</span>
</code></pre>
</div>
</details>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#khwfwkeeai .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#khwfwkeeai .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#khwfwkeeai .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#khwfwkeeai .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#khwfwkeeai .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#khwfwkeeai .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#khwfwkeeai .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#khwfwkeeai .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#khwfwkeeai .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#khwfwkeeai .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#khwfwkeeai .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#khwfwkeeai .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#khwfwkeeai .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#khwfwkeeai .gt_from_md > :first-child {
  margin-top: 0;
}

#khwfwkeeai .gt_from_md > :last-child {
  margin-bottom: 0;
}

#khwfwkeeai .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#khwfwkeeai .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#khwfwkeeai .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#khwfwkeeai .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#khwfwkeeai .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#khwfwkeeai .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#khwfwkeeai .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#khwfwkeeai .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#khwfwkeeai .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#khwfwkeeai .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#khwfwkeeai .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#khwfwkeeai .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#khwfwkeeai .gt_left {
  text-align: left;
}

#khwfwkeeai .gt_center {
  text-align: center;
}

#khwfwkeeai .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#khwfwkeeai .gt_font_normal {
  font-weight: normal;
}

#khwfwkeeai .gt_font_bold {
  font-weight: bold;
}

#khwfwkeeai .gt_font_italic {
  font-style: italic;
}

#khwfwkeeai .gt_super {
  font-size: 65%;
}

#khwfwkeeai .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="khwfwkeeai" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1"><strong>Variable</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1"><strong>N</strong></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1"><strong>Africa</strong>, N = 1,146<sup class="gt_footnote_marks">1</sup></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1"><strong>Asia</strong>, N = 16,876<sup class="gt_footnote_marks">1</sup></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1"><strong>Europe</strong>, N = 33,660<sup class="gt_footnote_marks">1</sup></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1"><strong>North America</strong>, N = 11,991<sup class="gt_footnote_marks">1</sup></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1"><strong>Oceania</strong>, N = 4,808<sup class="gt_footnote_marks">1</sup></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1"><strong>South America</strong>, N = 594<sup class="gt_footnote_marks">1</sup></th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_left" style="font-weight: bold;">Market cap</td>
      <td class="gt_row gt_center">63,098</td>
      <td class="gt_row gt_center">0  / 1,282 / 4,567 / 356,006 (16,874)</td>
      <td class="gt_row gt_center">0  / 2,725 / 7,710 / 924,083 (22,174)</td>
      <td class="gt_row gt_center">0  / 215 / 3,357 / 1,403,390 (17,101)</td>
      <td class="gt_row gt_center">0  / 4,615 / 16,495 / 1,128,825 (46,860)</td>
      <td class="gt_row gt_center">0  / 357 / 2,746 / 186,590 (10,749)</td>
      <td class="gt_row gt_center">1  / 2,098 / 7,480 / 148,157 (17,496)</td>
    </tr>
    <tr>
      <td class="gt_row gt_left" style="font-weight: bold;">Net debt</td>
      <td class="gt_row gt_center">48,802</td>
      <td class="gt_row gt_center">-2,945  / 592 / 1,469 / 334,068 (11,599)</td>
      <td class="gt_row gt_center">-127,506  / 1,571 / 6,250 / 616,550 (17,992)</td>
      <td class="gt_row gt_center">-162,770  / 160 / 2,895 / 1,066,106 (20,156)</td>
      <td class="gt_row gt_center">-51,648  / 2,054 / 6,630 / 1,413,126 (20,466)</td>
      <td class="gt_row gt_center">-1,183  / 173 / 1,016 / 73,204 (3,245)</td>
      <td class="gt_row gt_center">0  / 1,816 / 8,973 / 967,805 (55,408)</td>
    </tr>
    <tr>
      <td class="gt_row gt_left" style="font-weight: bold;">EBITDA</td>
      <td class="gt_row gt_center">60,494</td>
      <td class="gt_row gt_center">-745  / 151 / 407 / 6,484 (817)</td>
      <td class="gt_row gt_center">-3,740  / 384 / 1,380 / 76,832 (4,442)</td>
      <td class="gt_row gt_center">-24,757  / 26 / 499 / 75,952 (2,301)</td>
      <td class="gt_row gt_center">-16,690  / 557 / 1,850 / 139,407 (5,048)</td>
      <td class="gt_row gt_center">-4,956  / 39 / 346 / 36,645 (1,662)</td>
      <td class="gt_row gt_center">-153  / 340 / 3,176 / 557,907 (30,150)</td>
    </tr>
    <tr>
      <td class="gt_row gt_left" style="font-weight: bold;">Revenue</td>
      <td class="gt_row gt_center">59,826</td>
      <td class="gt_row gt_center">0  / 1,015 / 2,235 / 53,302 (3,433)</td>
      <td class="gt_row gt_center">0  / 2,395 / 8,631 / 471,268 (22,306)</td>
      <td class="gt_row gt_center">-678  / 194 / 3,225 / 484,748 (15,030)</td>
      <td class="gt_row gt_center">-31  / 3,328 / 10,460 / 510,329 (27,061)</td>
      <td class="gt_row gt_center">0  / 188 / 1,400 / 71,330 (5,001)</td>
      <td class="gt_row gt_center">0  / 1,481 / 16,988 / 3,317,699 (179,287)</td>
    </tr>
    <tr>
      <td class="gt_row gt_left" style="font-weight: bold;">EV/EBITDA</td>
      <td class="gt_row gt_center">45,380</td>
      <td class="gt_row gt_center">-4,301.0  / 10.3 / 6.9 / 614.2 (172.4)</td>
      <td class="gt_row gt_center">-7,428.6  / 11.1 / 59.6 / 453,332.3 (4,493.2)</td>
      <td class="gt_row gt_center">-18,141.0  / 10.7 / 21.3 / 88,542.6 (686.7)</td>
      <td class="gt_row gt_center">-10,681.5  / 11.8 / 12.9 / 5,872.3 (157.0)</td>
      <td class="gt_row gt_center">-733.8  / 10.4 / 13.9 / 4,860.3 (106.7)</td>
      <td class="gt_row gt_center">-283.7  / 11.2 / 14.3 / 333.3 (28.7)</td>
    </tr>
  </tbody>
  
  <tfoot>
    <tr class="gt_footnotes">
      <td colspan="8">
        <p class="gt_footnote">
          <sup class="gt_footnote_marks">
            <em>1</em>
          </sup>
           
          Minimum  / Median / Mean / Maximum (SD)
          <br />
        </p>
      </td>
    </tr>
  </tfoot>
</table></div>
<details>
<summary>Show code</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r">  <span class='co'>#as_kable_extra() %&gt;%</span>
  <span class='co'>#kable_classic()</span>
</code></pre>
</div>
</details>
</div>
<p>The table above already allows for some interesting observations:</p>
<ul>
<li>There are large size differences between the companies across the continents. For example, while North American companies have a market cap of over USD 4.5 billion in the median case, it is just above USD 200 million for the European sample. On the <a href="https://www.quandl.com/data/RB1-Robur-Global-Select-Stock-Fundamentals/documentation?anchor=coverage-data-organization">information page</a> for this data set, it is mentioned that “coverage emphasizes Asia/Europe”, which is most likely the explanation for the large differences.</li>
<li>There are quite a few outliers in the EV/EBITDA multiple, so going forward I filter observations for which the EV/EBITDA multiple is either negative, above 100x or not available.</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>Show code</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>DT</span> <span class='op'>&lt;-</span> <span class='va'>DT</span><span class='op'>[</span><span class='va'>EV_EBITDA</span><span class='op'>&gt;</span><span class='fl'>0</span> <span class='op'>&amp;</span> <span class='va'>EV_EBITDA</span> <span class='op'>&lt;</span><span class='fl'>100</span> <span class='op'>&amp;</span> <span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>EV_EBITDA</span><span class='op'>)</span><span class='op'>]</span>
</code></pre>
</div>
</details>
</div>
<p>Let’s also look at the distributions, scatter plots and correlations of some of the key variables.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>Show code</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://ggobi.github.io/ggally/'>GGally</a></span><span class='op'>)</span>
<span class='fu'><a href='https://ggobi.github.io/ggally/reference/ggpairs.html'>ggpairs</a></span><span class='op'>(</span><span class='va'>DT</span><span class='op'>[</span><span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/Log.html'>log</a></span><span class='op'>(</span><span class='va'>Market_cap</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>&amp;</span> <span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/Log.html'>log</a></span><span class='op'>(</span><span class='va'>Net_debt</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>&amp;</span>
           <span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/Log.html'>log</a></span><span class='op'>(</span><span class='va'>EBITDA</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>&amp;</span> <span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/Log.html'>log</a></span><span class='op'>(</span><span class='va'>Revenue</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>&amp;</span> <span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>EV_EBITDA</span><span class='op'>)</span> <span class='op'>&amp;</span> 
           <span class='fu'><a href='https://rdrr.io/r/base/is.finite.html'>is.finite</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/Log.html'>log</a></span><span class='op'>(</span><span class='va'>Market_cap</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>&amp;</span> <span class='fu'><a href='https://rdrr.io/r/base/is.finite.html'>is.finite</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/Log.html'>log</a></span><span class='op'>(</span><span class='va'>Net_debt</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>&amp;</span> <span class='fu'><a href='https://rdrr.io/r/base/is.finite.html'>is.finite</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/Log.html'>log</a></span><span class='op'>(</span><span class='va'>Revenue</span><span class='op'>)</span><span class='op'>)</span>,
           <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>Market_cap_log <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Log.html'>log</a></span><span class='op'>(</span><span class='va'>Market_cap</span><span class='op'>)</span>, 
                 Net_debt_log   <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Log.html'>log</a></span><span class='op'>(</span><span class='va'>Net_debt</span><span class='op'>)</span>, 
                 EBITDA_log     <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Log.html'>log</a></span><span class='op'>(</span><span class='va'>EBITDA</span><span class='op'>)</span>, 
                 Revenue_log    <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Log.html'>log</a></span><span class='op'>(</span><span class='va'>Revenue</span><span class='op'>)</span>, 
                 <span class='va'>EV_EBITDA</span><span class='op'>)</span><span class='op'>]</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="evebitda-valuation-multiple-the-data_files/figure-html5/ggpairs_Plot-1.png" width="624" /></p>
</div>
<p>Not surprisingly, there is a strong correlation between the market cap, net debt, EBITDA and Revenue. These values are in absolute numbers and a company that has 10x larger revenues than another company is very likely to have a much higher EBITDA, even if it is less profitable.</p>
<p>Most of the observations for the EV/EBITDA multiple are in the range from 0x to 25x; however, there is a long right-tail that goes all the way up to 100x.</p>
<h2 id="evebitda-multiples-by-sector">EV/EBITDA multiples by sector</h2>
<p>Next, I look at the EV/EBITDA multiples per industry or sector. I thereby focus on the multiple range from 0x to 30x and focus on Oceania, Europe, Asia, North America.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>Show code</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>DT</span><span class='op'>[</span><span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>Continent_Name</span><span class='op'>)</span> <span class='op'>&amp;</span> <span class='va'>Continent_Name</span><span class='op'>!=</span><span class='st'>"Africa"</span> <span class='op'>&amp;</span> <span class='va'>Continent_Name</span><span class='op'>!=</span><span class='st'>"South America"</span><span class='op'>]</span>, 
       <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/reorder.factor.html'>reorder</a></span><span class='op'>(</span><span class='va'>sector_group</span>, <span class='va'>EV_EBITDA</span>, na.rm<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span>, y <span class='op'>=</span> <span class='va'>EV_EBITDA</span>, <span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span> <span class='co'>#fill = Continent_Name)) +</span>
 <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_boxplot.html'>geom_boxplot</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/lims.html'>ylim</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>,<span class='fl'>30</span><span class='op'>)</span><span class='op'>)</span>  <span class='op'>+</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>ylab</a></span><span class='op'>(</span><span class='st'>"EV/EBITDA"</span><span class='op'>)</span> <span class='op'>+</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>xlab</a></span><span class='op'>(</span><span class='st'>"Sector"</span><span class='op'>)</span> <span class='op'>+</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/coord_flip.html'>coord_flip</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="evebitda-valuation-multiple-the-data_files/figure-html5/Boxplot-1.png" width="624" /></p>
</div>
<p>For me, the biggest take-away from this chart is the large intra-sector dispersion: even if we only look at the 25th to 75th percentile (the lower and upper end of the rectangles), we have a spread of at least 5x, but more often around 10x. The 75th percentile company of one of the sectors with the lowest multiples overall, telecommunications, has around the same multiple as the 25th percentile of the highest multiple sector, healthcare.</p>
<p>For valuing companies, this means that the sector alone is not sufficient to estimate reasonable multiples. Don’t make the mistake to assume that a company should be valued at a double-digit multiple, simply because it is a healthcare company. And as we know from Tesla, just because a company is in the vehicles sector does not necessarily mean that it must trade at a single-digit multiple.</p>
<aside>
Let’s not start the discussion here at what multiple Tesla should be valued…maybe another time.
</aside>
<p>At the very least, it is important to link the EV/EBITDA multiple back to a more comprehensive free cash flow valuation: Is the company cash generative? What are the growth prospects? Do you expect large net working capital changes? And what are the tax rates in relation to peers? More on this further below.</p>
<p>Next, let’s look at the multiple development over time. Before we show the median development, let’s first check that we have enough observations per year/sector. The chart below shows the number of data points.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>Show code</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#https://stackoverflow.com/questions/38722202/how-do-i-change-the-number-of-decimal-places-on-axis-labels-in-ggplot2/53362011</span>
<span class='va'>scaleFUN</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span> <span class='fu'><a href='https://rdrr.io/r/base/sprintf.html'>sprintf</a></span><span class='op'>(</span><span class='st'>"%.0f"</span>, <span class='va'>x</span><span class='op'>)</span>
<span class='co'>#https://stackoverflow.com/questions/14290364/heatmap-with-values-ggplot2</span>
<span class='co'>## plot data</span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='va'>DT</span><span class='op'>[</span>,<span class='va'>.N</span>,by<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>Year<span class='op'>=</span><span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/IDateTime.html'>year</a></span><span class='op'>(</span><span class='va'>Date</span><span class='op'>)</span>, <span class='va'>sector_group</span><span class='op'>)</span><span class='op'>]</span>, <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span><span class='va'>Year</span>, <span class='va'>sector_group</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_tile</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='va'>N</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span> 
    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>label <span class='op'>=</span> <span class='va'>N</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>ylab</a></span><span class='op'>(</span><span class='st'>"Sector"</span><span class='op'>)</span> <span class='op'>+</span>
    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_x_continuous</a></span><span class='op'>(</span>labels<span class='op'>=</span><span class='va'>scaleFUN</span><span class='op'>)</span> <span class='op'>+</span> 
    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_gradient.html'>scale_fill_gradient</a></span><span class='op'>(</span>low <span class='op'>=</span> <span class='st'>"white"</span>, high <span class='op'>=</span> <span class='st'>"blue"</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="evebitda-valuation-multiple-the-data_files/figure-html5/Number_of_observations-1.png" width="624" /></p>
</div>
<p>The table reveals that for 2010 and 2020, there are not many observations for some sectors and hence the results could be a bit misleading. I therefore focus on the period from 2011 to 2019.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>Show code</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/tdhock/directlabels'>directlabels</a></span><span class='op'>)</span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='va'>DT</span><span class='op'>[</span><span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/IDateTime.html'>year</a></span><span class='op'>(</span><span class='va'>Date</span><span class='op'>)</span><span class='op'>&gt;</span><span class='fl'>2010</span> <span class='op'>&amp;</span> <span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/IDateTime.html'>year</a></span><span class='op'>(</span><span class='va'>Date</span><span class='op'>)</span><span class='op'>&lt;</span><span class='fl'>2020</span>, <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>Median <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/median.html'>median</a></span><span class='op'>(</span><span class='va'>EV_EBITDA</span>, na.rm<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span><span class='op'>)</span>,by<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='va'>sector_group</span>, Year<span class='op'>=</span><span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/IDateTime.html'>year</a></span><span class='op'>(</span><span class='va'>Date</span><span class='op'>)</span><span class='op'>)</span><span class='op'>]</span>,
       <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x<span class='op'>=</span><span class='va'>Year</span>, y<span class='op'>=</span><span class='va'>Median</span>, color<span class='op'>=</span><span class='va'>sector_group</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span><span class='op'>)</span>  <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_colour_discrete.html'>scale_colour_discrete</a></span><span class='op'>(</span>guide <span class='op'>=</span> <span class='st'>'none'</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_x_continuous</a></span><span class='op'>(</span>labels<span class='op'>=</span><span class='va'>scaleFUN</span>, expand <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.2</span>, <span class='fl'>0</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'><a href='https://rdrr.io/pkg/directlabels/man/geom_dl.html'>geom_dl</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>label <span class='op'>=</span> <span class='va'>sector_group</span><span class='op'>)</span>, method <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/pkg/directlabels/man/dl.combine.html'>dl.combine</a></span><span class='op'>(</span><span class='st'>"first.points"</span>, <span class='st'>"last.points"</span><span class='op'>)</span>, cex <span class='op'>=</span> <span class='fl'>0.7</span><span class='op'>)</span><span class='op'>)</span> 
</code></pre>
</div>
</details>
<p><img src="evebitda-valuation-multiple-the-data_files/figure-html5/Sector_mutiples_over_time-1.png" width="624" /></p>
</div>
<p>By and large, the sector multiples saw a simultaneous increase over the last decade, but there are also some changes in the ordering. For example, healthcare and IT have seen large increases in their median multiples over the last decade, catapulting them to the top, while construction saw a decline.</p>
<h2 id="drivers-of-valuation-multiples">Drivers of valuation multiples</h2>
<p>In my opinion, the aggregation to sectors is just a shortcut of deducting valuation multiples. Software companies by and large have high cash conversion, and as high cash conversion is linked with high multiples, one can argue that a software company should trade for a high multiple. Of course, as the analysis above has shown, this is a dangerous deduction. In the case in which a company is classified as a software company but does not have high a cash conversions for some reason, simply assuming a mean or median software multiple leads to upward biased valuations.</p>
<p>In the blog post <a href="https://www.christoph-jaeckel.com/posts/2021-01-17-evebitda-valuation-multiple-the-theory/">EV/EBITDA valuation multiple: the theory</a>, I derived the EV/EBITDA multiple from a FCFF-DCF model under some simplifying assumptions. I showed that the EV/EBITDA multiple should the higher,</p>
<ul>
<li>the higher the operational cash conversion (OCC);</li>
<li>the higher the growth of the business;</li>
<li>the lower the tax rate; and</li>
<li>the lower the discount rate, i.e., the risk of the business.</li>
</ul>
<p>With the data set I have at hand, I can unfortunately not look into most of these factors. However, as the data set includes information about the CAPEX, D&amp;A and operational cash flow, I can at least investigate the operational cash conversion.</p>
<aside>
Maybe I find a more comprehensive and easier to obtain data set in the future, in which case I will write another post. Unfortunately, most data analysis starts with data collection, which is still cumbersome, despite huge improvements over the years thanks to offers such as <a href="https://www.quandl.com">Quandl</a>.
</aside>
<h3 id="operative-cash-conversion">Operative cash conversion</h3>
<p>Let’s first compare the CAPEX and the depreciation in the data set. Ideally, the two are highly correlated, so I can use one for the other and the assumption that D&amp;A and CAPEX measure the same thing is reasonable.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>Show code</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>### Calculate correlation in relation to revenues</span>
<span class='va'>DT</span><span class='op'>[</span>, <span class='va'>Capex</span><span class='op'>:=</span><span class='op'>-</span><span class='va'>Capex</span><span class='op'>]</span>
<span class='va'>DT</span><span class='op'>[</span>,<span class='va'>DA_Rev</span>    <span class='op'>:=</span> <span class='va'>Depreciation</span><span class='op'>/</span><span class='va'>Revenue</span><span class='op'>]</span>
<span class='va'>DT</span><span class='op'>[</span>,<span class='va'>Capex_Rev</span> <span class='op'>:=</span> <span class='va'>Capex</span><span class='op'>/</span><span class='va'>Revenue</span><span class='op'>]</span>
<span class='co'>#TODO make prettier</span>
<span class='va'>statDT</span> <span class='op'>&lt;-</span>  <span class='va'>DT</span><span class='op'>[</span>, <span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>lapply</a></span><span class='op'>(</span><span class='va'>.SD</span>, <span class='va'>quantile</span>, probs<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.05</span>,<span class='fl'>0.25</span>,<span class='fl'>0.5</span>,<span class='fl'>0.75</span>,<span class='fl'>0.95</span><span class='op'>)</span>,                
                         na.rm<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span>,
                .SDcols<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Depreciation"</span>, <span class='st'>"Capex"</span>, <span class='st'>"DA_Rev"</span>, <span class='st'>"Capex_Rev"</span><span class='op'>)</span><span class='op'>]</span>
<span class='va'>statDT</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/cbind.html'>cbind</a></span><span class='op'>(</span><span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/data.table.html'>data.table</a></span><span class='op'>(</span>Percentile <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"5th"</span>,
                                          <span class='st'>"25th"</span>,
                                          <span class='st'>"Median"</span>,
                                          <span class='st'>"75th"</span>,
                                          <span class='st'>"95th"</span><span class='op'>)</span><span class='op'>)</span>,
                <span class='va'>statDT</span><span class='op'>)</span>
<span class='va'>statDT</span><span class='op'>[</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Depreciation"</span>, <span class='st'>"Capex"</span><span class='op'>)</span><span class='op'>:=</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/format.html'>format</a></span><span class='op'>(</span><span class='va'>Depreciation</span>, 
                                                 digits<span class='op'>=</span><span class='fl'>1</span>, 
                                                 big.mark<span class='op'>=</span><span class='st'>","</span>,
                                                 scientific <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>,
                                          <span class='fu'><a href='https://rdrr.io/r/base/format.html'>format</a></span><span class='op'>(</span><span class='va'>Capex</span>, 
                                                 digits<span class='op'>=</span><span class='fl'>1</span>, 
                                                 big.mark<span class='op'>=</span><span class='st'>","</span>,
                                                 scientific <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>)</span><span class='op'>]</span>
<span class='va'>statDT</span><span class='op'>[</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"DA_Rev"</span>, <span class='st'>"Capex_Rev"</span><span class='op'>)</span><span class='op'>:=</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/format.html'>format</a></span><span class='op'>(</span><span class='va'>DA_Rev</span><span class='op'>*</span><span class='fl'>100</span>, 
                                                 digits<span class='op'>=</span><span class='fl'>1</span><span class='op'>)</span>, <span class='st'>"%"</span><span class='op'>)</span>,
                                        <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/format.html'>format</a></span><span class='op'>(</span><span class='va'>Capex_Rev</span><span class='op'>*</span><span class='fl'>100</span>, 
                                                 digits<span class='op'>=</span><span class='fl'>1</span><span class='op'>)</span>, <span class='st'>"%"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>]</span>
<span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/setattr.html'>setnames</a></span><span class='op'>(</span><span class='va'>statDT</span>, 
         <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Depreciation"</span>, <span class='st'>"DA_Rev"</span>, <span class='st'>"Capex_Rev"</span><span class='op'>)</span>,
         <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"D&amp;A"</span>,          <span class='st'>"D&amp;A/Rev"</span>,    <span class='st'>"Capex/Rev"</span><span class='op'>)</span><span class='op'>)</span>

<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='http://haozhu233.github.io/kableExtra/'>kableExtra</a></span><span class='op'>)</span>
<span class='va'>statDT</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://rdrr.io/pkg/kableExtra/man/kbl.html'>kbl</a></span><span class='op'>(</span>caption <span class='op'>=</span> <span class='st'>"Percentiles for D&amp;A and Capex (absolute in USD million and in relation to revenues)"</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://rdrr.io/pkg/kableExtra/man/kable_classic.html'>kable_classic</a></span><span class='op'>(</span>full_width <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> 
</code></pre>
</div>
</details>
<table class=" lightable-classic" style='font-family: "Arial Narrow", "Source Sans Pro", sans-serif; width: auto !important; margin-left: auto; margin-right: auto;'>
<caption>
<span id="tab:CAPEX-vs-depreciation-correlation">Table 1: </span>Percentiles for D&amp;A and Capex (absolute in USD million and in relation to revenues)
</caption>
<thead>
<tr>
<th style="text-align:left;">
Percentile
</th>
<th style="text-align:left;">
D&amp;A
</th>
<th style="text-align:left;">
Capex
</th>
<th style="text-align:left;">
D&amp;A/Rev
</th>
<th style="text-align:left;">
Capex/Rev
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
5th
</td>
<td style="text-align:left;">
0.6
</td>
<td style="text-align:left;">
0.8
</td>
<td style="text-align:left;">
0.5%
</td>
<td style="text-align:left;">
0.5%
</td>
</tr>
<tr>
<td style="text-align:left;">
25th
</td>
<td style="text-align:left;">
9.5
</td>
<td style="text-align:left;">
12.2
</td>
<td style="text-align:left;">
2.2%
</td>
<td style="text-align:left;">
2.2%
</td>
</tr>
<tr>
<td style="text-align:left;">
Median
</td>
<td style="text-align:left;">
60.0
</td>
<td style="text-align:left;">
77.1
</td>
<td style="text-align:left;">
4.1%
</td>
<td style="text-align:left;">
4.6%
</td>
</tr>
<tr>
<td style="text-align:left;">
75th
</td>
<td style="text-align:left;">
249.2
</td>
<td style="text-align:left;">
319.7
</td>
<td style="text-align:left;">
7.7%
</td>
<td style="text-align:left;">
10.5%
</td>
</tr>
<tr>
<td style="text-align:left;">
95th
</td>
<td style="text-align:left;">
1,671.2
</td>
<td style="text-align:left;">
2,151.6
</td>
<td style="text-align:left;">
23.1%
</td>
<td style="text-align:left;">
48.2%
</td>
</tr>
</tbody>
</table>
</div>
<p>There is quite a strong relationship between the two with a correlation of 92.6% between CAPEX/revenues and D&amp;A/revenues. I use normalized numbers, i.e. in relation to revenues, otherwise I might simply pick up a size effect. A company that is ten times as large as another company will have both much higher CAPEX and depreciation, even if the two variables are not strongly correlated. That’s why looking at the normalized numbers is so important.</p>
<p>Next, let’s look at the scatterplot. There are so many observations that I have to make each point transparent with <a href="https://stackoverflow.com/questions/7714677/scatterplot-with-too-many-points">alpha blending</a>. That way the regions with more observations appear darker, revealing a strong correlation between the two. Furthermore, I limit the plotting area from 0% to 10%, which holds most of the observations. This is another interesting result for me. CAPEX/D&amp;A rarely makes up more than 10% of a company’s revenues, if it does, better check why.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>Show code</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#https://stackoverflow.com/questions/7714677/scatterplot-with-too-many-points</span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='va'>DT</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/is.finite.html'>is.finite</a></span><span class='op'>(</span><span class='va'>DA_Rev</span><span class='op'>)</span> <span class='op'>&amp;</span> <span class='fu'><a href='https://rdrr.io/r/base/is.finite.html'>is.finite</a></span><span class='op'>(</span><span class='va'>Capex_Rev</span><span class='op'>)</span> <span class='op'>&amp;</span> <span class='va'>DA_Rev</span><span class='op'>&lt;</span><span class='fl'>1</span> <span class='op'>&amp;</span> <span class='va'>DA_Rev</span><span class='op'>&gt;</span><span class='fl'>0</span> <span class='op'>&amp;</span> <span class='va'>Capex_Rev</span><span class='op'>&lt;</span><span class='fl'>1</span> <span class='op'>&amp;</span> <span class='va'>Capex_Rev</span><span class='op'>&gt;</span><span class='fl'>0</span>, <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='va'>DA_Rev</span>, <span class='va'>Capex_Rev</span><span class='op'>)</span><span class='op'>]</span>,
       <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x<span class='op'>=</span><span class='va'>DA_Rev</span>, y<span class='op'>=</span><span class='va'>Capex_Rev</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span>alpha<span class='op'>=</span><span class='fl'>0.05</span><span class='op'>)</span>  <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_x_continuous</a></span><span class='op'>(</span>limits <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>,<span class='fl'>0.1</span><span class='op'>)</span>, labels <span class='op'>=</span> <span class='fu'>scales</span><span class='fu'>::</span><span class='va'><a href='https://scales.r-lib.org//reference/label_percent.html'>percent</a></span><span class='op'>)</span> <span class='op'>+</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_y_continuous</a></span><span class='op'>(</span>limits <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>,<span class='fl'>0.1</span><span class='op'>)</span>, labels <span class='op'>=</span> <span class='fu'>scales</span><span class='fu'>::</span><span class='va'><a href='https://scales.r-lib.org//reference/label_percent.html'>percent</a></span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>xlab</a></span><span class='op'>(</span><span class='st'>"Depreciation in relation to revenues"</span><span class='op'>)</span> <span class='op'>+</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>ylab</a></span><span class='op'>(</span><span class='st'>"CAPEX in relation to revenues"</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="evebitda-valuation-multiple-the-data_files/figure-html5/Scatterplot_CAPEX_Depreciation-1.png" width="624" /></p>
</div>
<p>Let’s now look at the relationship of the OCC, defined as 1 minus D&amp;A divided by EBITDA, in comparison to the EV/EBITDA multiple. As we have the depreciation directly and as it looks a bit smoother than the CAPEX, I will use the depreciation in the analysis as the input to calculate the OCC. I will also require the following:</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>Show code</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>DT</span><span class='op'>[</span><span class='va'>EBITDA</span><span class='op'>&gt;</span><span class='fl'>0</span> <span class='op'>&amp;</span> <span class='va'>Depreciation</span><span class='op'>&gt;</span><span class='fl'>0</span> <span class='op'>&amp;</span> <span class='va'>EBITDA</span><span class='op'>&gt;</span><span class='fl'>50</span>, <span class='va'>OCC</span> <span class='op'>:=</span> <span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>pmax</a></span><span class='op'>(</span><span class='fl'>0</span>,<span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>pmin</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>1</span><span class='op'>-</span><span class='va'>Depreciation</span><span class='op'>/</span><span class='va'>EBITDA</span><span class='op'>)</span><span class='op'>)</span><span class='op'>]</span>
<span class='va'>cor_DA_Rev_OCC</span> <span class='op'>&lt;-</span> <span class='va'>DT</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/is.finite.html'>is.finite</a></span><span class='op'>(</span><span class='va'>DA_Rev</span><span class='op'>)</span> <span class='op'>&amp;</span> <span class='fu'><a href='https://rdrr.io/r/base/is.finite.html'>is.finite</a></span><span class='op'>(</span><span class='va'>OCC</span><span class='op'>)</span> <span class='op'>&amp;</span> <span class='va'>DA_Rev</span><span class='op'>&lt;</span><span class='fl'>1</span> <span class='op'>&amp;</span> <span class='va'>DA_Rev</span><span class='op'>&gt;</span><span class='fl'>0</span>, <span class='fu'><a href='https://rdrr.io/r/stats/cor.html'>cor</a></span><span class='op'>(</span><span class='va'>DA_Rev</span>, <span class='va'>OCC</span><span class='op'>)</span><span class='op'>]</span>
</code></pre>
</div>
</details>
</div>
<ul>
<li>EBITDA must be larger than USD 50m; this guarantees that the EBITDA is positive, otherwise the OCC has no meaningful interpretation; furthermore, it excludes listed companies for which the EBITDA is small, for example due to a terrible year, which makes the EV/EBITDA multiple difficult to interpret.</li>
<li>D&amp;A has to be positive; if it is set to 0, it is most likely a data measurement error as it is unrealistic that a company has no D&amp;A whatsoever.</li>
<li>The OCC is limited to 0 and 1; 0 implies that the depreciation is as large as the EBITDA; +1 implies that the depreciation is 0; hence, this limitation shouldn’t get rid of many reasonable values that lie outside of them; however, it filters for many unreasonable values that could be a result of very low EBITDA numbers that inflate the ratio.</li>
<li>For the scatter plot chart, I limit the analysis further to an OCC from 30% to 100% as ca. 93% fall in that range. Including observations with lower OCC might bias the view towards such outliers.</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>Show code</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>DT</span><span class='op'>[</span>, <span class='va'>Year</span><span class='op'>:=</span><span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/IDateTime.html'>year</a></span><span class='op'>(</span><span class='va'>Date</span><span class='op'>)</span><span class='op'>]</span>
<span class='va'>cor_EV_EBITDA_OCC</span> <span class='op'>&lt;-</span> <span class='va'>DT</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/is.finite.html'>is.finite</a></span><span class='op'>(</span><span class='va'>EV_EBITDA</span><span class='op'>)</span> <span class='op'>&amp;</span> <span class='fu'><a href='https://rdrr.io/r/base/is.finite.html'>is.finite</a></span><span class='op'>(</span><span class='va'>OCC</span><span class='op'>)</span> <span class='op'>&amp;</span> <span class='va'>EV_EBITDA</span><span class='op'>&lt;</span><span class='fl'>30</span> <span class='op'>&amp;</span> <span class='va'>OCC</span><span class='op'>&gt;</span><span class='fl'>0</span> <span class='op'>&amp;</span> <span class='va'>OCC</span><span class='op'>&lt;</span><span class='fl'>1</span>, <span class='fu'><a href='https://rdrr.io/r/stats/cor.html'>cor</a></span><span class='op'>(</span><span class='va'>EV_EBITDA</span>, <span class='va'>OCC</span><span class='op'>)</span><span class='op'>]</span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='va'>DT</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/is.finite.html'>is.finite</a></span><span class='op'>(</span><span class='va'>EV_EBITDA</span><span class='op'>)</span> <span class='op'>&amp;</span> <span class='fu'><a href='https://rdrr.io/r/base/is.finite.html'>is.finite</a></span><span class='op'>(</span><span class='va'>OCC</span><span class='op'>)</span> <span class='op'>&amp;</span> <span class='va'>EV_EBITDA</span><span class='op'>&gt;</span><span class='fl'>0</span> <span class='op'>&amp;</span> <span class='va'>EV_EBITDA</span><span class='op'>&lt;</span><span class='fl'>30</span> <span class='op'>&amp;</span> <span class='va'>OCC</span><span class='op'>&gt;</span><span class='fl'>0.3</span> <span class='op'>&amp;</span> <span class='va'>OCC</span><span class='op'>&lt;</span><span class='fl'>1</span> <span class='op'>&amp;</span>
          <span class='va'>Year</span><span class='op'>&gt;</span><span class='fl'>2010</span> <span class='op'>&amp;</span> <span class='va'>Year</span><span class='op'>&lt;</span><span class='fl'>2020</span> <span class='op'>&amp;</span> <span class='va'>EBITDA</span><span class='op'>&gt;</span><span class='fl'>10</span><span class='op'>]</span>, 
       <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x<span class='op'>=</span><span class='va'>OCC</span>, y<span class='op'>=</span><span class='va'>EV_EBITDA</span>, color<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/factor.html'>as.factor</a></span><span class='op'>(</span><span class='va'>Year</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span> <span class='co'>#, color=sector_group)) +</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_x_continuous</a></span><span class='op'>(</span>labels <span class='op'>=</span> <span class='fu'>scales</span><span class='fu'>::</span><span class='va'><a href='https://scales.r-lib.org//reference/label_percent.html'>percent</a></span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span>alpha<span class='op'>=</span><span class='fl'>0.05</span><span class='op'>)</span> <span class='op'>+</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>xlab</a></span><span class='op'>(</span><span class='st'>"OCC"</span><span class='op'>)</span> <span class='op'>+</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>ylab</a></span><span class='op'>(</span><span class='st'>"EV/EBITDA"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_smooth.html'>geom_smooth</a></span><span class='op'>(</span>method<span class='op'>=</span><span class='va'>lm</span>, se<span class='op'>=</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>legend.title <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<p><img src="evebitda-valuation-multiple-the-data_files/figure-html5/Correlation-1.png" width="624" /></p>
</div>
<p>Next I look at the correlation between the OCC and the EV/EBITDA, the relationship I’m ultimately interested in. As before, I exclude EV/EBITDA multiples above 30x. As expected, the correlation is positive with 15%. The scatter plot also reveals a positive relationship for each year. I condition on years to partially get rid of overall changes in valuation levels, essentially market sentiment, which have a large impact on the EV/EBITDA multiple, but should be independent from OCC.</p>
<p>The chart reveals that an increase of the OCC from 30% to 100% is accompanied by an increase in the EV/EBITDA multiple of 3x to 5x in most years. Hence, operational cash conversion is an important factor of the EV/EBITDA multiple</p>
<h2 id="summary">Summary</h2>
<p>In this post I have looked into the EV/EBITDA multiple in more detail with an international data set of companies from 2010 to 2020. I have shown that there is large dispersion in the EV/EBITDA multiple across and within sectors. Furthermore, I have established a positive correlation between the operational cash conversion and the EV/EBITDA multiple.</p>
<p>I would have liked to look in much more detail into the underlying data set. I have some question marks, for example why there are many observations with zero depreciation. Did these companies really have no depreciation to report or is it more an issue of reporting quality? In general, international data sets are more challenging as it is harder to ensure consistency in reporting. Selection bias could also be an issue, as it is not clear to me based on which criteria the companies make it into the data set.</p>
<p>Furthermore, I could not condition for other important factors of the EV/EBITDA multiple, such as the tax rate, the discount rate, and growth expectations, as these factors were not easily available in the data set and I did not want to make too many arbitrary assumptions (I already made a few). For a more scientific analysis, one would have to dig into these issues in much more detail.</p>
<p>In the future, I might get my hands on a more concise data set, for example for the U.S. market. Data sets from the U.S. typically have the highest quality, as the reporting rules are strict and enforced and as the market is by far the largest in the world. I write another blog post if I’m successful on this front.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<div class="article-footer">
  <p class="social_footer">
    <span class="disqus-comments">
      <i class="fas fa-comments"></i>
      &nbsp;
      <span class="disqus-comment-count" data-disqus-identifier="posts/2021-01-17-evebitda-valuation-multiple-the-data/">Comment on this article</span>
    </span>
    <span class="article-sharing">
      Share: &nbsp;
      <a href="https://twitter.com/share?text=EV%2FEBITDA%20valuation%20multiple%3A%20some%20data&amp;url=https%3A%2F%2Fwww.christoph-jaeckel.com%2Fposts%2F2021-01-17-evebitda-valuation-multiple-the-data%2F">
        <i class="fab fa-twitter"></i>
      </a>
      <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fwww.christoph-jaeckel.com%2Fposts%2F2021-01-17-evebitda-valuation-multiple-the-data%2F&amp;title=EV%2FEBITDA%20valuation%20multiple%3A%20some%20data">
        <i class="fab fa-linkedin"></i>
      </a>
    </span>
  </p>
  <script id="dsq-count-scr" src="https://https-www-christoph-jaeckel-com.disqus.com/count.js" async></script>
  <div id="disqus_thread" class="hidden"></div>
  <script type="text/plain" cookie-consent="functionality">
var disqus_config = function () {
  this.page.url = 'https://www.christoph-jaeckel.com/posts/2021-01-17-evebitda-valuation-multiple-the-data/';
  this.page.identifier = 'posts/2021-01-17-evebitda-valuation-multiple-the-data/';
};
(function() {
  var d = document, s = d.createElement('script');
  s.src = 'https://https-www-christoph-jaeckel-com.disqus.com/embed.js';
  s.setAttribute('data-timestamp', +new Date());
  (d.head || d.body).appendChild(s);
})();
</script>
</div>
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom">
  <h3 id="updates-and-corrections">Corrections</h3>
  <p>If you see mistakes or want to suggest changes, please <a href="https://github.com/christophj/cjaeckel.github.io/issues/new">create an issue</a> on the source repository.</p>
</div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<div class="distill-site-nav distill-site-footer">
  <p>Copyright 2021 <a href="https://www.linkedin.com/in/christoph-j%C3%A4ckel-97401127/">Christoph Jaeckel</a></p>
  <p>Code shared on this website licensed under the <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License, v2.0</a>.</p>
</div>
<!--/radix_placeholder_navigation_after_body-->


</body>

</html>
