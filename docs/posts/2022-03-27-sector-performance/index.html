<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007ba5; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #007ba5; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #007ba5; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #5e5e5e; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>


  <!--radix_placeholder_meta_tags-->
<title>Uncertain times: Sector performance</title>

<meta property="description" itemprop="description" content="How to use data from Kenneth French and Aswath Damodaran to understand the impact of macroeconomic events on certain sectors."/>

<link rel="canonical" href="https://www.christoph-jaeckel.com/posts/2022-03-27-sector-performance/"/>

<!--  https://schema.org/Article -->
<meta property="article:published" itemprop="datePublished" content="2022-04-03"/>
<meta property="article:created" itemprop="dateCreated" content="2022-04-03"/>
<meta name="article:author" content="Christoph Jäckel"/>

<!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
<meta property="og:title" content="Uncertain times: Sector performance"/>
<meta property="og:type" content="article"/>
<meta property="og:description" content="How to use data from Kenneth French and Aswath Damodaran to understand the impact of macroeconomic events on certain sectors."/>
<meta property="og:url" content="https://www.christoph-jaeckel.com/posts/2022-03-27-sector-performance/"/>
<meta property="og:image" content="https://www.christoph-jaeckel.com/posts/2022-03-27-sector-performance/sector-performance_files/figure-html5/PlotChartCOVID-1.png"/>
<meta property="og:image:width" content="1248"/>
<meta property="og:image:height" content="768"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:site_name" content="Uncertain times"/>

<!--  https://dev.twitter.com/cards/types/summary -->
<meta property="twitter:card" content="summary_large_image"/>
<meta property="twitter:title" content="Uncertain times: Sector performance"/>
<meta property="twitter:description" content="How to use data from Kenneth French and Aswath Damodaran to understand the impact of macroeconomic events on certain sectors."/>
<meta property="twitter:url" content="https://www.christoph-jaeckel.com/posts/2022-03-27-sector-performance/"/>
<meta property="twitter:image" content="https://www.christoph-jaeckel.com/posts/2022-03-27-sector-performance/sector-performance_files/figure-html5/PlotChartCOVID-1.png"/>
<meta property="twitter:image:width" content="1248"/>
<meta property="twitter:image:height" content="768"/>

<!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

<script type="text/json" id="radix-rmarkdown-metadata">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","date","output","categories","draft","canonical_url"]}},"value":[{"type":"character","attributes":{},"value":["Sector performance"]},{"type":"character","attributes":{},"value":["How to use data from Kenneth French and Aswath Damodaran to understand the impact of macroeconomic events on certain sectors."]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","url"]}},"value":[{"type":"character","attributes":{},"value":["Christoph Jäckel"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":[]}},"value":[]}]}]},{"type":"character","attributes":{},"value":["2022-04-03"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["self_contained","code_folding"]}},"value":[{"type":"logical","attributes":{},"value":[false]},{"type":"logical","attributes":{},"value":[true]}]}]},{"type":"character","attributes":{},"value":["Data","Research"]},{"type":"logical","attributes":{},"value":[false]},{"type":"character","attributes":{},"value":["https://www.christoph-jaeckel.com/posts/2022-03-27-sector-performance/"]}]}
</script>
<!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["sector-performance_files/anchor-4.2.2/anchor.min.js","sector-performance_files/bowser-1.9.3/bowser.min.js","sector-performance_files/distill-2.2.21/template.v2.js","sector-performance_files/figure-html5/PlotChartCOVID-1.png","sector-performance_files/figure-html5/PlotChartCOVIDrec-1.png","sector-performance_files/figure-html5/ScatterPlot-1.png","sector-performance_files/figure-html5/ScatterPlot-2.png","sector-performance_files/header-attrs-2.11/header-attrs.js","sector-performance_files/jquery-3.6.0/jquery-3.6.0.js","sector-performance_files/jquery-3.6.0/jquery-3.6.0.min.js","sector-performance_files/jquery-3.6.0/jquery-3.6.0.min.map","sector-performance_files/kePrint-0.0.1/kePrint.js","sector-performance_files/lightable-0.0.1/lightable.css","sector-performance_files/popper-2.6.0/popper.min.js","sector-performance_files/tippy-6.2.7/tippy-bundle.umd.min.js","sector-performance_files/tippy-6.2.7/tippy-light-border.css","sector-performance_files/tippy-6.2.7/tippy.css","sector-performance_files/tippy-6.2.7/tippy.umd.min.js","sector-performance_files/webcomponents-2.0.0/webcomponents.js"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
<meta name="distill:offset" content="../.."/>

<script type="application/javascript">

  window.headroom_prevent_pin = false;

  window.document.addEventListener("DOMContentLoaded", function (event) {

    // initialize headroom for banner
    var header = $('header').get(0);
    var headerHeight = header.offsetHeight;
    var headroom = new Headroom(header, {
      tolerance: 5,
      onPin : function() {
        if (window.headroom_prevent_pin) {
          window.headroom_prevent_pin = false;
          headroom.unpin();
        }
      }
    });
    headroom.init();
    if(window.location.hash)
      headroom.unpin();
    $(header).addClass('headroom--transition');

    // offset scroll location for banner on hash change
    // (see: https://github.com/WickyNilliams/headroom.js/issues/38)
    window.addEventListener("hashchange", function(event) {
      window.scrollTo(0, window.pageYOffset - (headerHeight + 25));
    });

    // responsive menu
    $('.distill-site-header').each(function(i, val) {
      var topnav = $(this);
      var toggle = topnav.find('.nav-toggle');
      toggle.on('click', function() {
        topnav.toggleClass('responsive');
      });
    });

    // nav dropdowns
    $('.nav-dropbtn').click(function(e) {
      $(this).next('.nav-dropdown-content').toggleClass('nav-dropdown-active');
      $(this).parent().siblings('.nav-dropdown')
         .children('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $("body").click(function(e){
      $('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $(".nav-dropdown").click(function(e){
      e.stopPropagation();
    });
  });
</script>

<style type="text/css">

/* Theme (user-documented overrideables for nav appearance) */

.distill-site-nav {
  color: rgba(255, 255, 255, 0.8);
  background-color: #0F2E3D;
  font-size: 15px;
  font-weight: 300;
}

.distill-site-nav a {
  color: inherit;
  text-decoration: none;
}

.distill-site-nav a:hover {
  color: white;
}

@media print {
  .distill-site-nav {
    display: none;
  }
}

.distill-site-header {

}

.distill-site-footer {

}


/* Site Header */

.distill-site-header {
  width: 100%;
  box-sizing: border-box;
  z-index: 3;
}

.distill-site-header .nav-left {
  display: inline-block;
  margin-left: 8px;
}

@media screen and (max-width: 768px) {
  .distill-site-header .nav-left {
    margin-left: 0;
  }
}


.distill-site-header .nav-right {
  float: right;
  margin-right: 8px;
}

.distill-site-header a,
.distill-site-header .title {
  display: inline-block;
  text-align: center;
  padding: 14px 10px 14px 10px;
}

.distill-site-header .title {
  font-size: 18px;
  min-width: 150px;
}

.distill-site-header .logo {
  padding: 0;
}

.distill-site-header .logo img {
  display: none;
  max-height: 20px;
  width: auto;
  margin-bottom: -4px;
}

.distill-site-header .nav-image img {
  max-height: 18px;
  width: auto;
  display: inline-block;
  margin-bottom: -3px;
}



@media screen and (min-width: 1000px) {
  .distill-site-header .logo img {
    display: inline-block;
  }
  .distill-site-header .nav-left {
    margin-left: 20px;
  }
  .distill-site-header .nav-right {
    margin-right: 20px;
  }
  .distill-site-header .title {
    padding-left: 12px;
  }
}


.distill-site-header .nav-toggle {
  display: none;
}

.nav-dropdown {
  display: inline-block;
  position: relative;
}

.nav-dropdown .nav-dropbtn {
  border: none;
  outline: none;
  color: rgba(255, 255, 255, 0.8);
  padding: 16px 10px;
  background-color: transparent;
  font-family: inherit;
  font-size: inherit;
  font-weight: inherit;
  margin: 0;
  margin-top: 1px;
  z-index: 2;
}

.nav-dropdown-content {
  display: none;
  position: absolute;
  background-color: white;
  min-width: 200px;
  border: 1px solid rgba(0,0,0,0.15);
  border-radius: 4px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
  z-index: 1;
  margin-top: 2px;
  white-space: nowrap;
  padding-top: 4px;
  padding-bottom: 4px;
}

.nav-dropdown-content hr {
  margin-top: 4px;
  margin-bottom: 4px;
  border: none;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.nav-dropdown-active {
  display: block;
}

.nav-dropdown-content a, .nav-dropdown-content .nav-dropdown-header {
  color: black;
  padding: 6px 24px;
  text-decoration: none;
  display: block;
  text-align: left;
}

.nav-dropdown-content .nav-dropdown-header {
  display: block;
  padding: 5px 24px;
  padding-bottom: 0;
  text-transform: uppercase;
  font-size: 14px;
  color: #999999;
  white-space: nowrap;
}

.nav-dropdown:hover .nav-dropbtn {
  color: white;
}

.nav-dropdown-content a:hover {
  background-color: #ddd;
  color: black;
}

.nav-right .nav-dropdown-content {
  margin-left: -45%;
  right: 0;
}

@media screen and (max-width: 768px) {
  .distill-site-header a, .distill-site-header .nav-dropdown  {display: none;}
  .distill-site-header a.nav-toggle {
    float: right;
    display: block;
  }
  .distill-site-header .title {
    margin-left: 0;
  }
  .distill-site-header .nav-right {
    margin-right: 0;
  }
  .distill-site-header {
    overflow: hidden;
  }
  .nav-right .nav-dropdown-content {
    margin-left: 0;
  }
}


@media screen and (max-width: 768px) {
  .distill-site-header.responsive {position: relative; min-height: 500px; }
  .distill-site-header.responsive a.nav-toggle {
    position: absolute;
    right: 0;
    top: 0;
  }
  .distill-site-header.responsive a,
  .distill-site-header.responsive .nav-dropdown {
    display: block;
    text-align: left;
  }
  .distill-site-header.responsive .nav-left,
  .distill-site-header.responsive .nav-right {
    width: 100%;
  }
  .distill-site-header.responsive .nav-dropdown {float: none;}
  .distill-site-header.responsive .nav-dropdown-content {position: relative;}
  .distill-site-header.responsive .nav-dropdown .nav-dropbtn {
    display: block;
    width: 100%;
    text-align: left;
  }
}

/* Site Footer */

.distill-site-footer {
  width: 100%;
  overflow: hidden;
  box-sizing: border-box;
  z-index: 3;
  margin-top: 30px;
  padding-top: 30px;
  padding-bottom: 30px;
  text-align: center;
}

/* Headroom */

d-title {
  padding-top: 6rem;
}

@media print {
  d-title {
    padding-top: 4rem;
  }
}

.headroom {
  z-index: 1000;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
}

.headroom--transition {
  transition: all .4s ease-in-out;
}

.headroom--unpinned {
  top: -100px;
}

.headroom--pinned {
  top: 0;
}

/* adjust viewport for navbar height */
/* helps vertically center bootstrap (non-distill) content */
.min-vh-100 {
  min-height: calc(100vh - 100px) !important;
}

</style>

<script src="../../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="../../site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet"/>
<link href="../../site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet"/>
<script src="../../site_libs/headroom-0.9.4/headroom.min.js"></script>
<script src="../../site_libs/autocomplete-0.37.1/autocomplete.min.js"></script>
<script src="../../site_libs/fuse-6.4.1/fuse.min.js"></script>

<script type="application/javascript">

function getMeta(metaName) {
  var metas = document.getElementsByTagName('meta');
  for (let i = 0; i < metas.length; i++) {
    if (metas[i].getAttribute('name') === metaName) {
      return metas[i].getAttribute('content');
    }
  }
  return '';
}

function offsetURL(url) {
  var offset = getMeta('distill:offset');
  return offset ? offset + '/' + url : url;
}

function createFuseIndex() {

  // create fuse index
  var options = {
    keys: [
      { name: 'title', weight: 20 },
      { name: 'categories', weight: 15 },
      { name: 'description', weight: 10 },
      { name: 'contents', weight: 5 },
    ],
    ignoreLocation: true,
    threshold: 0
  };
  var fuse = new window.Fuse([], options);

  // fetch the main search.json
  return fetch(offsetURL('search.json'))
    .then(function(response) {
      if (response.status == 200) {
        return response.json().then(function(json) {
          // index main articles
          json.articles.forEach(function(article) {
            fuse.add(article);
          });
          // download collections and index their articles
          return Promise.all(json.collections.map(function(collection) {
            return fetch(offsetURL(collection)).then(function(response) {
              if (response.status === 200) {
                return response.json().then(function(articles) {
                  articles.forEach(function(article) {
                    fuse.add(article);
                  });
                })
              } else {
                return Promise.reject(
                  new Error('Unexpected status from search index request: ' +
                            response.status)
                );
              }
            });
          })).then(function() {
            return fuse;
          });
        });

      } else {
        return Promise.reject(
          new Error('Unexpected status from search index request: ' +
                      response.status)
        );
      }
    });
}

window.document.addEventListener("DOMContentLoaded", function (event) {

  // get search element (bail if we don't have one)
  var searchEl = window.document.getElementById('distill-search');
  if (!searchEl)
    return;

  createFuseIndex()
    .then(function(fuse) {

      // make search box visible
      searchEl.classList.remove('hidden');

      // initialize autocomplete
      var options = {
        autoselect: true,
        hint: false,
        minLength: 2,
      };
      window.autocomplete(searchEl, options, [{
        source: function(query, callback) {
          const searchOptions = {
            isCaseSensitive: false,
            shouldSort: true,
            minMatchCharLength: 2,
            limit: 10,
          };
          var results = fuse.search(query, searchOptions);
          callback(results
            .map(function(result) { return result.item; })
          );
        },
        templates: {
          suggestion: function(suggestion) {
            var img = suggestion.preview && Object.keys(suggestion.preview).length > 0
              ? `<img src="${offsetURL(suggestion.preview)}"</img>`
              : '';
            var html = `
              <div class="search-item">
                <h3>${suggestion.title}</h3>
                <div class="search-item-description">
                  ${suggestion.description || ''}
                </div>
                <div class="search-item-preview">
                  ${img}
                </div>
              </div>
            `;
            return html;
          }
        }
      }]).on('autocomplete:selected', function(event, suggestion) {
        window.location.href = offsetURL(suggestion.path);
      });
      // remove inline display style on autocompleter (we want to
      // manage responsive display via css)
      $('.algolia-autocomplete').css("display", "");
    })
    .catch(function(error) {
      console.log(error);
    });

});

</script>

<style type="text/css">

.nav-search {
  font-size: x-small;
}

/* Algolioa Autocomplete */

.algolia-autocomplete {
  display: inline-block;
  margin-left: 10px;
  vertical-align: sub;
  background-color: white;
  color: black;
  padding: 6px;
  padding-top: 8px;
  padding-bottom: 0;
  border-radius: 6px;
  border: 1px #0F2E3D solid;
  width: 180px;
}


@media screen and (max-width: 768px) {
  .distill-site-nav .algolia-autocomplete {
    display: none;
    visibility: hidden;
  }
  .distill-site-nav.responsive .algolia-autocomplete {
    display: inline-block;
    visibility: visible;
  }
  .distill-site-nav.responsive .algolia-autocomplete .aa-dropdown-menu {
    margin-left: 0;
    width: 400px;
    max-height: 400px;
  }
}

.algolia-autocomplete .aa-input, .algolia-autocomplete .aa-hint {
  width: 90%;
  outline: none;
  border: none;
}

.algolia-autocomplete .aa-hint {
  color: #999;
}
.algolia-autocomplete .aa-dropdown-menu {
  width: 550px;
  max-height: 70vh;
  overflow-x: visible;
  overflow-y: scroll;
  padding: 5px;
  margin-top: 3px;
  margin-left: -150px;
  background-color: #fff;
  border-radius: 5px;
  border: 1px solid #999;
  border-top: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion {
  cursor: pointer;
  padding: 5px 4px;
  border-bottom: 1px solid #eee;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion:last-of-type {
  border-bottom: none;
  margin-bottom: 2px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item {
  overflow: hidden;
  font-size: 0.8em;
  line-height: 1.4em;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item h3 {
  font-size: 1rem;
  margin-block-start: 0;
  margin-block-end: 5px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-description {
  display: inline-block;
  overflow: hidden;
  height: 2.8em;
  width: 80%;
  margin-right: 4%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview {
  display: inline-block;
  width: 15%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img {
  height: 3em;
  width: auto;
  display: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img[src] {
  display: initial;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion.aa-cursor {
  background-color: #eee;
}
.algolia-autocomplete .aa-dropdown-menu .aa-suggestion em {
  font-weight: bold;
  font-style: normal;
}

</style>


<!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

<style type="text/css">

body {
  background-color: white;
}

.pandoc-table {
  width: 100%;
}

.pandoc-table>caption {
  margin-bottom: 10px;
}

.pandoc-table th:not([align]) {
  text-align: left;
}

.pagedtable-footer {
  font-size: 15px;
}

d-byline .byline {
  grid-template-columns: 2fr 2fr;
}

d-byline .byline h3 {
  margin-block-start: 1.5em;
}

d-byline .byline .authors-affiliations h3 {
  margin-block-start: 0.5em;
}

.authors-affiliations .orcid-id {
  width: 16px;
  height:16px;
  margin-left: 4px;
  margin-right: 4px;
  vertical-align: middle;
  padding-bottom: 2px;
}

d-title .dt-tags {
  margin-top: 1em;
  grid-column: text;
}

.dt-tags .dt-tag {
  text-decoration: none;
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0em 0.4em;
  margin-right: 0.5em;
  margin-bottom: 0.4em;
  font-size: 70%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

d-article table.gt_table td,
d-article table.gt_table th {
  border-bottom: none;
}

.html-widget {
  margin-bottom: 2.0em;
}

.l-screen-inset {
  padding-right: 16px;
}

.l-screen .caption {
  margin-left: 10px;
}

.shaded {
  background: rgb(247, 247, 247);
  padding-top: 20px;
  padding-bottom: 20px;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .html-widget {
  margin-bottom: 0;
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .shaded-content {
  background: white;
}

.text-output {
  margin-top: 0;
  line-height: 1.5em;
}

.hidden {
  display: none !important;
}

d-article {
  padding-top: 2.5rem;
  padding-bottom: 30px;
}

d-appendix {
  padding-top: 30px;
}

d-article>p>img {
  width: 100%;
}

d-article h2 {
  margin: 1rem 0 1.5rem 0;
}

d-article h3 {
  margin-top: 1.5rem;
}

d-article iframe {
  border: 1px solid rgba(0, 0, 0, 0.1);
  margin-bottom: 2.0em;
  width: 100%;
}

/* Tweak code blocks */

d-article div.sourceCode code,
d-article pre code {
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
}

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: auto;
}

d-article div.sourceCode {
  background-color: white;
}

d-article div.sourceCode pre {
  padding-left: 10px;
  font-size: 12px;
  border-left: 2px solid rgba(0,0,0,0.1);
}

d-article pre {
  font-size: 12px;
  color: black;
  background: none;
  margin-top: 0;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

d-article pre a {
  border-bottom: none;
}

d-article pre a:hover {
  border-bottom: none;
  text-decoration: underline;
}

d-article details {
  grid-column: text;
  margin-bottom: 0.8em;
}

@media(min-width: 768px) {

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: visible !important;
}

d-article div.sourceCode pre {
  padding-left: 18px;
  font-size: 14px;
}

d-article pre {
  font-size: 14px;
}

}

figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

/* CSS for d-contents */

.d-contents {
  grid-column: text;
  color: rgba(0,0,0,0.8);
  font-size: 0.9em;
  padding-bottom: 1em;
  margin-bottom: 1em;
  padding-bottom: 0.5em;
  margin-bottom: 1em;
  padding-left: 0.25em;
  justify-self: start;
}

@media(min-width: 1000px) {
  .d-contents.d-contents-float {
    height: 0;
    grid-column-start: 1;
    grid-column-end: 4;
    justify-self: center;
    padding-right: 3em;
    padding-left: 2em;
  }
}

.d-contents nav h3 {
  font-size: 18px;
  margin-top: 0;
  margin-bottom: 1em;
}

.d-contents li {
  list-style-type: none
}

.d-contents nav > ul {
  padding-left: 0;
}

.d-contents ul {
  padding-left: 1em
}

.d-contents nav ul li {
  margin-top: 0.6em;
  margin-bottom: 0.2em;
}

.d-contents nav a {
  font-size: 13px;
  border-bottom: none;
  text-decoration: none
  color: rgba(0, 0, 0, 0.8);
}

.d-contents nav a:hover {
  text-decoration: underline solid rgba(0, 0, 0, 0.6)
}

.d-contents nav > ul > li > a {
  font-weight: 600;
}

.d-contents nav > ul > li > ul {
  font-weight: inherit;
}

.d-contents nav > ul > li > ul > li {
  margin-top: 0.2em;
}


.d-contents nav ul {
  margin-top: 0;
  margin-bottom: 0.25em;
}

.d-article-with-toc h2:nth-child(2) {
  margin-top: 0;
}


/* Figure */

.figure {
  position: relative;
  margin-bottom: 2.5em;
  margin-top: 1.5em;
}

.figure img {
  width: 100%;
}

.figure .caption {
  color: rgba(0, 0, 0, 0.6);
  font-size: 12px;
  line-height: 1.5em;
}

.figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

.figure .caption a {
  color: rgba(0, 0, 0, 0.6);
}

.figure .caption b,
.figure .caption strong, {
  font-weight: 600;
  color: rgba(0, 0, 0, 1.0);
}

/* Citations */

d-article .citation {
  color: inherit;
  cursor: inherit;
}

div.hanging-indent{
  margin-left: 1em; text-indent: -1em;
}

/* Citation hover box */

.tippy-box[data-theme~=light-border] {
  background-color: rgba(250, 250, 250, 0.95);
}

.tippy-content > p {
  margin-bottom: 0;
  padding: 2px;
}


/* Tweak 1000px media break to show more text */

@media(min-width: 1000px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 16px;
  }

  .grid {
    grid-column-gap: 16px;
  }

  d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
  }
  figure .caption, .figure .caption, figure figcaption {
    font-size: 13px;
  }
}

@media(min-width: 1180px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 32px;
  }

  .grid {
    grid-column-gap: 32px;
  }
}


/* Get the citation styles for the appendix (not auto-injected on render since
   we do our own rendering of the citation appendix) */

d-appendix .citation-appendix,
.d-appendix .citation-appendix {
  font-size: 11px;
  line-height: 15px;
  border-left: 1px solid rgba(0, 0, 0, 0.1);
  padding-left: 18px;
  border: 1px solid rgba(0,0,0,0.1);
  background: rgba(0, 0, 0, 0.02);
  padding: 10px 18px;
  border-radius: 3px;
  color: rgba(150, 150, 150, 1);
  overflow: hidden;
  margin-top: -12px;
  white-space: pre-wrap;
  word-wrap: break-word;
}

/* Include appendix styles here so they can be overridden */

d-appendix {
  contain: layout style;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-top: 60px;
  margin-bottom: 0;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  color: rgba(0,0,0,0.5);
  padding-top: 60px;
  padding-bottom: 48px;
}

d-appendix h3 {
  grid-column: page-start / text-start;
  font-size: 15px;
  font-weight: 500;
  margin-top: 1em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.65);
}

d-appendix h3 + * {
  margin-top: 1em;
}

d-appendix ol {
  padding: 0 0 0 15px;
}

@media (min-width: 768px) {
  d-appendix ol {
    padding: 0 0 0 30px;
    margin-left: -30px;
  }
}

d-appendix li {
  margin-bottom: 1em;
}

d-appendix a {
  color: rgba(0, 0, 0, 0.6);
}

d-appendix > * {
  grid-column: text;
}

d-appendix > d-footnote-list,
d-appendix > d-citation-list,
d-appendix > distill-appendix {
  grid-column: screen;
}

/* Include footnote styles here so they can be overridden */

d-footnote-list {
  contain: layout style;
}

d-footnote-list > * {
  grid-column: text;
}

d-footnote-list a.footnote-backlink {
  color: rgba(0,0,0,0.3);
  padding-left: 0.5em;
}



/* Anchor.js */

.anchorjs-link {
  /*transition: all .25s linear; */
  text-decoration: none;
  border-bottom: none;
}
*:hover > .anchorjs-link {
  margin-left: -1.125em !important;
  text-decoration: none;
  border-bottom: none;
}

/* Social footer */

.social_footer {
  margin-top: 30px;
  margin-bottom: 0;
  color: rgba(0,0,0,0.67);
}

.disqus-comments {
  margin-right: 30px;
}

.disqus-comment-count {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  cursor: pointer;
}

#disqus_thread {
  margin-top: 30px;
}

.article-sharing a {
  border-bottom: none;
  margin-right: 8px;
}

.article-sharing a:hover {
  border-bottom: none;
}

.sidebar-section.subscribe {
  font-size: 12px;
  line-height: 1.6em;
}

.subscribe p {
  margin-bottom: 0.5em;
}


.article-footer .subscribe {
  font-size: 15px;
  margin-top: 45px;
}


.sidebar-section.custom {
  font-size: 12px;
  line-height: 1.6em;
}

.custom p {
  margin-bottom: 0.5em;
}

/* Styles for listing layout (hide title) */
.layout-listing d-title, .layout-listing .d-title {
  display: none;
}

/* Styles for posts lists (not auto-injected) */


.posts-with-sidebar {
  padding-left: 45px;
  padding-right: 45px;
}

.posts-list .description h2,
.posts-list .description p {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
}

.posts-list .description h2 {
  font-weight: 700;
  border-bottom: none;
  padding-bottom: 0;
}

.posts-list h2.post-tag {
  border-bottom: 1px solid rgba(0, 0, 0, 0.2);
  padding-bottom: 12px;
}
.posts-list {
  margin-top: 60px;
  margin-bottom: 24px;
}

.posts-list .post-preview {
  text-decoration: none;
  overflow: hidden;
  display: block;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  padding: 24px 0;
}

.post-preview-last {
  border-bottom: none !important;
}

.posts-list .posts-list-caption {
  grid-column: screen;
  font-weight: 400;
}

.posts-list .post-preview h2 {
  margin: 0 0 6px 0;
  line-height: 1.2em;
  font-style: normal;
  font-size: 24px;
}

.posts-list .post-preview p {
  margin: 0 0 12px 0;
  line-height: 1.4em;
  font-size: 16px;
}

.posts-list .post-preview .thumbnail {
  box-sizing: border-box;
  margin-bottom: 24px;
  position: relative;
  max-width: 500px;
}
.posts-list .post-preview img {
  width: 100%;
  display: block;
}

.posts-list .metadata {
  font-size: 12px;
  line-height: 1.4em;
  margin-bottom: 18px;
}

.posts-list .metadata > * {
  display: inline-block;
}

.posts-list .metadata .publishedDate {
  margin-right: 2em;
}

.posts-list .metadata .dt-authors {
  display: block;
  margin-top: 0.3em;
  margin-right: 2em;
}

.posts-list .dt-tags {
  display: block;
  line-height: 1em;
}

.posts-list .dt-tags .dt-tag {
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0.3em 0.4em;
  margin-right: 0.2em;
  margin-bottom: 0.4em;
  font-size: 60%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

.posts-list img {
  opacity: 1;
}

.posts-list img[data-src] {
  opacity: 0;
}

.posts-more {
  clear: both;
}


.posts-sidebar {
  font-size: 16px;
}

.posts-sidebar h3 {
  font-size: 16px;
  margin-top: 0;
  margin-bottom: 0.5em;
  font-weight: 400;
  text-transform: uppercase;
}

.sidebar-section {
  margin-bottom: 30px;
}

.categories ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
}

.categories li {
  color: rgba(0, 0, 0, 0.8);
  margin-bottom: 0;
}

.categories li>a {
  border-bottom: none;
}

.categories li>a:hover {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
}

.categories .active {
  font-weight: 600;
}

.categories .category-count {
  color: rgba(0, 0, 0, 0.4);
}


@media(min-width: 768px) {
  .posts-list .post-preview h2 {
    font-size: 26px;
  }
  .posts-list .post-preview .thumbnail {
    float: right;
    width: 30%;
    margin-bottom: 0;
  }
  .posts-list .post-preview .description {
    float: left;
    width: 45%;
  }
  .posts-list .post-preview .metadata {
    float: left;
    width: 20%;
    margin-top: 8px;
  }
  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.5em;
    font-size: 16px;
  }
  .posts-with-sidebar .posts-list {
    float: left;
    width: 75%;
  }
  .posts-with-sidebar .posts-sidebar {
    float: right;
    width: 20%;
    margin-top: 60px;
    padding-top: 24px;
    padding-bottom: 24px;
  }
}


/* Improve display for browsers without grid (IE/Edge <= 15) */

.downlevel {
  line-height: 1.6em;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  margin: 0;
}

.downlevel .d-title {
  padding-top: 6rem;
  padding-bottom: 1.5rem;
}

.downlevel .d-title h1 {
  font-size: 50px;
  font-weight: 700;
  line-height: 1.1em;
  margin: 0 0 0.5rem;
}

.downlevel .d-title p {
  font-weight: 300;
  font-size: 1.2rem;
  line-height: 1.55em;
  margin-top: 0;
}

.downlevel .d-byline {
  padding-top: 0.8em;
  padding-bottom: 0.8em;
  font-size: 0.8rem;
  line-height: 1.8em;
}

.downlevel .section-separator {
  border: none;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
}

.downlevel .d-article {
  font-size: 1.06rem;
  line-height: 1.7em;
  padding-top: 1rem;
  padding-bottom: 2rem;
}


.downlevel .d-appendix {
  padding-left: 0;
  padding-right: 0;
  max-width: none;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.5);
  padding-top: 40px;
  padding-bottom: 48px;
}

.downlevel .footnotes ol {
  padding-left: 13px;
}

.downlevel .base-grid,
.downlevel .distill-header,
.downlevel .d-title,
.downlevel .d-abstract,
.downlevel .d-article,
.downlevel .d-appendix,
.downlevel .distill-appendix,
.downlevel .d-byline,
.downlevel .d-footnote-list,
.downlevel .d-citation-list,
.downlevel .distill-footer,
.downlevel .appendix-bottom,
.downlevel .posts-container {
  padding-left: 40px;
  padding-right: 40px;
}

@media(min-width: 768px) {
  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
  padding-left: 150px;
  padding-right: 150px;
  max-width: 900px;
}
}

.downlevel pre code {
  display: block;
  border-left: 2px solid rgba(0, 0, 0, .1);
  padding: 0 0 0 20px;
  font-size: 14px;
}

.downlevel code, .downlevel pre {
  color: black;
  background: none;
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

.downlevel .posts-list .post-preview {
  color: inherit;
}



</style>

<script type="application/javascript">

function is_downlevel_browser() {
  if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                 window.navigator.userAgent)) {
    return true;
  } else {
    return window.load_distill_framework === undefined;
  }
}

// show body when load is complete
function on_load_complete() {

  // add anchors
  if (window.anchors) {
    window.anchors.options.placement = 'left';
    window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
  }


  // set body to visible
  document.body.style.visibility = 'visible';

  // force redraw for leaflet widgets
  if (window.HTMLWidgets) {
    var maps = window.HTMLWidgets.findAll(".leaflet");
    $.each(maps, function(i, el) {
      var map = this.getMap();
      map.invalidateSize();
      map.eachLayer(function(layer) {
        if (layer instanceof L.TileLayer)
          layer.redraw();
      });
    });
  }

  // trigger 'shown' so htmlwidgets resize
  $('d-article').trigger('shown');
}

function init_distill() {

  init_common();

  // create front matter
  var front_matter = $('<d-front-matter></d-front-matter>');
  $('#distill-front-matter').wrap(front_matter);

  // create d-title
  $('.d-title').changeElementType('d-title');

  // create d-byline
  var byline = $('<d-byline></d-byline>');
  $('.d-byline').replaceWith(byline);

  // create d-article
  var article = $('<d-article></d-article>');
  $('.d-article').wrap(article).children().unwrap();

  // move posts container into article
  $('.posts-container').appendTo($('d-article'));

  // create d-appendix
  $('.d-appendix').changeElementType('d-appendix');

  // flag indicating that we have appendix items
  var appendix = $('.appendix-bottom').children('h3').length > 0;

  // replace footnotes with <d-footnote>
  $('.footnote-ref').each(function(i, val) {
    appendix = true;
    var href = $(this).attr('href');
    var id = href.replace('#', '');
    var fn = $('#' + id);
    var fn_p = $('#' + id + '>p');
    fn_p.find('.footnote-back').remove();
    var text = fn_p.html();
    var dtfn = $('<d-footnote></d-footnote>');
    dtfn.html(text);
    $(this).replaceWith(dtfn);
  });
  // remove footnotes
  $('.footnotes').remove();

  // move refs into #references-listing
  $('#references-listing').replaceWith($('#refs'));

  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    var id = $(this).attr('id');
    $('.d-contents a[href="#' + id + '"]').parent().remove();
    appendix = true;
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
  });

  // show d-appendix if we have appendix content
  $("d-appendix").css('display', appendix ? 'grid' : 'none');

  // localize layout chunks to just output
  $('.layout-chunk').each(function(i, val) {

    // capture layout
    var layout = $(this).attr('data-layout');

    // apply layout to markdown level block elements
    var elements = $(this).children().not('details, div.sourceCode, pre, script');
    elements.each(function(i, el) {
      var layout_div = $('<div class="' + layout + '"></div>');
      if (layout_div.hasClass('shaded')) {
        var shaded_content = $('<div class="shaded-content"></div>');
        $(this).wrap(shaded_content);
        $(this).parent().wrap(layout_div);
      } else {
        $(this).wrap(layout_div);
      }
    });


    // unwrap the layout-chunk div
    $(this).children().unwrap();
  });

  // remove code block used to force  highlighting css
  $('.distill-force-highlighting-css').parent().remove();

  // remove empty line numbers inserted by pandoc when using a
  // custom syntax highlighting theme
  $('code.sourceCode a:empty').remove();

  // load distill framework
  load_distill_framework();

  // wait for window.distillRunlevel == 4 to do post processing
  function distill_post_process() {

    if (!window.distillRunlevel || window.distillRunlevel < 4)
      return;

    // hide author/affiliations entirely if we have no authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;
    if (!have_authors)
      $('d-byline').addClass('hidden');

    // article with toc class
    $('.d-contents').parent().addClass('d-article-with-toc');

    // strip links that point to #
    $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

    // add orcid ids
    $('.authors-affiliations').find('.author').each(function(i, el) {
      var orcid_id = front_matter.authors[i].orcidID;
      if (orcid_id) {
        var a = $('<a></a>');
        a.attr('href', 'https://orcid.org/' + orcid_id);
        var img = $('<img></img>');
        img.addClass('orcid-id');
        img.attr('alt', 'ORCID ID');
        img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
        a.append(img);
        $(this).append(a);
      }
    });

    // hide elements of author/affiliations grid that have no value
    function hide_byline_column(caption) {
      $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
    }

    // affiliations
    var have_affiliations = false;
    for (var i = 0; i<front_matter.authors.length; ++i) {
      var author = front_matter.authors[i];
      if (author.affiliation !== "&nbsp;") {
        have_affiliations = true;
        break;
      }
    }
    if (!have_affiliations)
      $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

    // published date
    if (!front_matter.publishedDate)
      hide_byline_column("Published");

    // document object identifier
    var doi = $('d-byline').find('h3:contains("DOI")');
    var doi_p = doi.next().empty();
    if (!front_matter.doi) {
      // if we have a citation and valid citationText then link to that
      if ($('#citation').length > 0 && front_matter.citationText) {
        doi.html('Citation');
        $('<a href="#citation"></a>')
          .text(front_matter.citationText)
          .appendTo(doi_p);
      } else {
        hide_byline_column("DOI");
      }
    } else {
      $('<a></a>')
         .attr('href', "https://doi.org/" + front_matter.doi)
         .html(front_matter.doi)
         .appendTo(doi_p);
    }

     // change plural form of authors/affiliations
    if (front_matter.authors.length === 1) {
      var grid = $('.authors-affiliations');
      grid.children('h3:contains("Authors")').text('Author');
      grid.children('h3:contains("Affiliations")').text('Affiliation');
    }

    // remove d-appendix and d-footnote-list local styles
    $('d-appendix > style:first-child').remove();
    $('d-footnote-list > style:first-child').remove();

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // hoverable references
    $('span.citation[data-cites]').each(function() {
      var refs = $(this).attr('data-cites').split(" ");
      var refHtml = refs.map(function(ref) {
        return "<p>" + $('#ref-' + ref).html() + "</p>";
      }).join("\n");
      window.tippy(this, {
        allowHTML: true,
        content: refHtml,
        maxWidth: 500,
        interactive: true,
        interactiveBorder: 10,
        theme: 'light-border',
        placement: 'bottom-start'
      });
    });

    // clear polling timer
    clearInterval(tid);

    // show body now that everything is ready
    on_load_complete();
  }

  var tid = setInterval(distill_post_process, 50);
  distill_post_process();

}

function init_downlevel() {

  init_common();

   // insert hr after d-title
  $('.d-title').after($('<hr class="section-separator"/>'));

  // check if we have authors
  var front_matter = JSON.parse($("#distill-front-matter").html());
  var have_authors = front_matter.authors && front_matter.authors.length > 0;

  // manage byline/border
  if (!have_authors)
    $('.d-byline').remove();
  $('.d-byline').after($('<hr class="section-separator"/>'));
  $('.d-byline a').remove();

  // remove toc
  $('.d-contents').remove();

  // move appendix elements
  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
  });


  // inject headers into references and footnotes
  var refs_header = $('<h3></h3>');
  refs_header.text('References');
  $('#refs').prepend(refs_header);

  var footnotes_header = $('<h3></h3');
  footnotes_header.text('Footnotes');
  $('.footnotes').children('hr').first().replaceWith(footnotes_header);

  // move appendix-bottom entries to the bottom
  $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
  $('.appendix-bottom').remove();

  // remove appendix if it's empty
  if ($('.d-appendix').children().length === 0)
    $('.d-appendix').remove();

  // prepend separator above appendix
  $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

  // trim code
  $('pre>code').each(function(i, val) {
    $(this).html($.trim($(this).html()));
  });

  // move posts-container right before article
  $('.posts-container').insertBefore($('.d-article'));

  $('body').addClass('downlevel');

  on_load_complete();
}


function init_common() {

  // jquery plugin to change element types
  (function($) {
    $.fn.changeElementType = function(newType) {
      var attrs = {};

      $.each(this[0].attributes, function(idx, attr) {
        attrs[attr.nodeName] = attr.nodeValue;
      });

      this.replaceWith(function() {
        return $("<" + newType + "/>", attrs).append($(this).contents());
      });
    };
  })(jQuery);

  // prevent underline for linked images
  $('a > img').parent().css({'border-bottom' : 'none'});

  // mark non-body figures created by knitr chunks as 100% width
  $('.layout-chunk').each(function(i, val) {
    var figures = $(this).find('img, .html-widget');
    if ($(this).attr('data-layout') !== "l-body") {
      figures.css('width', '100%');
    } else {
      figures.css('max-width', '100%');
      figures.filter("[width]").each(function(i, val) {
        var fig = $(this);
        fig.css('width', fig.attr('width') + 'px');
      });

    }
  });

  // auto-append index.html to post-preview links in file: protocol
  // and in rstudio ide preview
  $('.post-preview').each(function(i, val) {
    if (window.location.protocol === "file:")
      $(this).attr('href', $(this).attr('href') + "index.html");
  });

  // get rid of index.html references in header
  if (window.location.protocol !== "file:") {
    $('.distill-site-header a[href]').each(function(i,val) {
      $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
    });
  }

  // add class to pandoc style tables
  $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
  $('.kable-table').children('table').addClass('pandoc-table');

  // add figcaption style to table captions
  $('caption').parent('table').addClass("figcaption");

  // initialize posts list
  if (window.init_posts_list)
    window.init_posts_list();

  // implmement disqus comment link
  $('.disqus-comment-count').click(function() {
    window.headroom_prevent_pin = true;
    $('#disqus_thread').toggleClass('hidden');
    if (!$('#disqus_thread').hasClass('hidden')) {
      var offset = $(this).offset();
      $(window).resize();
      $('html, body').animate({
        scrollTop: offset.top - 35
      });
    }
  });
}

document.addEventListener('DOMContentLoaded', function() {
  if (is_downlevel_browser())
    init_downlevel();
  else
    window.addEventListener('WebComponentsReady', init_distill);
});

</script>

<!--/radix_placeholder_distill-->
  <script src="../../site_libs/header-attrs-2.11/header-attrs.js"></script>
  <script src="../../site_libs/kePrint-0.0.1/kePrint.js"></script>
  <link href="../../site_libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
  <script src="../../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
  <script src="../../site_libs/popper-2.6.0/popper.min.js"></script>
  <link href="../../site_libs/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="../../site_libs/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="../../site_libs/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="../../site_libs/anchor-4.2.2/anchor.min.js"></script>
  <script src="../../site_libs/bowser-1.9.3/bowser.min.js"></script>
  <script src="../../site_libs/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="../../site_libs/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
<script type="text/javascript" src="https://www.cookieconsent.com/releases/3.1.0/cookie-consent.js"></script>
<script type="text/javascript">
document.addEventListener('DOMContentLoaded', function () {
cookieconsent.run({
'notice_banner_type':'simple',
'consent_type': 'express',
'palette': 'light',
'language': 'en',
'website_name': 'uncertain-times',
'cookies_policy_url': 'url',
'change_preferences_selector':'#CookiePreferences'
});});</script>
<script type="text/plain" cookie-consent="tracking" async src="https://www.googletagmanager.com/gtag/js?id=G-J5RM2E8REJ"></script>
<script type="text/plain" cookie-consent="tracking">
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-J5RM2E8REJ');
</script>
<!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Sector performance","description":"How to use data from Kenneth French and Aswath Damodaran to understand the impact of macroeconomic events on certain sectors.","authors":[{"author":"Christoph Jäckel","authorURL":{},"affiliation":"&nbsp;","affiliationURL":"#","orcidID":""}],"publishedDate":"2022-04-03T00:00:00.000+02:00","citationText":"Jäckel, 2022"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<header class="header header--fixed" role="banner">
<nav class="distill-site-nav distill-site-header">
<div class="nav-left">
<a href="../../index.html" class="title">Uncertain times</a>
<input id="distill-search" class="nav-search hidden" type="text" placeholder="Search..."/>
</div>
<div class="nav-right">
<a href="../../index.html">Home</a>
<a href="../../about.html">About</a>
<a href="../../index.xml">
<i class="fa fa-rss" aria-hidden="true"></i>
</a>
<a href="javascript:void(0);" class="nav-toggle">&#9776;</a>
</div>
</nav>
</header>
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Sector performance</h1>
<!--radix_placeholder_categories-->
<div class="dt-tags">
  <a href="../../index.html#category:Data" class="dt-tag">Data</a>
  <a href="../../index.html#category:Research" class="dt-tag">Research</a>
</div>
<!--/radix_placeholder_categories-->
<p><p>How to use data from Kenneth French and Aswath Damodaran to understand the impact of macroeconomic events on certain sectors.</p></p>
</div>

<div class="d-byline">
  Christoph Jäckel true 
  
<br/>2022-04-03
</div>

<div class="d-article">
<p>Whenever a macroeconomic shock happens, such as the COVID pandemic or Russia’s invasion of Ukraine, investors wonder how companies from certain sectors are impacted. One way is a detailed bottom-up analysis by looking into a particular business in detail and trying to understand how demand, supply chains, labor force, etc. are impacted by the event. However, this is an unrealistic tack for investors with larger portfolios. Fortunately, millions of investors do this exercise as well and trade shares in businesses as a response to their findings. One can piggyback on this work and look at sector indices to get a rough guess on how bad a particular sector and its underlying companies are impacted. In this post, let’s look at two publicly available data sources to do this.</p>
<h1 id="data-from-kenneth-frenchs-website">Data from Kenneth French’s website</h1>
<p>Kenneth French kindly provides daily updated performance data for different sectors on his <a href="https://mba.tuck.dartmouth.edu/pages/faculty/ken.french/data_library.html">website</a>. I wrote a short wrapper function that allows me to download the data from the website and get it into a format I can work with in R. You can find the function in the code chunk below.</p>
<aside>
The R package <a href="https://cran.r-project.org/web/packages/frenchdata/frenchdata.pdf">frenchdata</a> is a pre-built package to efficiently download data from Kenneth French’s website into R with additional functions.
</aside>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>### Load packages that I need later</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://r-datatable.com'>data.table</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://lubridate.tidyverse.org'>lubridate</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://ggplot2.tidyverse.org'>ggplot2</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='http://haozhu233.github.io/kableExtra/'>kableExtra</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'>utilitiesCJ</span><span class='op'>)</span>
<span class='co'>### Define function</span>
<span class='va'>get_FF_data</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>.str_file</span>, <span class='va'>.bol_quarterly</span><span class='op'>=</span><span class='cn'>FALSE</span>, <span class='va'>...</span><span class='op'>)</span> <span class='op'>{</span>

  <span class='co'>###1. Download data</span>
  <span class='va'>temp</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempfile</a></span><span class='op'>(</span><span class='op'>)</span>
  <span class='fu'><a href='https://rdrr.io/r/utils/download.file.html'>download.file</a></span><span class='op'>(</span><span class='va'>.str_file</span>,<span class='va'>temp</span>, mode<span class='op'>=</span><span class='st'>"wb"</span><span class='op'>)</span>
  <span class='va'>csvDT</span> <span class='op'>&lt;-</span> <span class='fu'>data.table</span><span class='fu'>::</span><span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/fread.html'>fread</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/utils/unzip.html'>unzip</a></span><span class='op'>(</span><span class='va'>temp</span><span class='op'>)</span>, <span class='va'>...</span><span class='op'>)</span>
  <span class='fu'><a href='https://rdrr.io/r/base/unlink.html'>unlink</a></span><span class='op'>(</span><span class='va'>temp</span><span class='op'>)</span>


  <span class='co'>###2. Change names of columns</span>
  <span class='co'>#     FF doesn't label the date column, enter</span>
  <span class='fu'>data.table</span><span class='fu'>::</span><span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/setattr.html'>setnames</a></span><span class='op'>(</span><span class='va'>csvDT</span>,
           old <span class='op'>=</span> <span class='st'>"V1"</span>,
           new <span class='op'>=</span> <span class='st'>"Date"</span><span class='op'>)</span>
  <span class='co'>#     Get rid of hyphens, don't go well with column names</span>
  <span class='fu'>data.table</span><span class='fu'>::</span><span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/setattr.html'>setnames</a></span><span class='op'>(</span><span class='va'>csvDT</span>,
           old <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grep</a></span><span class='op'>(</span><span class='st'>"-"</span>,<span class='fu'><a href='https://rdrr.io/r/base/names.html'>names</a></span><span class='op'>(</span><span class='va'>csvDT</span><span class='op'>)</span>,value<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span>,
           new <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>gsub</a></span><span class='op'>(</span><span class='st'>"-"</span>, <span class='st'>""</span>, <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grep</a></span><span class='op'>(</span><span class='st'>"-"</span>,<span class='fu'><a href='https://rdrr.io/r/base/names.html'>names</a></span><span class='op'>(</span><span class='va'>csvDT</span><span class='op'>)</span>,value<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>

  <span class='co'>###3. Convert Date column to date; through warning if format changed</span>
  <span class='kw'>if</span> <span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='fu'>lubridate</span><span class='fu'>::</span><span class='fu'><a href='https://lubridate.tidyverse.org/reference/ymd.html'>ymd</a></span><span class='op'>(</span><span class='va'>csvDT</span><span class='op'>$</span><span class='va'>Date</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span><span class='op'>&gt;</span><span class='fl'>0</span><span class='op'>)</span> <span class='op'>{</span>
    <span class='kw'><a href='https://rdrr.io/r/base/stop.html'>stop</a></span><span class='op'>(</span><span class='st'>"Error in parsing dates to date format: it seems the format in Kenneth French files has changed."</span><span class='op'>)</span>
  <span class='op'>}</span>
  <span class='va'>csvDT</span><span class='op'>[</span>, <span class='va'>Date</span><span class='op'>:=</span><span class='fu'>lubridate</span><span class='fu'>::</span><span class='fu'><a href='https://lubridate.tidyverse.org/reference/ymd.html'>ymd</a></span><span class='op'>(</span><span class='va'>Date</span><span class='op'>)</span><span class='op'>]</span>

  <span class='kw'><a href='https://rdrr.io/r/base/function.html'>return</a></span><span class='op'>(</span><span class='va'>csvDT</span><span class='op'>)</span>

<span class='op'>}</span>

<span class='co'>###Change to the folder you want the data to be downlaoded</span>
<span class='fu'><a href='https://rdrr.io/r/base/getwd.html'>setwd</a></span><span class='op'>(</span><span class='st'>"C:/Users/Christoph Jaeckel/Downloads/"</span><span class='op'>)</span>
<span class='co'>###Go to Kenneth French's website (https://mba.tuck.dartmouth.edu/pages/faculty/ken.french/data_library.html) and get the link to the data file you want to download</span>
<span class='co'>### Change link here to play around with other sector classifications</span>
<span class='va'>str_file</span> <span class='op'>&lt;-</span> <span class='st'>"https://mba.tuck.dartmouth.edu/pages/faculty/ken.french/ftp/12_Industry_Portfolios_daily_CSV.zip"</span>
<span class='co'>#str_file &lt;- "https://mba.tuck.dartmouth.edu/pages/faculty/ken.french/ftp/17_Industry_Portfolios_daily_CSV.zip"</span>
<span class='co'>#str_file &lt;- "https://mba.tuck.dartmouth.edu/pages/faculty/ken.french/ftp/38_Industry_Portfolios_daily_CSV.zip"</span>
<span class='co'>#str_file &lt;- "https://mba.tuck.dartmouth.edu/pages/faculty/ken.french/ftp/49_Industry_Portfolios_daily_CSV.zip"</span>
<span class='va'>DT</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/utilitiesCJ/man/get_FF_data.html'>get_FF_data</a></span><span class='op'>(</span><span class='va'>str_file</span>, skip <span class='op'>=</span> <span class='fl'>9</span>, header<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span>

<span class='co'>### Convert columns to numeric</span>
<span class='va'>cols</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/names.html'>names</a></span><span class='op'>(</span><span class='va'>DT</span><span class='op'>)</span><span class='op'>[</span><span class='fl'>2</span><span class='op'>:</span><span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>ncol</a></span><span class='op'>(</span><span class='va'>DT</span><span class='op'>)</span><span class='op'>]</span>
<span class='va'>DT</span><span class='op'>[</span> , <span class='op'>(</span><span class='va'>cols</span><span class='op'>)</span> <span class='op'>:=</span> <span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>lapply</a></span><span class='op'>(</span><span class='va'>.SD</span>, <span class='va'>as.numeric</span><span class='op'>)</span>, .SDcols <span class='op'>=</span> <span class='va'>cols</span><span class='op'>]</span>
<span class='co'># # Calculate the mean daily return (in bps) over the last years</span>
<span class='co'># DT[year(Date)&gt;2010, lapply(.SD, mean), by = year(Date),.SDcols = cols]</span>
<span class='co'># </span>
</code></pre>
</div>
</details>
</div>
<p>In this post, I use a classification of 12 sector or industry portfolios. French also has data with lower (only 5 sectors) or higher (12, 17, 30, 38, 48, 49 sectors) granularity on his website. The 12 portfolios are the following:</p>
<ol type="1">
<li><strong>NoDur</strong>: Consumer Nondurables – Food, Tobacco, Textiles, Apparel, Leather, Toys</li>
<li><strong>Durbl</strong>: Consumer Durables – Cars, TVs, Furniture, Household Appliances</li>
<li><strong>Manuf</strong>: Manufacturing – Machinery, Trucks, Planes, Off Furn, Paper, Com Printing</li>
<li><strong>Enrgy</strong>: Oil, Gas, and Coal Extraction and Products</li>
<li><strong>Chems</strong>: Chemicals and Allied Products</li>
<li><strong>BusEq</strong>: Business Equipment – Computers, Software, and Electronic Equipment</li>
<li><strong>Telcm</strong>: Telephone and Television Transmission</li>
<li><strong>Utils</strong>: Utilities</li>
<li><strong>Shops</strong>: Wholesale, Retail, and Some Services (Laundries, Repair Shops)</li>
<li><strong>Hlth</strong>: Healthcare, Medical Equipment, and Drugs</li>
<li><strong>Money</strong>: Finance</li>
<li><strong>Other</strong>: Other – Mines, Constr, BldMt, Trans, Hotels, Bus Serv, Entertainment</li>
</ol>
<p>Let’s first look at the average daily returns of those sectors over the last decade in the table below.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>startYear</span> <span class='op'>&lt;-</span> <span class='fl'>2011</span>
<span class='va'>intDT</span> <span class='op'>&lt;-</span> <span class='va'>DT</span><span class='op'>[</span><span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/IDateTime.html'>year</a></span><span class='op'>(</span><span class='va'>Date</span><span class='op'>)</span><span class='op'>&gt;=</span><span class='va'>startYear</span>, <span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>lapply</a></span><span class='op'>(</span><span class='va'>.SD</span>, <span class='va'>mean</span><span class='op'>)</span>, .SDcols <span class='op'>=</span> <span class='va'>cols</span><span class='op'>]</span>
<span class='fu'><a href='https://rdrr.io/pkg/kableExtra/man/kbl.html'>kbl</a></span><span class='op'>(</span><span class='va'>intDT</span>,
    digits<span class='op'>=</span><span class='fl'>3</span>,
    caption<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='st'>"Average daily returns since "</span>,
                   <span class='va'>startYear</span>, 
                   <span class='st'>" for 12 sectors. Data from Kenneth French's website, obtained on "</span>,
                   <span class='fu'><a href='https://lubridate.tidyverse.org/reference/now.html'>today</a></span><span class='op'>(</span><span class='op'>)</span>, <span class='st'>". Numbers in percent."</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://rdrr.io/pkg/kableExtra/man/kable_classic.html'>kable_classic</a></span><span class='op'>(</span>full_width <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>  
</code></pre>
</div>
</details>
<table class=" lightable-classic" style="font-family: &quot;Arial Narrow&quot;, &quot;Source Sans Pro&quot;, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:DailyReturnAverage">Table 1: </span>Average daily returns since 2011 for 12 sectors. Data from Kenneth French’s website, obtained on 2022-04-03. Numbers in percent.
</caption>
<thead>
<tr>
<th style="text-align:right;">
NoDur
</th>
<th style="text-align:right;">
Durbl
</th>
<th style="text-align:right;">
Manuf
</th>
<th style="text-align:right;">
Enrgy
</th>
<th style="text-align:right;">
Chems
</th>
<th style="text-align:right;">
BusEq
</th>
<th style="text-align:right;">
Telcm
</th>
<th style="text-align:right;">
Utils
</th>
<th style="text-align:right;">
Shops
</th>
<th style="text-align:right;">
Hlth
</th>
<th style="text-align:right;">
Money
</th>
<th style="text-align:right;">
Other
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
0.046
</td>
<td style="text-align:right;">
0.079
</td>
<td style="text-align:right;">
0.055
</td>
<td style="text-align:right;">
0.031
</td>
<td style="text-align:right;">
0.046
</td>
<td style="text-align:right;">
0.076
</td>
<td style="text-align:right;">
0.047
</td>
<td style="text-align:right;">
0.044
</td>
<td style="text-align:right;">
0.065
</td>
<td style="text-align:right;">
0.06
</td>
<td style="text-align:right;">
0.061
</td>
<td style="text-align:right;">
0.05
</td>
</tr>
</tbody>
</table>
</div>
<p>These numbers are already shown as percentage. As an example, the BusEq sector returned 0.076% on average per day. Doesn’t sound like a lot, but compounded over 252 days this results in an annualized return of 21.2%.</p>
<p>Let’s now look how the COVID pandemic impacted these sectors.</p>
<h2 id="initial-covid-impact">Initial COVID impact</h2>
<p>The S&amp;P 500 declined from close to 3,400 on 21 February 2020 to just over 2,300 on 20 March 2020. How did the different sectors contribute to those massive losses?</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>intDT</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/melt.data.table.html'>melt</a></span><span class='op'>(</span><span class='va'>DT</span><span class='op'>[</span><span class='va'>Date</span><span class='op'>&gt;=</span><span class='fu'><a href='https://lubridate.tidyverse.org/reference/ymd.html'>dmy</a></span><span class='op'>(</span><span class='st'>"21022020"</span><span class='op'>)</span> <span class='op'>&amp;</span> <span class='va'>Date</span><span class='op'>&lt;=</span><span class='fu'><a href='https://lubridate.tidyverse.org/reference/ymd.html'>dmy</a></span><span class='op'>(</span><span class='st'>"20032020"</span><span class='op'>)</span><span class='op'>]</span>, id.var<span class='op'>=</span><span class='st'>"Date"</span><span class='op'>)</span><span class='op'>[</span>,<span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>Ret<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/prod.html'>prod</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>+</span><span class='va'>value</span><span class='op'>/</span><span class='fl'>100</span><span class='op'>)</span><span class='op'>-</span><span class='fl'>1</span><span class='op'>)</span>,by<span class='op'>=</span><span class='va'>variable</span><span class='op'>]</span>
<span class='fu'><a href='https://rdrr.io/pkg/utilitiesCJ/man/plotBar.html'>plotBar</a></span><span class='op'>(</span>.intDT <span class='op'>=</span> <span class='va'>intDT</span>,
        .x_name <span class='op'>=</span> <span class='st'>"variable"</span>,
        .y_name <span class='op'>=</span> <span class='st'>"Ret"</span>,
        .x_lab <span class='op'>=</span> <span class='st'>"Sector"</span>,
        .y_lab <span class='op'>=</span> <span class='st'>"Return"</span>,
        .fillColor <span class='op'>=</span> <span class='st'>"#581845"</span>,
        .bolSort <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_y_continuous</a></span><span class='op'>(</span>labels <span class='op'>=</span> <span class='fu'>scales</span><span class='fu'>::</span><span class='fu'><a href='https://scales.r-lib.org/reference/label_percent.html'>percent_format</a></span><span class='op'>(</span>accuracy <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>axis.text.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>angle <span class='op'>=</span> <span class='fl'>45</span>, hjust<span class='op'>=</span><span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<div class="figure"><span style="display:block;" id="fig:PlotChartCOVID"></span>
<img src="sector-performance_files/figure-html5/PlotChartCOVID-1.png" alt="Sector returns from 21 February 2020 to 20 March 2020. Data from Kenneth French's website." width="624" />
<p class="caption">
Figure 1: Sector returns from 21 February 2020 to 20 March 2020. Data from Kenneth French’s website.
</p>
</div>
</div>
<p><em>Healthcare</em> was the most resilient sector in the first phase of the pandemic and only lost slightly over 20%. <em>Shops</em> is an interesting one as many retailers had to close.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> Later on, I show with different data that this sector most likely also includes retailers for daily goods that profited from the panic buying, which explains the overall low impact of the pandemic on this sector. This is a good example of how classifications can lead to ambiguous interpretations.</p>
<p>The most impacted sectors were <em>Durables</em> and <em>Energy</em>. Both these sectors are <a href="https://insight.factset.com/cyclical-vs.-defensive-what-we-learned-from-2020">cyclical sectors</a> and initially there was fear among investors that the pandemic would lead to a recession, so it is not surprising that they were impacted heavily. In case of <em>Energy</em>, it would be interesting if part of the underperformance was also attributed to the expectation of substantially lower travel activities due to the lock down and, as a result, lower fuel consumption.</p>
<h2 id="covid-recovery">COVID recovery</h2>
<p>The S&amp;P 500 then rose close to 3,800 until the end of the year. Which sectors drove this exceptional recovery? The chart below gives the answer.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>intDT</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/melt.data.table.html'>melt</a></span><span class='op'>(</span><span class='va'>DT</span><span class='op'>[</span><span class='va'>Date</span><span class='op'>&gt;</span><span class='fu'><a href='https://lubridate.tidyverse.org/reference/ymd.html'>dmy</a></span><span class='op'>(</span><span class='st'>"20032020"</span><span class='op'>)</span> <span class='op'>&amp;</span> <span class='va'>Date</span><span class='op'>&lt;=</span><span class='fu'><a href='https://lubridate.tidyverse.org/reference/ymd.html'>dmy</a></span><span class='op'>(</span><span class='st'>"31122020"</span><span class='op'>)</span><span class='op'>]</span>, id.var<span class='op'>=</span><span class='st'>"Date"</span><span class='op'>)</span><span class='op'>[</span>,<span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>Ret<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/prod.html'>prod</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>+</span><span class='va'>value</span><span class='op'>/</span><span class='fl'>100</span><span class='op'>)</span><span class='op'>-</span><span class='fl'>1</span><span class='op'>)</span>,by<span class='op'>=</span><span class='va'>variable</span><span class='op'>]</span>
<span class='fu'><a href='https://rdrr.io/pkg/utilitiesCJ/man/plotBar.html'>plotBar</a></span><span class='op'>(</span>.intDT <span class='op'>=</span> <span class='va'>intDT</span>,
        .x_name <span class='op'>=</span> <span class='st'>"variable"</span>,
        .y_name <span class='op'>=</span> <span class='st'>"Ret"</span>,
        .x_lab <span class='op'>=</span> <span class='st'>"Sector"</span>,
        .y_lab <span class='op'>=</span> <span class='st'>"Return"</span>,
        .fillColor <span class='op'>=</span> <span class='st'>"#581845"</span>,
        .bolSort <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_y_continuous</a></span><span class='op'>(</span>labels <span class='op'>=</span> <span class='fu'>scales</span><span class='fu'>::</span><span class='fu'><a href='https://scales.r-lib.org/reference/label_percent.html'>percent_format</a></span><span class='op'>(</span>accuracy <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>axis.text.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>angle <span class='op'>=</span> <span class='fl'>45</span>, hjust<span class='op'>=</span><span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<div class="figure"><span style="display:block;" id="fig:PlotChartCOVIDrec"></span>
<img src="sector-performance_files/figure-html5/PlotChartCOVIDrec-1.png" alt="Sector returns from 21 March 2020 to 31 December 2020. Data from Kenneth French's website." width="624" />
<p class="caption">
Figure 2: Sector returns from 21 March 2020 to 31 December 2020. Data from Kenneth French’s website.
</p>
</div>
</div>
<p><em>Durables</em> was by far the best performing sector. It is such an outlier that it would indeed by intersting to know the constituents as my first guess would not have been that companies dealing with “Cars, TVs, Furniture, Household Appliances” were the clear COVID winners. Obviously, Cars include Tesla and Tesla rose over 700% in that period, being one very important driver of this sector, given how large this company’s market cap was at the end of 2020.</p>
<aside>
Re-run the code with a more granular classification, for example the 38 industry portfolios, and cars shows up as a strongly performing sector.
</aside>
<p>Unfortunately, the classifications by French do not really put tech / software companies in one bucket. Obviously, these firms performed exceptionally throughout the pandemic, but I don’t quite know where they ended up. Could be <em>Durables</em>, could be <em>Business Equipment</em>, or something else. Fortunately, the data set I use next shows the sector performance in more granularity.</p>
<h1 id="data-from-aswath-damodarans-website">Data from Aswath Damodaran’s website</h1>
<p>In my very first <a href="https://www.christoph-jaeckel.com/posts/2021-01-17-automatically-obtaining-data-from-damodarans-website-with-r/">post</a>, I already introduced a function that downloads the data from Damodaran’s website. I use this function here to download his Excel file that documents the COVID impact on U.S. firms.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://readxl.tidyverse.org'>readxl</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://httr.r-lib.org/'>httr</a></span><span class='op'>)</span>
<span class='va'>intDT</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/utilitiesCJ/man/import_from_excel.html'>import_from_excel</a></span><span class='op'>(</span>.str_file <span class='op'>=</span><span class='st'>"https://pages.stern.nyu.edu/~adamodar/pc/datasets/COVIDeffects.xls"</span>,
                           na <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"NA"</span>, <span class='st'>"N/A"</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</details>
</div>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/setattr.html'>setnames</a></span><span class='op'>(</span><span class='va'>intDT</span>,
         old <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Industry Name"</span>, <span class='st'>"Number of firms"</span>, <span class='st'>"12/31/19"</span>, <span class='st'>"2/14/20"</span>, <span class='st'>"3/20/20"</span>, <span class='st'>"9/1/20"</span>, <span class='st'>"12/31/21"</span>, 
                 <span class='st'>"1/1/20 -  2/14"</span>, <span class='st'>"2/14/20 - 3/20/20"</span>, <span class='st'>"3/20/20 - 9/1/20"</span>, <span class='st'>"9/1/20 - 12/31/21"</span>, <span class='st'>"1/1/20 - 12/31/21"</span>, 
                 <span class='st'>"LTM 2020"</span>, <span class='st'>"LTM 2021"</span>, <span class='st'>"% Change"</span>, <span class='st'>"LTM 20202"</span>, <span class='st'>"LTM 20213"</span>, <span class='st'>"% Change4"</span><span class='op'>)</span>,
         new <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Sector"</span>, <span class='st'>"N"</span>, <span class='st'>"MktCap_31Dec19"</span>, <span class='st'>"MktCap_14Feb20"</span>, <span class='st'>"MktCap_20Mar20"</span>, <span class='st'>"MktCap_1Sep20"</span>, <span class='st'>"MktCap_31Dec21"</span>, 
                 <span class='st'>"Chg_preCOVID"</span>, <span class='st'>"Chg_initial"</span>, <span class='st'>"Chg_Recov"</span>, <span class='st'>"Chg_end20"</span>, <span class='st'>"Chg_21"</span>, 
                 <span class='st'>"Rev_LTM_2020"</span>, <span class='st'>"Rev_LTM_2021"</span>, <span class='st'>"Chg_Rev"</span>, <span class='st'>"OpInc_LTM_2020"</span>, <span class='st'>"OpInc_LTM_2021"</span>, <span class='st'>"Chg_OpInc"</span><span class='op'>)</span><span class='op'>)</span>
<span class='co'>## Report</span>
<span class='va'>intDT</span> <span class='op'>&lt;-</span> <span class='va'>intDT</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grep</a></span><span class='op'>(</span><span class='st'>"Total Market"</span>, <span class='va'>Sector</span>,invert <span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span><span class='op'>]</span>
<span class='va'>intDT</span><span class='op'>[</span>, <span class='va'>Comb</span><span class='op'>:=</span><span class='op'>(</span><span class='fl'>1</span><span class='op'>+</span><span class='va'>Chg_initial</span><span class='op'>)</span><span class='op'>*</span><span class='op'>(</span><span class='fl'>1</span><span class='op'>+</span><span class='va'>Chg_Recov</span><span class='op'>)</span><span class='op'>*</span><span class='op'>(</span><span class='fl'>1</span><span class='op'>+</span><span class='va'>Chg_end20</span><span class='op'>)</span><span class='op'>-</span><span class='fl'>1</span><span class='op'>]</span>
<span class='va'>intDT2</span> <span class='op'>&lt;-</span> <span class='va'>intDT</span><span class='op'>[</span>,<span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='va'>Sector</span>, <span class='va'>N</span>, <span class='va'>Chg_initial</span>, <span class='va'>Chg_Recov</span>, <span class='va'>Chg_end20</span>, <span class='va'>Comb</span><span class='op'>)</span><span class='op'>]</span><span class='op'>[</span><span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/setorder.html'>order</a></span><span class='op'>(</span><span class='va'>Chg_initial</span><span class='op'>)</span><span class='op'>]</span>
<span class='va'>intDT2</span><span class='op'>[</span>, <span class='va'>Rank</span><span class='op'>:=</span><span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span><span class='op'>(</span><span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/frank.html'>rank</a></span><span class='op'>(</span><span class='op'>-</span><span class='va'>Comb</span><span class='op'>)</span>,digits<span class='op'>=</span><span class='fl'>0</span><span class='op'>)</span><span class='op'>]</span>
<span class='va'>cols</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Chg_initial"</span>, <span class='st'>"Chg_Recov"</span>, <span class='st'>"Chg_end20"</span>, <span class='st'>"Comb"</span><span class='op'>)</span>
<span class='va'>intDT2</span><span class='op'>[</span>, <span class='op'>(</span><span class='va'>cols</span><span class='op'>)</span> <span class='op'>:=</span> <span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>lapply</a></span><span class='op'>(</span><span class='va'>.SD</span>, <span class='kw'>function</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span> <span class='op'>{</span><span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/format.html'>format</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>*</span><span class='fl'>100</span>,digits<span class='op'>=</span><span class='fl'>1</span><span class='op'>)</span>,nsmall<span class='op'>=</span><span class='fl'>1</span><span class='op'>)</span>, <span class='st'>"%"</span><span class='op'>)</span><span class='op'>}</span><span class='op'>)</span>, .SDcols <span class='op'>=</span> <span class='va'>cols</span><span class='op'>]</span>  
<span class='fu'><a href='https://rdrr.io/pkg/kableExtra/man/kbl.html'>kbl</a></span><span class='op'>(</span><span class='va'>intDT2</span>,
    align <span class='op'>=</span> <span class='st'>"c"</span>,
    col.names <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Sector"</span>, <span class='st'>"Nr. of firms"</span>, <span class='st'>"2/14/20 - 3/20/20"</span>, <span class='st'>"3/20/20 - 9/1/20"</span>, <span class='st'>"9/1/20 - 12/31/21"</span>, <span class='st'>"Combined"</span>, <span class='st'>"Rank"</span><span class='op'>)</span>,
    caption<span class='op'>=</span><span class='st'>"Performance of different sectors during different phases of the COVID pandemic, sorted by performance in the initial phase. Rank is based on the combined performance. Data from Damodaran's website."</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='https://rdrr.io/pkg/kableExtra/man/kable_classic.html'>kable_classic</a></span><span class='op'>(</span>full_width <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<table class=" lightable-classic" style="font-family: &quot;Arial Narrow&quot;, &quot;Source Sans Pro&quot;, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:CreateTable">Table 2: </span>Performance of different sectors during different phases of the COVID pandemic, sorted by performance in the initial phase. Rank is based on the combined performance. Data from Damodaran’s website.
</caption>
<thead>
<tr>
<th style="text-align:center;">
Sector
</th>
<th style="text-align:center;">
Nr. of firms
</th>
<th style="text-align:center;">
2/14/20 - 3/20/20
</th>
<th style="text-align:center;">
3/20/20 - 9/1/20
</th>
<th style="text-align:center;">
9/1/20 - 12/31/21
</th>
<th style="text-align:center;">
Combined
</th>
<th style="text-align:center;">
Rank
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
Air Transport
</td>
<td style="text-align:center;">
21
</td>
<td style="text-align:center;">
-60.9%
</td>
<td style="text-align:center;">
49.8%
</td>
<td style="text-align:center;">
46.3%
</td>
<td style="text-align:center;">
-14.4%
</td>
<td style="text-align:center;">
92
</td>
</tr>
<tr>
<td style="text-align:center;">
Real Estate (Development)
</td>
<td style="text-align:center;">
19
</td>
<td style="text-align:center;">
-60.5%
</td>
<td style="text-align:center;">
72.3%
</td>
<td style="text-align:center;">
59.5%
</td>
<td style="text-align:center;">
8.5%
</td>
<td style="text-align:center;">
78
</td>
</tr>
<tr>
<td style="text-align:center;">
Oilfield Svcs/Equip.
</td>
<td style="text-align:center;">
100
</td>
<td style="text-align:center;">
-58.0%
</td>
<td style="text-align:center;">
50.6%
</td>
<td style="text-align:center;">
58.4%
</td>
<td style="text-align:center;">
0.4%
</td>
<td style="text-align:center;">
88
</td>
</tr>
<tr>
<td style="text-align:center;">
Oil/Gas (Production and Exploration)
</td>
<td style="text-align:center;">
183
</td>
<td style="text-align:center;">
-57.0%
</td>
<td style="text-align:center;">
56.0%
</td>
<td style="text-align:center;">
161.2%
</td>
<td style="text-align:center;">
75.4%
</td>
<td style="text-align:center;">
27
</td>
</tr>
<tr>
<td style="text-align:center;">
Food Wholesalers
</td>
<td style="text-align:center;">
15
</td>
<td style="text-align:center;">
-56.9%
</td>
<td style="text-align:center;">
74.3%
</td>
<td style="text-align:center;">
40.5%
</td>
<td style="text-align:center;">
5.6%
</td>
<td style="text-align:center;">
83
</td>
</tr>
<tr>
<td style="text-align:center;">
Insurance (Life)
</td>
<td style="text-align:center;">
24
</td>
<td style="text-align:center;">
-53.8%
</td>
<td style="text-align:center;">
56.3%
</td>
<td style="text-align:center;">
50.6%
</td>
<td style="text-align:center;">
8.7%
</td>
<td style="text-align:center;">
76
</td>
</tr>
<tr>
<td style="text-align:center;">
Homebuilding
</td>
<td style="text-align:center;">
29
</td>
<td style="text-align:center;">
-53.8%
</td>
<td style="text-align:center;">
132.5%
</td>
<td style="text-align:center;">
45.8%
</td>
<td style="text-align:center;">
56.6%
</td>
<td style="text-align:center;">
36
</td>
</tr>
<tr>
<td style="text-align:center;">
Hotel/Gaming
</td>
<td style="text-align:center;">
66
</td>
<td style="text-align:center;">
-53.8%
</td>
<td style="text-align:center;">
72.4%
</td>
<td style="text-align:center;">
79.3%
</td>
<td style="text-align:center;">
42.9%
</td>
<td style="text-align:center;">
51
</td>
</tr>
<tr>
<td style="text-align:center;">
Oil/Gas Distribution
</td>
<td style="text-align:center;">
21
</td>
<td style="text-align:center;">
-52.9%
</td>
<td style="text-align:center;">
47.2%
</td>
<td style="text-align:center;">
56.3%
</td>
<td style="text-align:center;">
8.4%
</td>
<td style="text-align:center;">
79
</td>
</tr>
<tr>
<td style="text-align:center;">
Furn/Home Furnishings
</td>
<td style="text-align:center;">
32
</td>
<td style="text-align:center;">
-51.4%
</td>
<td style="text-align:center;">
102.6%
</td>
<td style="text-align:center;">
54.0%
</td>
<td style="text-align:center;">
51.5%
</td>
<td style="text-align:center;">
39
</td>
</tr>
<tr>
<td style="text-align:center;">
Reinsurance
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
-51.2%
</td>
<td style="text-align:center;">
35.4%
</td>
<td style="text-align:center;">
16.3%
</td>
<td style="text-align:center;">
-23.2%
</td>
<td style="text-align:center;">
94
</td>
</tr>
<tr>
<td style="text-align:center;">
Broadcasting
</td>
<td style="text-align:center;">
28
</td>
<td style="text-align:center;">
-49.6%
</td>
<td style="text-align:center;">
40.9%
</td>
<td style="text-align:center;">
25.7%
</td>
<td style="text-align:center;">
-10.7%
</td>
<td style="text-align:center;">
90
</td>
</tr>
<tr>
<td style="text-align:center;">
Rubber&amp; Tires
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
-48.7%
</td>
<td style="text-align:center;">
70.3%
</td>
<td style="text-align:center;">
166.1%
</td>
<td style="text-align:center;">
132.3%
</td>
<td style="text-align:center;">
7
</td>
</tr>
<tr>
<td style="text-align:center;">
Oil/Gas (Integrated)
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
-48.4%
</td>
<td style="text-align:center;">
28.6%
</td>
<td style="text-align:center;">
53.7%
</td>
<td style="text-align:center;">
2.1%
</td>
<td style="text-align:center;">
87
</td>
</tr>
<tr>
<td style="text-align:center;">
Real Estate (Operations &amp; Services)
</td>
<td style="text-align:center;">
51
</td>
<td style="text-align:center;">
-48.1%
</td>
<td style="text-align:center;">
97.8%
</td>
<td style="text-align:center;">
95.6%
</td>
<td style="text-align:center;">
100.7%
</td>
<td style="text-align:center;">
13
</td>
</tr>
<tr>
<td style="text-align:center;">
Aerospace/Defense
</td>
<td style="text-align:center;">
73
</td>
<td style="text-align:center;">
-48.1%
</td>
<td style="text-align:center;">
37.6%
</td>
<td style="text-align:center;">
22.9%
</td>
<td style="text-align:center;">
-12.2%
</td>
<td style="text-align:center;">
91
</td>
</tr>
<tr>
<td style="text-align:center;">
Hospitals/Healthcare Facilities
</td>
<td style="text-align:center;">
31
</td>
<td style="text-align:center;">
-48.0%
</td>
<td style="text-align:center;">
66.2%
</td>
<td style="text-align:center;">
69.2%
</td>
<td style="text-align:center;">
46.3%
</td>
<td style="text-align:center;">
45
</td>
</tr>
<tr>
<td style="text-align:center;">
Paper/Forest Products
</td>
<td style="text-align:center;">
11
</td>
<td style="text-align:center;">
-48.0%
</td>
<td style="text-align:center;">
73.8%
</td>
<td style="text-align:center;">
67.3%
</td>
<td style="text-align:center;">
51.3%
</td>
<td style="text-align:center;">
40
</td>
</tr>
<tr>
<td style="text-align:center;">
Recreation
</td>
<td style="text-align:center;">
60
</td>
<td style="text-align:center;">
-47.6%
</td>
<td style="text-align:center;">
122.6%
</td>
<td style="text-align:center;">
43.3%
</td>
<td style="text-align:center;">
67.0%
</td>
<td style="text-align:center;">
33
</td>
</tr>
<tr>
<td style="text-align:center;">
Auto &amp; Truck
</td>
<td style="text-align:center;">
26
</td>
<td style="text-align:center;">
-47.3%
</td>
<td style="text-align:center;">
314.3%
</td>
<td style="text-align:center;">
168.4%
</td>
<td style="text-align:center;">
485.6%
</td>
<td style="text-align:center;">
1
</td>
</tr>
<tr>
<td style="text-align:center;">
Engineering/Construction
</td>
<td style="text-align:center;">
48
</td>
<td style="text-align:center;">
-45.9%
</td>
<td style="text-align:center;">
82.6%
</td>
<td style="text-align:center;">
92.6%
</td>
<td style="text-align:center;">
90.1%
</td>
<td style="text-align:center;">
18
</td>
</tr>
<tr>
<td style="text-align:center;">
Chemical (Basic)
</td>
<td style="text-align:center;">
35
</td>
<td style="text-align:center;">
-45.7%
</td>
<td style="text-align:center;">
66.8%
</td>
<td style="text-align:center;">
48.3%
</td>
<td style="text-align:center;">
34.4%
</td>
<td style="text-align:center;">
57
</td>
</tr>
<tr>
<td style="text-align:center;">
Advertising
</td>
<td style="text-align:center;">
49
</td>
<td style="text-align:center;">
-45.1%
</td>
<td style="text-align:center;">
35.1%
</td>
<td style="text-align:center;">
109.4%
</td>
<td style="text-align:center;">
55.2%
</td>
<td style="text-align:center;">
38
</td>
</tr>
<tr>
<td style="text-align:center;">
Chemical (Diversified)
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
-44.4%
</td>
<td style="text-align:center;">
92.7%
</td>
<td style="text-align:center;">
63.9%
</td>
<td style="text-align:center;">
75.6%
</td>
<td style="text-align:center;">
26
</td>
</tr>
<tr>
<td style="text-align:center;">
Apparel
</td>
<td style="text-align:center;">
39
</td>
<td style="text-align:center;">
-44.1%
</td>
<td style="text-align:center;">
28.0%
</td>
<td style="text-align:center;">
52.0%
</td>
<td style="text-align:center;">
8.6%
</td>
<td style="text-align:center;">
77
</td>
</tr>
<tr>
<td style="text-align:center;">
Bank (Money Center)
</td>
<td style="text-align:center;">
7
</td>
<td style="text-align:center;">
-44.0%
</td>
<td style="text-align:center;">
18.4%
</td>
<td style="text-align:center;">
55.5%
</td>
<td style="text-align:center;">
3.1%
</td>
<td style="text-align:center;">
85
</td>
</tr>
<tr>
<td style="text-align:center;">
Metals &amp; Mining
</td>
<td style="text-align:center;">
74
</td>
<td style="text-align:center;">
-43.4%
</td>
<td style="text-align:center;">
122.6%
</td>
<td style="text-align:center;">
94.6%
</td>
<td style="text-align:center;">
145.3%
</td>
<td style="text-align:center;">
6
</td>
</tr>
<tr>
<td style="text-align:center;">
Office Equipment &amp; Services
</td>
<td style="text-align:center;">
18
</td>
<td style="text-align:center;">
-43.2%
</td>
<td style="text-align:center;">
35.3%
</td>
<td style="text-align:center;">
38.3%
</td>
<td style="text-align:center;">
6.4%
</td>
<td style="text-align:center;">
81
</td>
</tr>
<tr>
<td style="text-align:center;">
Auto Parts
</td>
<td style="text-align:center;">
38
</td>
<td style="text-align:center;">
-42.2%
</td>
<td style="text-align:center;">
73.7%
</td>
<td style="text-align:center;">
81.4%
</td>
<td style="text-align:center;">
82.2%
</td>
<td style="text-align:center;">
22
</td>
</tr>
<tr>
<td style="text-align:center;">
Brokerage &amp; Investment Banking
</td>
<td style="text-align:center;">
31
</td>
<td style="text-align:center;">
-42.1%
</td>
<td style="text-align:center;">
49.0%
</td>
<td style="text-align:center;">
127.2%
</td>
<td style="text-align:center;">
96.0%
</td>
<td style="text-align:center;">
16
</td>
</tr>
<tr>
<td style="text-align:center;">
Banks (Regional)
</td>
<td style="text-align:center;">
563
</td>
<td style="text-align:center;">
-42.1%
</td>
<td style="text-align:center;">
23.6%
</td>
<td style="text-align:center;">
84.8%
</td>
<td style="text-align:center;">
32.2%
</td>
<td style="text-align:center;">
61
</td>
</tr>
<tr>
<td style="text-align:center;">
Semiconductor Equip
</td>
<td style="text-align:center;">
34
</td>
<td style="text-align:center;">
-41.5%
</td>
<td style="text-align:center;">
79.4%
</td>
<td style="text-align:center;">
113.5%
</td>
<td style="text-align:center;">
123.9%
</td>
<td style="text-align:center;">
8
</td>
</tr>
<tr>
<td style="text-align:center;">
Insurance (General)
</td>
<td style="text-align:center;">
23
</td>
<td style="text-align:center;">
-41.5%
</td>
<td style="text-align:center;">
45.5%
</td>
<td style="text-align:center;">
62.0%
</td>
<td style="text-align:center;">
37.8%
</td>
<td style="text-align:center;">
56
</td>
</tr>
<tr>
<td style="text-align:center;">
Shipbuilding &amp; Marine
</td>
<td style="text-align:center;">
8
</td>
<td style="text-align:center;">
-41.5%
</td>
<td style="text-align:center;">
22.8%
</td>
<td style="text-align:center;">
82.9%
</td>
<td style="text-align:center;">
31.5%
</td>
<td style="text-align:center;">
62
</td>
</tr>
<tr>
<td style="text-align:center;">
Retail (Building Supply)
</td>
<td style="text-align:center;">
16
</td>
<td style="text-align:center;">
-41.1%
</td>
<td style="text-align:center;">
104.2%
</td>
<td style="text-align:center;">
41.7%
</td>
<td style="text-align:center;">
70.6%
</td>
<td style="text-align:center;">
30
</td>
</tr>
<tr>
<td style="text-align:center;">
Education
</td>
<td style="text-align:center;">
35
</td>
<td style="text-align:center;">
-41.1%
</td>
<td style="text-align:center;">
77.1%
</td>
<td style="text-align:center;">
12.7%
</td>
<td style="text-align:center;">
17.6%
</td>
<td style="text-align:center;">
70
</td>
</tr>
<tr>
<td style="text-align:center;">
Coal &amp; Related Energy
</td>
<td style="text-align:center;">
18
</td>
<td style="text-align:center;">
-40.8%
</td>
<td style="text-align:center;">
23.7%
</td>
<td style="text-align:center;">
266.6%
</td>
<td style="text-align:center;">
168.6%
</td>
<td style="text-align:center;">
5
</td>
</tr>
<tr>
<td style="text-align:center;">
Steel
</td>
<td style="text-align:center;">
28
</td>
<td style="text-align:center;">
-40.4%
</td>
<td style="text-align:center;">
56.2%
</td>
<td style="text-align:center;">
116.2%
</td>
<td style="text-align:center;">
101.3%
</td>
<td style="text-align:center;">
12
</td>
</tr>
<tr>
<td style="text-align:center;">
Retail (Distributors)
</td>
<td style="text-align:center;">
68
</td>
<td style="text-align:center;">
-40.2%
</td>
<td style="text-align:center;">
84.9%
</td>
<td style="text-align:center;">
62.8%
</td>
<td style="text-align:center;">
80.1%
</td>
<td style="text-align:center;">
23
</td>
</tr>
<tr>
<td style="text-align:center;">
Financial Svcs. (Non-bank &amp; Insurance)
</td>
<td style="text-align:center;">
223
</td>
<td style="text-align:center;">
-40.0%
</td>
<td style="text-align:center;">
49.2%
</td>
<td style="text-align:center;">
57.5%
</td>
<td style="text-align:center;">
41.1%
</td>
<td style="text-align:center;">
53
</td>
</tr>
<tr>
<td style="text-align:center;">
Retail (Special Lines)
</td>
<td style="text-align:center;">
76
</td>
<td style="text-align:center;">
-39.7%
</td>
<td style="text-align:center;">
47.2%
</td>
<td style="text-align:center;">
55.9%
</td>
<td style="text-align:center;">
38.3%
</td>
<td style="text-align:center;">
55
</td>
</tr>
<tr>
<td style="text-align:center;">
Investments &amp; Asset Management
</td>
<td style="text-align:center;">
687
</td>
<td style="text-align:center;">
-39.7%
</td>
<td style="text-align:center;">
52.4%
</td>
<td style="text-align:center;">
126.0%
</td>
<td style="text-align:center;">
107.6%
</td>
<td style="text-align:center;">
10
</td>
</tr>
<tr>
<td style="text-align:center;">
R.E.I.T.
</td>
<td style="text-align:center;">
238
</td>
<td style="text-align:center;">
-39.5%
</td>
<td style="text-align:center;">
36.8%
</td>
<td style="text-align:center;">
53.0%
</td>
<td style="text-align:center;">
26.6%
</td>
<td style="text-align:center;">
69
</td>
</tr>
<tr>
<td style="text-align:center;">
Retail (Automotive)
</td>
<td style="text-align:center;">
32
</td>
<td style="text-align:center;">
-38.9%
</td>
<td style="text-align:center;">
118.7%
</td>
<td style="text-align:center;">
28.1%
</td>
<td style="text-align:center;">
71.2%
</td>
<td style="text-align:center;">
29
</td>
</tr>
<tr>
<td style="text-align:center;">
Trucking
</td>
<td style="text-align:center;">
34
</td>
<td style="text-align:center;">
-38.9%
</td>
<td style="text-align:center;">
66.1%
</td>
<td style="text-align:center;">
64.4%
</td>
<td style="text-align:center;">
66.9%
</td>
<td style="text-align:center;">
34
</td>
</tr>
<tr>
<td style="text-align:center;">
Electrical Equipment
</td>
<td style="text-align:center;">
104
</td>
<td style="text-align:center;">
-38.7%
</td>
<td style="text-align:center;">
79.9%
</td>
<td style="text-align:center;">
71.9%
</td>
<td style="text-align:center;">
89.5%
</td>
<td style="text-align:center;">
19
</td>
</tr>
<tr>
<td style="text-align:center;">
Electronics (Consumer &amp; Office)
</td>
<td style="text-align:center;">
16
</td>
<td style="text-align:center;">
-38.4%
</td>
<td style="text-align:center;">
76.0%
</td>
<td style="text-align:center;">
286.0%
</td>
<td style="text-align:center;">
318.8%
</td>
<td style="text-align:center;">
3
</td>
</tr>
<tr>
<td style="text-align:center;">
Restaurant/Dining
</td>
<td style="text-align:center;">
70
</td>
<td style="text-align:center;">
-38.0%
</td>
<td style="text-align:center;">
60.4%
</td>
<td style="text-align:center;">
34.0%
</td>
<td style="text-align:center;">
33.2%
</td>
<td style="text-align:center;">
58
</td>
</tr>
<tr>
<td style="text-align:center;">
Computer Services
</td>
<td style="text-align:center;">
83
</td>
<td style="text-align:center;">
-38.0%
</td>
<td style="text-align:center;">
42.6%
</td>
<td style="text-align:center;">
44.9%
</td>
<td style="text-align:center;">
28.2%
</td>
<td style="text-align:center;">
68
</td>
</tr>
<tr>
<td style="text-align:center;">
Real Estate (General/Diversified)
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
-37.5%
</td>
<td style="text-align:center;">
30.6%
</td>
<td style="text-align:center;">
90.6%
</td>
<td style="text-align:center;">
55.6%
</td>
<td style="text-align:center;">
37
</td>
</tr>
<tr>
<td style="text-align:center;">
Transportation (Railroads)
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
-37.4%
</td>
<td style="text-align:center;">
63.1%
</td>
<td style="text-align:center;">
28.4%
</td>
<td style="text-align:center;">
31.0%
</td>
<td style="text-align:center;">
64
</td>
</tr>
<tr>
<td style="text-align:center;">
Shoe
</td>
<td style="text-align:center;">
12
</td>
<td style="text-align:center;">
-36.6%
</td>
<td style="text-align:center;">
70.9%
</td>
<td style="text-align:center;">
51.0%
</td>
<td style="text-align:center;">
63.8%
</td>
<td style="text-align:center;">
35
</td>
</tr>
<tr>
<td style="text-align:center;">
Machinery
</td>
<td style="text-align:center;">
111
</td>
<td style="text-align:center;">
-36.5%
</td>
<td style="text-align:center;">
68.7%
</td>
<td style="text-align:center;">
40.6%
</td>
<td style="text-align:center;">
50.4%
</td>
<td style="text-align:center;">
41
</td>
</tr>
<tr>
<td style="text-align:center;">
Business &amp; Consumer Services
</td>
<td style="text-align:center;">
160
</td>
<td style="text-align:center;">
-36.0%
</td>
<td style="text-align:center;">
59.0%
</td>
<td style="text-align:center;">
41.2%
</td>
<td style="text-align:center;">
43.8%
</td>
<td style="text-align:center;">
48
</td>
</tr>
<tr>
<td style="text-align:center;">
Beverage (Alcoholic)
</td>
<td style="text-align:center;">
21
</td>
<td style="text-align:center;">
-35.3%
</td>
<td style="text-align:center;">
52.2%
</td>
<td style="text-align:center;">
16.3%
</td>
<td style="text-align:center;">
14.6%
</td>
<td style="text-align:center;">
72
</td>
</tr>
<tr>
<td style="text-align:center;">
Construction Supplies
</td>
<td style="text-align:center;">
48
</td>
<td style="text-align:center;">
-35.2%
</td>
<td style="text-align:center;">
67.0%
</td>
<td style="text-align:center;">
32.1%
</td>
<td style="text-align:center;">
42.9%
</td>
<td style="text-align:center;">
50
</td>
</tr>
<tr>
<td style="text-align:center;">
Information Services
</td>
<td style="text-align:center;">
79
</td>
<td style="text-align:center;">
-35.1%
</td>
<td style="text-align:center;">
63.8%
</td>
<td style="text-align:center;">
6.4%
</td>
<td style="text-align:center;">
13.1%
</td>
<td style="text-align:center;">
74
</td>
</tr>
<tr>
<td style="text-align:center;">
Chemical (Specialty)
</td>
<td style="text-align:center;">
81
</td>
<td style="text-align:center;">
-34.2%
</td>
<td style="text-align:center;">
56.3%
</td>
<td style="text-align:center;">
41.4%
</td>
<td style="text-align:center;">
45.4%
</td>
<td style="text-align:center;">
46
</td>
</tr>
<tr>
<td style="text-align:center;">
Publishing &amp; Newspapers
</td>
<td style="text-align:center;">
21
</td>
<td style="text-align:center;">
-34.1%
</td>
<td style="text-align:center;">
41.2%
</td>
<td style="text-align:center;">
37.8%
</td>
<td style="text-align:center;">
28.2%
</td>
<td style="text-align:center;">
67
</td>
</tr>
<tr>
<td style="text-align:center;">
Farming/Agriculture
</td>
<td style="text-align:center;">
36
</td>
<td style="text-align:center;">
-34.1%
</td>
<td style="text-align:center;">
69.5%
</td>
<td style="text-align:center;">
58.8%
</td>
<td style="text-align:center;">
77.3%
</td>
<td style="text-align:center;">
25
</td>
</tr>
<tr>
<td style="text-align:center;">
Insurance (Prop/Cas.)
</td>
<td style="text-align:center;">
52
</td>
<td style="text-align:center;">
-33.8%
</td>
<td style="text-align:center;">
30.8%
</td>
<td style="text-align:center;">
21.8%
</td>
<td style="text-align:center;">
5.4%
</td>
<td style="text-align:center;">
84
</td>
</tr>
<tr>
<td style="text-align:center;">
Power
</td>
<td style="text-align:center;">
50
</td>
<td style="text-align:center;">
-33.5%
</td>
<td style="text-align:center;">
25.6%
</td>
<td style="text-align:center;">
28.9%
</td>
<td style="text-align:center;">
7.6%
</td>
<td style="text-align:center;">
80
</td>
</tr>
<tr>
<td style="text-align:center;">
Electronics (General)
</td>
<td style="text-align:center;">
137
</td>
<td style="text-align:center;">
-33.1%
</td>
<td style="text-align:center;">
55.2%
</td>
<td style="text-align:center;">
68.2%
</td>
<td style="text-align:center;">
74.8%
</td>
<td style="text-align:center;">
28
</td>
</tr>
<tr>
<td style="text-align:center;">
Semiconductor
</td>
<td style="text-align:center;">
67
</td>
<td style="text-align:center;">
-32.0%
</td>
<td style="text-align:center;">
77.2%
</td>
<td style="text-align:center;">
71.7%
</td>
<td style="text-align:center;">
106.9%
</td>
<td style="text-align:center;">
11
</td>
</tr>
<tr>
<td style="text-align:center;">
Beverage (Soft)
</td>
<td style="text-align:center;">
32
</td>
<td style="text-align:center;">
-31.4%
</td>
<td style="text-align:center;">
33.6%
</td>
<td style="text-align:center;">
23.9%
</td>
<td style="text-align:center;">
13.6%
</td>
<td style="text-align:center;">
73
</td>
</tr>
<tr>
<td style="text-align:center;">
Utility (General)
</td>
<td style="text-align:center;">
16
</td>
<td style="text-align:center;">
-31.2%
</td>
<td style="text-align:center;">
22.4%
</td>
<td style="text-align:center;">
16.5%
</td>
<td style="text-align:center;">
-1.9%
</td>
<td style="text-align:center;">
89
</td>
</tr>
<tr>
<td style="text-align:center;">
Healthcare Support Services
</td>
<td style="text-align:center;">
131
</td>
<td style="text-align:center;">
-30.8%
</td>
<td style="text-align:center;">
43.1%
</td>
<td style="text-align:center;">
50.4%
</td>
<td style="text-align:center;">
48.9%
</td>
<td style="text-align:center;">
44
</td>
</tr>
<tr>
<td style="text-align:center;">
Healthcare Products
</td>
<td style="text-align:center;">
244
</td>
<td style="text-align:center;">
-30.7%
</td>
<td style="text-align:center;">
58.0%
</td>
<td style="text-align:center;">
31.0%
</td>
<td style="text-align:center;">
43.5%
</td>
<td style="text-align:center;">
49
</td>
</tr>
<tr>
<td style="text-align:center;">
Computers/Peripherals
</td>
<td style="text-align:center;">
46
</td>
<td style="text-align:center;">
-30.6%
</td>
<td style="text-align:center;">
122.9%
</td>
<td style="text-align:center;">
28.2%
</td>
<td style="text-align:center;">
98.3%
</td>
<td style="text-align:center;">
15
</td>
</tr>
<tr>
<td style="text-align:center;">
Software (Entertainment)
</td>
<td style="text-align:center;">
88
</td>
<td style="text-align:center;">
-30.4%
</td>
<td style="text-align:center;">
75.0%
</td>
<td style="text-align:center;">
46.3%
</td>
<td style="text-align:center;">
78.3%
</td>
<td style="text-align:center;">
24
</td>
</tr>
<tr>
<td style="text-align:center;">
Packaging &amp; Container
</td>
<td style="text-align:center;">
26
</td>
<td style="text-align:center;">
-30.3%
</td>
<td style="text-align:center;">
40.3%
</td>
<td style="text-align:center;">
35.3%
</td>
<td style="text-align:center;">
32.4%
</td>
<td style="text-align:center;">
59
</td>
</tr>
<tr>
<td style="text-align:center;">
Diversified
</td>
<td style="text-align:center;">
22
</td>
<td style="text-align:center;">
-29.8%
</td>
<td style="text-align:center;">
27.7%
</td>
<td style="text-align:center;">
28.2%
</td>
<td style="text-align:center;">
15.0%
</td>
<td style="text-align:center;">
71
</td>
</tr>
<tr>
<td style="text-align:center;">
Cable TV
</td>
<td style="text-align:center;">
11
</td>
<td style="text-align:center;">
-29.5%
</td>
<td style="text-align:center;">
40.9%
</td>
<td style="text-align:center;">
3.0%
</td>
<td style="text-align:center;">
2.3%
</td>
<td style="text-align:center;">
86
</td>
</tr>
<tr>
<td style="text-align:center;">
Building Materials
</td>
<td style="text-align:center;">
44
</td>
<td style="text-align:center;">
-29.5%
</td>
<td style="text-align:center;">
97.5%
</td>
<td style="text-align:center;">
56.4%
</td>
<td style="text-align:center;">
117.9%
</td>
<td style="text-align:center;">
9
</td>
</tr>
<tr>
<td style="text-align:center;">
Entertainment
</td>
<td style="text-align:center;">
108
</td>
<td style="text-align:center;">
-28.2%
</td>
<td style="text-align:center;">
67.0%
</td>
<td style="text-align:center;">
24.7%
</td>
<td style="text-align:center;">
49.4%
</td>
<td style="text-align:center;">
43
</td>
</tr>
<tr>
<td style="text-align:center;">
Tobacco
</td>
<td style="text-align:center;">
16
</td>
<td style="text-align:center;">
-28.2%
</td>
<td style="text-align:center;">
27.6%
</td>
<td style="text-align:center;">
16.0%
</td>
<td style="text-align:center;">
6.2%
</td>
<td style="text-align:center;">
82
</td>
</tr>
<tr>
<td style="text-align:center;">
Software (System &amp; Application)
</td>
<td style="text-align:center;">
375
</td>
<td style="text-align:center;">
-26.7%
</td>
<td style="text-align:center;">
76.1%
</td>
<td style="text-align:center;">
43.3%
</td>
<td style="text-align:center;">
84.9%
</td>
<td style="text-align:center;">
20
</td>
</tr>
<tr>
<td style="text-align:center;">
Environmental &amp; Waste Services
</td>
<td style="text-align:center;">
58
</td>
<td style="text-align:center;">
-26.5%
</td>
<td style="text-align:center;">
30.6%
</td>
<td style="text-align:center;">
37.7%
</td>
<td style="text-align:center;">
32.2%
</td>
<td style="text-align:center;">
60
</td>
</tr>
<tr>
<td style="text-align:center;">
Green &amp; Renewable Energy
</td>
<td style="text-align:center;">
20
</td>
<td style="text-align:center;">
-26.2%
</td>
<td style="text-align:center;">
302.3%
</td>
<td style="text-align:center;">
61.2%
</td>
<td style="text-align:center;">
378.7%
</td>
<td style="text-align:center;">
2
</td>
</tr>
<tr>
<td style="text-align:center;">
Telecom. Equipment
</td>
<td style="text-align:center;">
82
</td>
<td style="text-align:center;">
-25.3%
</td>
<td style="text-align:center;">
24.0%
</td>
<td style="text-align:center;">
61.9%
</td>
<td style="text-align:center;">
49.9%
</td>
<td style="text-align:center;">
42
</td>
</tr>
<tr>
<td style="text-align:center;">
Utility (Water)
</td>
<td style="text-align:center;">
14
</td>
<td style="text-align:center;">
-23.9%
</td>
<td style="text-align:center;">
24.5%
</td>
<td style="text-align:center;">
35.6%
</td>
<td style="text-align:center;">
28.4%
</td>
<td style="text-align:center;">
66
</td>
</tr>
<tr>
<td style="text-align:center;">
Heathcare Information and Technology
</td>
<td style="text-align:center;">
142
</td>
<td style="text-align:center;">
-23.5%
</td>
<td style="text-align:center;">
65.3%
</td>
<td style="text-align:center;">
58.2%
</td>
<td style="text-align:center;">
100.1%
</td>
<td style="text-align:center;">
14
</td>
</tr>
<tr>
<td style="text-align:center;">
Software (Internet)
</td>
<td style="text-align:center;">
36
</td>
<td style="text-align:center;">
-23.5%
</td>
<td style="text-align:center;">
112.1%
</td>
<td style="text-align:center;">
92.1%
</td>
<td style="text-align:center;">
211.9%
</td>
<td style="text-align:center;">
4
</td>
</tr>
<tr>
<td style="text-align:center;">
Telecom (Wireless)
</td>
<td style="text-align:center;">
17
</td>
<td style="text-align:center;">
-22.7%
</td>
<td style="text-align:center;">
117.5%
</td>
<td style="text-align:center;">
-0.1%
</td>
<td style="text-align:center;">
68.0%
</td>
<td style="text-align:center;">
31
</td>
</tr>
<tr>
<td style="text-align:center;">
Drugs (Pharmaceutical)
</td>
<td style="text-align:center;">
298
</td>
<td style="text-align:center;">
-21.4%
</td>
<td style="text-align:center;">
29.1%
</td>
<td style="text-align:center;">
29.5%
</td>
<td style="text-align:center;">
31.4%
</td>
<td style="text-align:center;">
63
</td>
</tr>
<tr>
<td style="text-align:center;">
Food Processing
</td>
<td style="text-align:center;">
92
</td>
<td style="text-align:center;">
-21.0%
</td>
<td style="text-align:center;">
30.5%
</td>
<td style="text-align:center;">
8.5%
</td>
<td style="text-align:center;">
11.9%
</td>
<td style="text-align:center;">
75
</td>
</tr>
<tr>
<td style="text-align:center;">
Household Products
</td>
<td style="text-align:center;">
118
</td>
<td style="text-align:center;">
-20.8%
</td>
<td style="text-align:center;">
35.9%
</td>
<td style="text-align:center;">
21.7%
</td>
<td style="text-align:center;">
31.0%
</td>
<td style="text-align:center;">
65
</td>
</tr>
<tr>
<td style="text-align:center;">
Telecom. Services
</td>
<td style="text-align:center;">
42
</td>
<td style="text-align:center;">
-20.1%
</td>
<td style="text-align:center;">
9.6%
</td>
<td style="text-align:center;">
-9.5%
</td>
<td style="text-align:center;">
-20.8%
</td>
<td style="text-align:center;">
93
</td>
</tr>
<tr>
<td style="text-align:center;">
Transportation
</td>
<td style="text-align:center;">
17
</td>
<td style="text-align:center;">
-17.9%
</td>
<td style="text-align:center;">
78.3%
</td>
<td style="text-align:center;">
33.5%
</td>
<td style="text-align:center;">
95.5%
</td>
<td style="text-align:center;">
17
</td>
</tr>
<tr>
<td style="text-align:center;">
Drugs (Biotechnology)
</td>
<td style="text-align:center;">
581
</td>
<td style="text-align:center;">
-17.7%
</td>
<td style="text-align:center;">
42.0%
</td>
<td style="text-align:center;">
24.1%
</td>
<td style="text-align:center;">
45.0%
</td>
<td style="text-align:center;">
47
</td>
</tr>
<tr>
<td style="text-align:center;">
Precious Metals
</td>
<td style="text-align:center;">
76
</td>
<td style="text-align:center;">
-14.7%
</td>
<td style="text-align:center;">
77.6%
</td>
<td style="text-align:center;">
-7.9%
</td>
<td style="text-align:center;">
39.5%
</td>
<td style="text-align:center;">
54
</td>
</tr>
<tr>
<td style="text-align:center;">
Retail (Online)
</td>
<td style="text-align:center;">
60
</td>
<td style="text-align:center;">
-14.6%
</td>
<td style="text-align:center;">
94.6%
</td>
<td style="text-align:center;">
0.6%
</td>
<td style="text-align:center;">
67.1%
</td>
<td style="text-align:center;">
32
</td>
</tr>
<tr>
<td style="text-align:center;">
Retail (General)
</td>
<td style="text-align:center;">
16
</td>
<td style="text-align:center;">
-9.0%
</td>
<td style="text-align:center;">
31.1%
</td>
<td style="text-align:center;">
19.5%
</td>
<td style="text-align:center;">
42.6%
</td>
<td style="text-align:center;">
52
</td>
</tr>
<tr>
<td style="text-align:center;">
Retail (Grocery and Food)
</td>
<td style="text-align:center;">
15
</td>
<td style="text-align:center;">
4.3%
</td>
<td style="text-align:center;">
34.8%
</td>
<td style="text-align:center;">
31.2%
</td>
<td style="text-align:center;">
84.4%
</td>
<td style="text-align:center;">
21
</td>
</tr>
</tbody>
</table>
</div>
<p>Damodaran’s sector classification is much more granular, which confirms some of the hypotheses I made above when looking at French’s data. For example, <em>Shops</em> did reasonably well as some of the clear initial COVID winners were grocery and food retailers. Shoes and apparel shops, on the other hand, suffered substantially.</p>
<p>The table also shows nicely for which sectors the sentiment stayed relatively constant and for which it changed. <em>Air Transport</em> is a sector that was initially hit the worst and has not recovered grounds since then in comparison to other sectors. Other sectors, such as <em>Oil/Gas (Production and Exploration)</em>, did terrible at the start, but ended 2020 as one of the stronger sectors.</p>
<p>Again, Tesla shows up as the clear anomaly in this data set, pushing <em>Auto &amp; Truck</em> to the best performing sector. For me, this is difficult to explain: in an unexpected pandemic, one would have expected certain sector rotations. <em>Air Transport</em> becomes less relevant as people don’t travel anymore; <em>Software</em> and <em>Entertainment</em> profits as people stay at home. Why do cars though become out of a sudden so much more relevant during a pandemic? People always had them, it’s hard for me to come up with a story as to why they became so much more relevant during COVID. Of course, one could argue that the rise of Tesla co-incided with the pandemic, but in this case one would expect the other car manufacturers to lose just as much. Essentially an intra-sector rotation away from the old manufacturers towards Tesla. This, however, didn’t seem to happen either as Tesla gained so much to move the whole sector towards new heights. One explanation could be that Tesla took those gains from non-U.S. competitors such as Daimler, BMW, or Toyota. However, Toyota’s share price increased and most of the others are flat compared to the pandemic.</p>
<p>Damodaran also shows the change in revenues and operating income from 2020 to 2021 and the scatterplots below compare them to the stock market performance from mid-February 2020 to the end of 2020. A strong correlation would indicate that the stock price movements were anticipating subsequent moves in cash flows. However, there is no such correlation visible in the data.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='va'>intDT</span><span class='op'>[</span><span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>Chg_Rev</span><span class='op'>)</span><span class='op'>]</span>, 
       <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x<span class='op'>=</span><span class='va'>Comb</span>, y<span class='op'>=</span><span class='va'>Chg_Rev</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span> <span class='co'>#, color=sector_group)) +</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_x_continuous</a></span><span class='op'>(</span>labels <span class='op'>=</span> <span class='fu'>scales</span><span class='fu'>::</span><span class='va'><a href='https://scales.r-lib.org/reference/label_percent.html'>percent</a></span><span class='op'>)</span>  <span class='op'>+</span> 
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_y_continuous</a></span><span class='op'>(</span>labels <span class='op'>=</span> <span class='fu'>scales</span><span class='fu'>::</span><span class='fu'><a href='https://scales.r-lib.org/reference/label_percent.html'>percent_format</a></span><span class='op'>(</span>accuracy <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span>  <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>xlab</a></span><span class='op'>(</span><span class='st'>"Stock return: 2/14/20-12/31/20"</span><span class='op'>)</span> <span class='op'>+</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>ylab</a></span><span class='op'>(</span><span class='st'>"Change Rev 20-21"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_smooth.html'>geom_smooth</a></span><span class='op'>(</span>method<span class='op'>=</span><span class='va'>lm</span>, se<span class='op'>=</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>legend.title <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='va'>intDT</span><span class='op'>[</span><span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>Chg_OpInc</span><span class='op'>)</span><span class='op'>]</span>, 
       <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x<span class='op'>=</span><span class='va'>Comb</span>, y<span class='op'>=</span><span class='va'>Chg_OpInc</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span> <span class='co'>#, color=sector_group)) +</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_x_continuous</a></span><span class='op'>(</span>labels <span class='op'>=</span> <span class='fu'>scales</span><span class='fu'>::</span><span class='va'><a href='https://scales.r-lib.org/reference/label_percent.html'>percent</a></span><span class='op'>)</span>  <span class='op'>+</span> 
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_y_continuous</a></span><span class='op'>(</span>labels <span class='op'>=</span> <span class='fu'>scales</span><span class='fu'>::</span><span class='fu'><a href='https://scales.r-lib.org/reference/label_percent.html'>percent_format</a></span><span class='op'>(</span>accuracy <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span>  <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>xlab</a></span><span class='op'>(</span><span class='st'>"Stock return: 2/14/20-12/31/20"</span><span class='op'>)</span> <span class='op'>+</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>ylab</a></span><span class='op'>(</span><span class='st'>"Change OpInc 20-21"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_smooth.html'>geom_smooth</a></span><span class='op'>(</span>method<span class='op'>=</span><span class='va'>lm</span>, se<span class='op'>=</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>legend.title <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<div class="figure"><span style="display:block;" id="fig:ScatterPlot"></span>
<img src="sector-performance_files/figure-html5/ScatterPlot-1.png" alt="Sector performance from 14 Feb 2020 to 31 Dec 2020 vs. change in revenues and operating income from 2020 to 2021. Data obtained from Damodaran's website." width="40%" /><img src="sector-performance_files/figure-html5/ScatterPlot-2.png" alt="Sector performance from 14 Feb 2020 to 31 Dec 2020 vs. change in revenues and operating income from 2020 to 2021. Data obtained from Damodaran's website." width="40%" />
<p class="caption">
Figure 3: Sector performance from 14 Feb 2020 to 31 Dec 2020 vs. change in revenues and operating income from 2020 to 2021. Data obtained from Damodaran’s website.
</p>
</div>
</div>
<h1 id="summary">Summary</h1>
<p>This post has shown how to leverage publicly available data to understand the impact of a macroeconomic shock on different sectors. It used the COVID pandemic as an example, but the code is easily adjustable to look at other events as well.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<section class="footnotes" role="doc-endnotes">
<hr />
<ol>
<li id="fn1" role="doc-endnote"><p>This <a href="https://en.wikipedia.org/wiki/Impact_of_the_COVID-19_pandemic_on_retail">Wikipedia article</a> mentions that Apple and many other players closed all their shops on March 14. Hence, investors were already well aware of the dramatic impact of the pandemic on retail.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>
<!--radix_placeholder_article_footer-->
<div class="article-footer">
  <p class="social_footer">
    <span class="disqus-comments">
      <i class="fas fa-comments"></i>
      &nbsp;
      <span class="disqus-comment-count" data-disqus-identifier="posts/2022-03-27-sector-performance/">Comment on this article</span>
    </span>
    <span class="article-sharing">
      Share: &nbsp;
      <a href="https://twitter.com/share?text=Sector%20performance&amp;url=https%3A%2F%2Fwww.christoph-jaeckel.com%2Fposts%2F2022-03-27-sector-performance%2F">
        <i class="fab fa-twitter"></i>
      </a>
      <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fwww.christoph-jaeckel.com%2Fposts%2F2022-03-27-sector-performance%2F&amp;title=Sector%20performance">
        <i class="fab fa-linkedin"></i>
      </a>
    </span>
  </p>
  <script id="dsq-count-scr" src="https://https-www-christoph-jaeckel-com.disqus.com/count.js" async></script>
  <div id="disqus_thread" class="hidden"></div>
  <script type="text/plain" cookie-consent="functionality">
var disqus_config = function () {
  this.page.url = 'https://www.christoph-jaeckel.com/posts/2022-03-27-sector-performance/';
  this.page.identifier = 'posts/2022-03-27-sector-performance/';
};
(function() {
  var d = document, s = d.createElement('script');
  s.src = 'https://https-www-christoph-jaeckel-com.disqus.com/embed.js';
  s.setAttribute('data-timestamp', +new Date());
  (d.head || d.body).appendChild(s);
})();
</script>
</div>
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom">
  <h3 id="updates-and-corrections">Corrections</h3>
  <p>If you see mistakes or want to suggest changes, please <a href="https://github.com/christophj/cjaeckel.github.io/issues/new">create an issue</a> on the source repository.</p>
</div>
<!--/radix_placeholder_appendices-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<!--radix_placeholder_navigation_after_body--><html><body>
<div class="distill-site-nav distill-site-footer">
<p>Copyright 2021 <a href="https://www.linkedin.com/in/christoph-j%C3%A4ckel-97401127/">Christoph Jaeckel</a></p>
<p>Code shared on this website licensed under the <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License, v2.0</a>.</p>
</div>
<!--/radix_placeholder_navigation_after_body-->
</body></html>


</body>

</html>
